<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Yosuke Abe</title>
<link>https://yo5uke.github.io/tips/</link>
<atom:link href="https://yo5uke.github.io/tips/index.xml" rel="self" type="application/rss+xml"/>
<description></description>
<generator>quarto-1.5.57</generator>
<lastBuildDate>Mon, 16 Sep 2024 15:00:00 GMT</lastBuildDate>
<item>
  <title>【データハンドリング】pivot_longer()を使ってロング形式のパネルデータを作る</title>
  <link>https://yo5uke.github.io/tips/240917_pivot/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p>今回は<code>tidyr</code>の<code>pivot_longer()</code>を使ってワイド形式のデータをロング形式にする方法をご紹介します。</p>
</section>
<section id="使用するパッケージ" class="level2">
<h2 class="anchored" data-anchor-id="使用するパッケージ">使用するパッケージ</h2>
<p><code>tidyverse</code>を使用します。<code>tidyverse</code>には<code>dplyr</code>や<code>tidyr</code>をはじめとした諸パッケージが含まれているので、一括でやるのが便利で僕は好きです。</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span></code></pre></div>
</div>
</section>
<section id="データの準備" class="level2">
<h2 class="anchored" data-anchor-id="データの準備">データの準備</h2>
<p>今回は適当に作成していきます。</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(</span>
<span id="cb2-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Region_id =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, </span>
<span id="cb2-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Region =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Region1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Region2"</span>),</span>
<span id="cb2-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Income_2000 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">40000</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">35000</span>),</span>
<span id="cb2-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Income_2005 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42000</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">37000</span>),</span>
<span id="cb2-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Income_2010 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">45000</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">39000</span>),</span>
<span id="cb2-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Population_2000 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">500000</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">450000</span>),</span>
<span id="cb2-8">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Population_2005 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">520000</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">460000</span>),</span>
<span id="cb2-9">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Population_2010 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">540000</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">470000</span>)</span>
<span id="cb2-10">)</span></code></pre></div>
</div>
<div class="cell">
<div id="tbl-wide" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-wide-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
表&nbsp;1: ワイド形式のパネルデータ
</figcaption>
<div aria-describedby="tbl-wide-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_y71o8iojmdehx8l41z8s(i, j, css_id) {
        var table = document.getElementById("tinytable_y71o8iojmdehx8l41z8s");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_y71o8iojmdehx8l41z8s');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_y71o8iojmdehx8l41z8s(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_y71o8iojmdehx8l41z8s");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_y71o8iojmdehx8l41z8s(0, 0, 'tinytable_css_idybtucdycprxvn57r8p9m') })
window.addEventListener('load', function () { styleCell_y71o8iojmdehx8l41z8s(0, 1, 'tinytable_css_idybtucdycprxvn57r8p9m') })
window.addEventListener('load', function () { styleCell_y71o8iojmdehx8l41z8s(0, 2, 'tinytable_css_idybtucdycprxvn57r8p9m') })
window.addEventListener('load', function () { styleCell_y71o8iojmdehx8l41z8s(0, 3, 'tinytable_css_idybtucdycprxvn57r8p9m') })
window.addEventListener('load', function () { styleCell_y71o8iojmdehx8l41z8s(0, 4, 'tinytable_css_idybtucdycprxvn57r8p9m') })
window.addEventListener('load', function () { styleCell_y71o8iojmdehx8l41z8s(0, 5, 'tinytable_css_idybtucdycprxvn57r8p9m') })
window.addEventListener('load', function () { styleCell_y71o8iojmdehx8l41z8s(0, 6, 'tinytable_css_idybtucdycprxvn57r8p9m') })
window.addEventListener('load', function () { styleCell_y71o8iojmdehx8l41z8s(0, 7, 'tinytable_css_idybtucdycprxvn57r8p9m') })
    </script>

    <style>
    .table td.tinytable_css_idybtucdycprxvn57r8p9m, .table th.tinytable_css_idybtucdycprxvn57r8p9m {  border-bottom: solid 0.1em #d3d8dc; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_y71o8iojmdehx8l41z8s" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col">Region_id</th>
                <th scope="col">Region</th>
                <th scope="col">Income_2000</th>
                <th scope="col">Income_2005</th>
                <th scope="col">Income_2010</th>
                <th scope="col">Population_2000</th>
                <th scope="col">Population_2005</th>
                <th scope="col">Population_2010</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>1</td>
                  <td>Region1</td>
                  <td>40000</td>
                  <td>42000</td>
                  <td>45000</td>
                  <td>500000</td>
                  <td>520000</td>
                  <td>540000</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>Region2</td>
                  <td>35000</td>
                  <td>37000</td>
                  <td>39000</td>
                  <td>450000</td>
                  <td>460000</td>
                  <td>470000</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
<p>2つの地域について収入と人口のデータを作りました。</p>
<p>ポイントは、主要なデータにおいて<code>変数名_年</code>となっていることです。</p>
</section>
<section id="pivot_longerを使う" class="level2">
<h2 class="anchored" data-anchor-id="pivot_longerを使う"><code>pivot_longer()</code>を使う</h2>
<p>一番ベーシックなやり方は次の通りです。</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">df_long <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb3-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(</span>
<span id="cb3-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">starts_with</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Income_"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Population_"</span>)), </span>
<span id="cb3-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".value"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year"</span>), </span>
<span id="cb3-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"_"</span></span>
<span id="cb3-6">  )</span></code></pre></div>
</div>
<p><code>cols</code>ではロング形式に変換したい変数を指定しています。<code>dplyr</code>の<code>starts_with()</code>を使えば、複数年分の変数を一括で指定することができます。今回は<code>Income_</code>と<code>Population_</code>で始まる変数という意味です。</p>
<p><code>names_to</code>は新しい列名をどうするかを指定しています。<code>names_sep</code>で分割の区切りを指定しているのですが（この場合はアンダースコア）、その区切り前なら<code>.value</code>（すなわち、もとの名前のまま<sup>1</sup>）、区切り後は<code>Year</code>という列に格納するという意味です。</p>
<p>できたデータフレームは次のようになります。</p>
<div class="cell">
<div id="tbl-long" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-long-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
表&nbsp;2: ロング形式のパネルデータ
</figcaption>
<div aria-describedby="tbl-long-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_ffqycpk492q2hdug532r(i, j, css_id) {
        var table = document.getElementById("tinytable_ffqycpk492q2hdug532r");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_ffqycpk492q2hdug532r');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_ffqycpk492q2hdug532r(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_ffqycpk492q2hdug532r");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_ffqycpk492q2hdug532r(0, 0, 'tinytable_css_idlk12jo6jozigdn99r2p3') })
window.addEventListener('load', function () { styleCell_ffqycpk492q2hdug532r(0, 1, 'tinytable_css_idlk12jo6jozigdn99r2p3') })
window.addEventListener('load', function () { styleCell_ffqycpk492q2hdug532r(0, 2, 'tinytable_css_idlk12jo6jozigdn99r2p3') })
window.addEventListener('load', function () { styleCell_ffqycpk492q2hdug532r(0, 3, 'tinytable_css_idlk12jo6jozigdn99r2p3') })
window.addEventListener('load', function () { styleCell_ffqycpk492q2hdug532r(0, 4, 'tinytable_css_idlk12jo6jozigdn99r2p3') })
    </script>

    <style>
    .table td.tinytable_css_idlk12jo6jozigdn99r2p3, .table th.tinytable_css_idlk12jo6jozigdn99r2p3 {  border-bottom: solid 0.1em #d3d8dc; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_ffqycpk492q2hdug532r" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col">Region_id</th>
                <th scope="col">Region</th>
                <th scope="col">Year</th>
                <th scope="col">Income</th>
                <th scope="col">Population</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>1</td>
                  <td>Region1</td>
                  <td>2000</td>
                  <td>40000</td>
                  <td>500000</td>
                </tr>
                <tr>
                  <td>1</td>
                  <td>Region1</td>
                  <td>2005</td>
                  <td>42000</td>
                  <td>520000</td>
                </tr>
                <tr>
                  <td>1</td>
                  <td>Region1</td>
                  <td>2010</td>
                  <td>45000</td>
                  <td>540000</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>Region2</td>
                  <td>2000</td>
                  <td>35000</td>
                  <td>450000</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>Region2</td>
                  <td>2005</td>
                  <td>37000</td>
                  <td>460000</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>Region2</td>
                  <td>2010</td>
                  <td>39000</td>
                  <td>470000</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
<p>もし仮に、ロング形式に変換したい変数がすべてアンダースコアで区切られている場合<sup>2</sup>、<code>cols = contain("_")</code>とすれば、変数が多くても一気に指定することができます。ただ今回の場合、<code>Region_id</code>がありますからうまくいきませんね。使える場面は限られそうです。</p>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">おわりに</h2>
<p>今回はワイド形式のデータフレームをロング形式に変換する方法をご紹介しました。</p>
<p>僕自身<code>pivot_longer()</code>を使う時いつも何を指定すればいいんだっけ？となるので、備忘録的な意味合いが強いです😅</p>
<p>ご参考まで。</p>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>この場合なら<code>Income</code>や<code>Population</code>↩︎</p></li>
<li id="fn2"><p>逆に言うと、ほかの変数はアンダースコアが用いられていない場合↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>R</category>
  <category>データ処理</category>
  <guid>https://yo5uke.github.io/tips/240917_pivot/</guid>
  <pubDate>Mon, 16 Sep 2024 15:00:00 GMT</pubDate>
  <media:content url="https://yo5uke.github.io/tips/240917_pivot/image/computer_document_spreadsheet.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>市町村合併を反映させる</title>
  <link>https://yo5uke.github.io/tips/240906_municipality_converter/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p>市町村合併（平成の大合併）前のデータを使わなければならない場合に、うまく市町村コードを新使いながらパネルデータを作成する方法についてご紹介します。</p>
<p>この記事では<a href="https://keisukekondokk.github.io/">近藤恵介</a>先生（RIETI、神戸大学）が作成された市町村コンバーターを使用します。</p>
<p>以下のGitHubリポジトリよりダウンロードが可能です。</p>
<p><a href="https://github.com/keisukekondokk/municipality-converter" class="uri">https://github.com/keisukekondokk/municipality-converter</a></p>
</section>
<section id="方法" class="level2">
<h2 class="anchored" data-anchor-id="方法">方法</h2>
<section id="コンバーターファイルのダウンロードと読み込み" class="level3">
<h3 class="anchored" data-anchor-id="コンバーターファイルのダウンロードと読み込み">コンバーターファイルのダウンロードと読み込み</h3>
<p><a href="https://github.com/keisukekondokk/municipality-converter">GitHubリポジトリ</a>の<code>data_converter</code>内にある<code>municipality_converter_jp.csv</code>を開きます<sup>1</sup>。次のリンクから直接飛ぶことも可能です。</p>
<p><a href="https://github.com/keisukekondokk/municipality-converter/blob/master/data_converter/municipality_converter_jp.csv" class="uri">https://github.com/keisukekondokk/municipality-converter/blob/master/data_converter/municipality_converter_jp.csv</a></p>
<p><code>municipality_converter_jp.csv</code>を開くと、コード右上にあるダウンロードアイコン<sup>2</sup>より任意の場所にダウンロードが可能です。</p>
<p>ダウンロードできたら、Rで読み込みます。</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(here)</span>
<span id="cb1-3"></span>
<span id="cb1-4">converter <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/240906_municipality_converter/municipality_converter_jp.csv"</span>))</span></code></pre></div>
</div>
</section>
<section id="パネル化したいデータの準備" class="level3">
<h3 class="anchored" data-anchor-id="パネル化したいデータの準備">パネル化したいデータの準備</h3>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
使用するデータ
</div>
</div>
<div class="callout-body-container callout-body">
<p>今回使用するデータは<a href="https://drive.google.com/drive/folders/1UbZGB2yIjO9jpXuJIihU9-0INqGzLvQ5?usp=sharing">こちら</a>からダウンロードできます。</p>
</div>
</div>
<p>例えば人口データをパネル化したいとします。今回は例として、2000年から2005年の人口データ<sup>3</sup>を、2020年の市町村区分になるようにくっつけます。例なので、総人口のみを扱います。</p>
<p>今回使用するデータは次のようなファイルになっています。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240906_municipality_converter/image/population_data.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
<p>まずはこれらのファイル（自分がパネル化したいデータがあればそれらのファイル）をRで読み込んでください。<code>.xls</code>ファイルであれば<code>readxl</code>パッケージの<code>read_xls()</code>を僕は使っています。以下は5年分まとめて読み込むときの例です。</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(readxl)</span>
<span id="cb2-2"></span>
<span id="cb2-3"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (year <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2005</span>) {</span>
<span id="cb2-4">  obj <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_xls</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/240906_municipality_converter/"</span>, year, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0331.xls"</span>)), </span>
<span id="cb2-5">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb2-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>)</span>
<span id="cb2-7">  </span>
<span id="cb2-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colnames</span>(obj) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"code"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"prefecture"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"municipality"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"population"</span>)</span>
<span id="cb2-9">  </span>
<span id="cb2-10">  obj <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> obj <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb2-11">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">code =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(code) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%/%</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb2-12">  </span>
<span id="cb2-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">assign</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pop_"</span>, year), obj)</span>
<span id="cb2-14">}</span></code></pre></div>
<p>forループや<code>assign()</code>についての説明は行いませんが、これで2000年から2005年までを一括で読み込むことができます。ポイントは、今回使用するコンバーターはキーとなるコードが整数かつ下1桁を落としているため、<code>mutate(code = as.numeric(code) %/% 10)</code>で処理しているところです。</p>
<p>とりあえずここで重要なことは、<code>select()</code>で必要な列のみ取り出しているのですが、<strong>団体コードと人口の列は必ず取り出すこと</strong>です。市町村名も一応取り出していますが、別になくてもよいです。</p>
</section>
<section id="年の自治体コードを付与" class="level3">
<h3 class="anchored" data-anchor-id="年の自治体コードを付与">2020年の自治体コードを付与</h3>
<p>合併前のデータに、合併後の自治体コードを付与します。具体的には、人口データの<code>code</code>とコンバーターの<code>merge_id_muni</code>をキーにして<code>left_join()</code>し、<code>id_muni2020</code>を付与します。</p>
<p>これもまとめて6年分やりたいので、先ほどのコードに追記します。</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (year <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2005</span>) {</span>
<span id="cb3-2">  obj <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_xls</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/240906_municipality_converter/"</span>, year, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0331.xls"</span>)), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb3-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>)</span>
<span id="cb3-4">  </span>
<span id="cb3-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colnames</span>(obj) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"code"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"prefecture"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"municipality"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"population"</span>)</span>
<span id="cb3-6">  </span>
<span id="cb3-7">  obj <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> obj <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb3-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">code =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(code) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%/%</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb3-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(converter, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"code"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"merge_id_muni"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb3-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(code, prefecture, municipality, population, id_muni2020)</span>
<span id="cb3-11">  </span>
<span id="cb3-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">assign</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pop_"</span>, year), obj)</span>
<span id="cb3-13">}</span></code></pre></div>
<p>試しに<code>pop_2020</code>の変数名を<code>colnames(pop_2020)</code>などで確認してみると、code, prefecture, municipality, population, id_muni2020となっていることがわかります。</p>
</section>
<section id="id_muni2020を使ってサマライズ" class="level3">
<h3 class="anchored" data-anchor-id="id_muni2020を使ってサマライズ"><code>id_muni2020</code>を使ってサマライズ</h3>
<p>例えばB市とC市がA市に合併した場合、Aはもとから2020年基準の自治体コードを持っていますが、B市とC市は古い自治体コードを持っていて、新しく2020年の自治体コードを付与されています。</p>
<p>すなわち、<code>id_muni2020</code>の列を見ると、A市と同じ自治体コードをB市とC市は持っていることになります。</p>
<p>これを使うと、各自治体コードで人口を足し算すれば、現在の自治体区分における人口総数を算出することができます。これを実行するのが<code>summarise()</code>関数です。</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (year <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2005</span>) {</span>
<span id="cb4-2">  df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pop_"</span>, year))</span>
<span id="cb4-3">  </span>
<span id="cb4-4">  summarised_df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb4-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">population =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(population, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), </span>
<span id="cb4-6">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.by =</span> id_muni2020)</span>
<span id="cb4-7">  </span>
<span id="cb4-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">assign</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"summarised_pop_"</span>, year), summarised_df)</span>
<span id="cb4-9">}</span></code></pre></div>
</div>
<p>forループの中でデータフレーム名を取得するのは少々ややこしいですが、以上のような書き方で可能です。</p>
<p><code>summarise()</code>内では<code>.by</code>で指定した<code>id_muni2020</code>ごとに<code>population</code>を<code>sum()</code>するようになっています。<code>na.rm = TRUE</code>は、NAがあった場合に計算結果がNAにならないようにするために必要です。</p>
<p>以上を実行すると、<code>summarised_pop_2000</code>～<code>summarised_pop_2005</code>までが出来上がります。</p>
<p>ちなみにここで使っている変数が<code>id_muni2020</code>と<code>population</code>だけなので、出来上がったデータフレームもこの2つの変数しか入っていません。市町村名も残したい場合は、<code>.by</code>で<code>prefecture</code>と<code>municipality</code>も追加で指定すれば残すことができます。</p>
</section>
<section id="left_joinでくっつける" class="level3">
<h3 class="anchored" data-anchor-id="left_joinでくっつける"><code>left_join()</code>でくっつける</h3>
<p>2000年のデータフレームをベースとして2001～2005年を結合するので、最初に2000年のデータを<code>final_df</code>として格納しておきます。その際に変数名も2000年のものであることを明記します。</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">final_df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> summarised_pop_2000 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb5-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">population_2000 =</span> population)</span>
<span id="cb5-3"></span>
<span id="cb5-4"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (year <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2001</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2005</span>) {</span>
<span id="cb5-5">  df_to_join <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"summarised_pop_"</span>, year)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb5-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename_with</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(., <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"_"</span>, year), population)</span>
<span id="cb5-7">  </span>
<span id="cb5-8">  </span>
<span id="cb5-9">  final_df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(final_df, df_to_join, </span>
<span id="cb5-10">                        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"id_muni2020"</span>))</span>
<span id="cb5-11">}</span></code></pre></div>
</div>
<p><code>population</code>の列が複数出てくるので、それらの後が<code>_20xx</code>となるように<code>rename_with()</code>で設定しています。</p>
<p><code>final_df</code>が最終的なデータフレームです。確認してみてください。</p>
<p>以上の作業で合併前のデータを最新の市町村区分を基準として結合することができました。</p>
<p>これを応用して変数を追加したりロング形式に変換することが可能です。</p>
</section>
</section>
<section id="まとめ" class="level2">
<h2 class="anchored" data-anchor-id="まとめ">まとめ</h2>
<p>今回紹介したコードをまとめると以下の通りです。</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb6-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(here)</span>
<span id="cb6-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(readxl)</span>
<span id="cb6-4"></span>
<span id="cb6-5"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (year <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2005</span>) {</span>
<span id="cb6-6">  obj <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_xls</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/240906_municipality_converter/"</span>, year, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0331.xls"</span>)), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb6-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>)</span>
<span id="cb6-8">  </span>
<span id="cb6-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colnames</span>(obj) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"code"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"prefecture"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"municipality"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"population"</span>)</span>
<span id="cb6-10">  </span>
<span id="cb6-11">  obj <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> obj <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb6-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">code =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(code) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%/%</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb6-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(converter, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"code"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"merge_id_muni"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb6-14">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(code, prefecture, municipality, population, id_muni2020)</span>
<span id="cb6-15">  </span>
<span id="cb6-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">assign</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pop_"</span>, year), obj)</span>
<span id="cb6-17">}</span>
<span id="cb6-18"></span>
<span id="cb6-19"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (year <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2005</span>) {</span>
<span id="cb6-20">  df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pop_"</span>, year))</span>
<span id="cb6-21">  </span>
<span id="cb6-22">  summarised_df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb6-23">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">population =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(population, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), </span>
<span id="cb6-24">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.by =</span> id_muni2020)</span>
<span id="cb6-25">  </span>
<span id="cb6-26">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">assign</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"summarised_pop_"</span>, year), summarised_df)</span>
<span id="cb6-27">}</span>
<span id="cb6-28"></span>
<span id="cb6-29">final_df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> summarised_pop_2000 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb6-30">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">population_2000 =</span> population)</span>
<span id="cb6-31"></span>
<span id="cb6-32"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (year <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2001</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2005</span>) {</span>
<span id="cb6-33">  df_to_join <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"summarised_pop_"</span>, year)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb6-34">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename_with</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(., <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"_"</span>, year), population)</span>
<span id="cb6-35">  </span>
<span id="cb6-36">  </span>
<span id="cb6-37">  final_df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(final_df, df_to_join, </span>
<span id="cb6-38">                        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"id_muni2020"</span>))</span>
<span id="cb6-39">}</span></code></pre></div>
<p>さらに1つのコードで完結させる場合は次のようになります。</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb7-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(here)</span>
<span id="cb7-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(readxl)</span>
<span id="cb7-4"></span>
<span id="cb7-5"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (year <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2005</span>) {</span>
<span id="cb7-6">  obj <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_xls</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/240906_municipality_converter/"</span>, year, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0331.xls"</span>)), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb7-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>)</span>
<span id="cb7-8">  </span>
<span id="cb7-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colnames</span>(obj) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"code"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"prefecture"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"municipality"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"population"</span>)</span>
<span id="cb7-10">  </span>
<span id="cb7-11">  summarised_df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> obj <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb7-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">code =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(code) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%/%</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb7-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(converter, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"code"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"merge_id_muni"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb7-14">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(code, prefecture, municipality, population, id_muni2020) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb7-15">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">population =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(population, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.by =</span> id_muni2020)</span>
<span id="cb7-16">  </span>
<span id="cb7-17">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> (year <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000</span>) {</span>
<span id="cb7-18">    final_df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> summarised_df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb7-19">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">population_2000 =</span> population)</span>
<span id="cb7-20">  } <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span> {</span>
<span id="cb7-21">    summarised_df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> summarised_df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb7-22">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename_with</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"population_"</span>, year), population)</span>
<span id="cb7-23">    </span>
<span id="cb7-24">    final_df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(final_df, summarised_df, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"id_muni2020"</span>)</span>
<span id="cb7-25">  }</span>
<span id="cb7-26">}</span></code></pre></div>
<p>以上です。合併処理はめんどくさいので、少しでもお役に立てれば幸いです。</p>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>別に英語版でもよいです。↩︎</p></li>
<li id="fn2"><p>カーソルを合わせると「Download raw file」と出てきます。↩︎</p></li>
<li id="fn3"><p>住民基本台帳より↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>R</category>
  <category>データ処理</category>
  <guid>https://yo5uke.github.io/tips/240906_municipality_converter/</guid>
  <pubDate>Thu, 05 Sep 2024 15:00:00 GMT</pubDate>
</item>
<item>
  <title>【王道】TeX Liveを使ってLaTeX環境を構築する</title>
  <link>https://yo5uke.github.io/tips/240901_tex_live/</link>
  <description><![CDATA[ 




<section id="これぞ王道" class="level2">
<h2 class="anchored" data-anchor-id="これぞ王道">これぞ王道</h2>
<p>LaTeX環境でまず思い浮かぶのがTeX Liveを用いたローカル環境です。</p>
<p>本記事では設定方法を解説します。</p>
<p>なかなかややこしいと思いますが、これできっとローカルでもTeXファイルをコンパイル（PDF化）できるはずです！</p>
<p>現段階ではWindowsに対応した記事になっています。Mac版は今後更新します。</p>
<p>基本的な内容は以下のページを参考にしています。</p>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><a href="https://qiita.com/passive-radio/items/623c9a35e86b6666b89e">【大学生向け】LaTeX完全導入ガイド Windows編 (2022年)</a></p>
</div>
</div>
</div>
<p>簡潔に、かつ自分が設定して困った点を追記しています。</p>
<p>また、VSCodeはインストールしてある前提で進めます。</p>
</section>
<section id="インストーラーをダウンロード" class="level2">
<h2 class="anchored" data-anchor-id="インストーラーをダウンロード">インストーラーをダウンロード</h2>
<p>以下のリンクよりインストーラーをダウンロードします。</p>
<p><strong>Windows</strong>：<a href="https://www.tug.org/texlive/acquire-netinstall.html" class="uri">https://www.tug.org/texlive/acquire-netinstall.html</a></p>
<p>開いたら最初に出てくるリンクの<code>install-tl-windows.exe</code>をクリックしてダウンロードします。</p>
<p>ダウンロードできたら開いてください。</p>
</section>
<section id="インストールする" class="level2">
<h2 class="anchored" data-anchor-id="インストールする">インストールする</h2>
<p>開くと以下のようなメッセージが出るかもしれません。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240901_tex_live/image/texlive_protect.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
<p>その場合、詳細情報＞実行で進むことができます。進めて問題ありません。</p>
<ol type="1">
<li>Installが選択された状態でNext&gt;</li>
<li>Installを選択</li>
</ol>
<p>数秒待つと新たなウィンドウが登場し、さらに待機すると以下の画面が出てくると思います。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240901_tex_live/image/texlive_installer.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
<p>ここで、一番下の「TeXworksをインストール」はとりあえず要らないので、チェックを外してください。</p>
<p>さらに、左下の「高度な設定」に進みます。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240901_tex_live/image/texlive_advanced_setting.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
<p>ここでやることは2つです。</p>
<ul>
<li><p>「スキーム」を変更し、「basicスキーム（plainおよびlatex）」を選択します。</p></li>
<li><p>その下の「追加コレクションの数」をカスタマイズし、言語で日本語と英語・米語を追加、さらに右列にある「LaTeX推奨パッケージ」を追加します。</p></li>
</ul>
<p>OKを押して戻るとスキームがまたカスタムスキームに戻っていますが、問題ありません。</p>
<p>インストールを押してインストールしましょう。</p>
<p>めちゃくちゃ時間がかかりますが、辛抱強く待ちましょう。不安になって中止とか押さないように！</p>
<p>インストール画面の<code>Installing [001/399, ...]</code>を見てもらえればわかると思いますが、約400個のパッケージをインストールしています。時間がかかるわけですね…。</p>
<p>以下の画面になれば終わりなので、閉じるを押してください。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240901_tex_live/image/texlive_install_finish.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</section>
<section id="tex-live-managerを開く" class="level2">
<h2 class="anchored" data-anchor-id="tex-live-managerを開く">TeX Live Managerを開く</h2>
<p>アプリ一覧からTeX Live Managerを開いてください。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240901_tex_live/image/texlive_manager.png" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption>下から2番目のやつです。</figcaption>
</figure>
</div>
<p>開いたら、「パッケージリスト」の中にある「未インストール」を選択します。選択すると別ウィンドウが出てきますので、読み込みが完了するまで待機し、完了したら閉じてください。</p>
<p>検索窓で<code>latexmk</code>を入力します。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240901_tex_live/image/texlive_latexmk.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
<p>すると下に2つ候補が出てくるので、左側の丸をクリックして両方ともにチェックを入れます。</p>
<p>ウィンドウの真ん中右に「選択項目をインストール」があると思うので、チェックしたのちクリックしてください。</p>
</section>
<section id="sumatra-pdfのダウンロード任意" class="level2">
<h2 class="anchored" data-anchor-id="sumatra-pdfのダウンロード任意">Sumatra PDFのダウンロード（任意）</h2>
<p><strong>推奨する方</strong>：既定のPDFビュワーがAdobeの方</p>
<p>TeXファイルを一度コンパイルするとPDFビュワーで開くことになるのですが、AdobeではPDFを開いたまま再度コンパイルをすることができません。一度コンパイルた後に修正したい場合、PDFファイルを一度閉じて再度コンパイルする必要があります。</p>
<p>この面倒さを回避するためには、Sumatra PDFのようなPDFビュワーをしようするのがよいです。このビュワーではPDFファイルを開いたまま追加のコンパイルをすることができます。</p>
<p>以下のリンクからダウンロードページに行ってください。</p>
<p><a href="https://www.sumatrapdfreader.org/download-free-pdf-viewer" class="uri">https://www.sumatrapdfreader.org/download-free-pdf-viewer</a></p>
<p>自分の環境にあった（おそらくほとんどの人にとって一番上の）<code>.exe</code>ファイルをダウンロードします。</p>
<p>ダウンロードしたファイルを開くとカラフルなウィンドウが開きますので、インストールしてください。とりあえずこれでOKです。</p>
<p>既定にするかどうかはお任せします（僕はしてないです笑）。</p>
</section>
<section id="諸々の設定" class="level2">
<h2 class="anchored" data-anchor-id="諸々の設定">諸々の設定</h2>
<section id="latexmkrc" class="level3">
<h3 class="anchored" data-anchor-id="latexmkrc"><code>.latexmkrc</code></h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
拡張子の表示
</div>
</div>
<div class="callout-body-container callout-body">
<p>エクスプローラーで拡張子（<code>.pdf</code>や<code>.docs</code>など）が非表示になっている場合、表示する設定にしてください。エクスプローラー上部にある「表示」からさらに1番下の「表示」に進むと、「ファイル名拡張子」という項目があります。この項目にチェックを入れてください。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240901_tex_live/image/file_extention.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:30.0%"></p>
</figure>
</div>
</div>
</div>
<p>次に、エクスプローラーを開いてください。</p>
<p>開いたら左にあるバーの下部から<code>PC</code>&gt;<code>Windows (C:)</code>と進み、さらに<code>ユーザー</code>&gt;<code>[自分のユーザー名]</code>と進みます<sup>1</sup>。</p>
<p>左上の「新規作成」からテキストドキュメントを作成し、ファイル名は<code>.txt</code>もすべて消したうえで<code>.latexmkrc.</code>としてエンターを押します。最初と最後に<code>.</code>があるのを確認してください。</p>
<p>作成の際には最初と最後にドットを入れますが、作成されたファイルでは最後のドットは消えています。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240901_tex_live/image/latexmkrc.png" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption>できたファイルは`.latexmkrc`となっています。</figcaption>
</figure>
</div>
<p>作成できたら開きます。何で開くか聞かれると思いますが、（何で開いてもよいのですが）VSCodeでよいと思います。</p>
<p>開いたら以下の内容をコピペして保存し、閉じてください。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>.latexmkrc</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename=".latexmkrc" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 通常の LaTeX ドキュメントのビルドコマンド</span></span>
<span id="cb1-2"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$latex</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'uplatex %O -kanji=utf8 -no-guess-input-enc -synctex=1 -interaction=nonstopmode %S'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb1-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pdfLaTeX のビルドコマンド</span></span>
<span id="cb1-4"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$pdflatex</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'pdflatex %O -synctex=1 -interaction=nonstopmode %S'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb1-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># LuaLaTeX のビルドコマンド</span></span>
<span id="cb1-6"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$lualatex</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'lualatex %O -synctex=1 -interaction=nonstopmode %S'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># XeLaTeX のビルドコマンド</span></span>
<span id="cb1-8"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$xelatex</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'xelatex %O -no-pdf -synctex=1 -shell-escape -interaction=nonstopmode %S'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb1-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Biber, BibTeX のビルドコマンド</span></span>
<span id="cb1-10"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$biber</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'biber %O --bblencoding=utf8 -u -U --output_safechars %B'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb1-11"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$bibtex</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'upbibtex %O %B'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb1-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># makeindex のビルドコマンド</span></span>
<span id="cb1-13"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$makeindex</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'upmendex %O -o %D %S'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb1-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># dvipdf のビルドコマンド</span></span>
<span id="cb1-15"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$dvipdf</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'dvipdfmx %O -o %D %S'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb1-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># dvipd のビルドコマンド</span></span>
<span id="cb1-17"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$dvips</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'dvips %O -z -f %S | convbkmk -u &gt; %D'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb1-18"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$ps2pdf</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'ps2pdf.exe %O %S %D'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb1-19"></span>
<span id="cb1-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># PDF の作成方法を指定するオプション</span></span>
<span id="cb1-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## $pdf_mode = 0; PDF を作成しない。</span></span>
<span id="cb1-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## $pdf_mode = 1; $pdflatex を利用して PDF を作成。</span></span>
<span id="cb1-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## $pdf_mode = 2; $ps2pdf を利用して .ps ファイルから PDF を作成。</span></span>
<span id="cb1-24"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## pdf_mode = 3; $dvipdf を利用して .dvi ファイルから PDF を作成。</span></span>
<span id="cb1-25"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## $pdf_mode = 4; $lualatex を利用して .dvi ファイルから PDF を作成。</span></span>
<span id="cb1-26"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## $pdf_mode = 5; xdvipdfmx を利用して .xdv ファイルから PDF を作成。</span></span>
<span id="cb1-27"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$pdf_mode</span> = 4<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb1-28"></span>
<span id="cb1-29"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># PDF viewer の設定</span></span>
<span id="cb1-30"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$pdf_previewer</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"start %S"</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># "start %S": .pdf に関連付けられた既存のソフトウェアで表示する。</span></span></code></pre></div>
</div>
<p>ここでは<code>$pdf_previewer = "start %S"</code>となっていますが、これは既定のPDFビュワーで開くという設定です。</p>
<p>次に、先ほどインストールしたSumatra PDFで開く設定方法です。</p>
</section>
<section id="latexmkecsumatra-pdf-ver." class="level3">
<h3 class="anchored" data-anchor-id="latexmkecsumatra-pdf-ver."><code>.latexmkec</code>（Sumatra PDF ver.）</h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
隠しファイルの表示
</div>
</div>
<div class="callout-body-container callout-body">
<p>以下の設定をする場合は隠しファイルを表示する設定にする必要があります。先ほどの拡張子を表示する設定の下に「隠しファイル」という項目がありますので、そこにチェックを入れてください<sup>2</sup>。</p>
</div>
</div>
<p>内容は上のとほとんど同じです。Sumatra PDFで開くために、次のことを確認してください。</p>
<ol type="1">
<li>エクスプローラーを開く</li>
<li>先ほど<code>.latexmkrc</code>ファイルを作成したディレクトリの上の方に<code>AppData</code>があるのでダブルクリック</li>
<li><code>Local</code>&gt;<code>SumatraPDF</code>と進む</li>
<li><code>SumatraPDF.exe</code>を右クリックし、パスのコピーを選択</li>
<li>一番最後のイコールの後にペースト</li>
</ol>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 通常の LaTeX ドキュメントのビルドコマンド</span></span>
<span id="cb2-2"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$latex</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'uplatex %O -kanji=utf8 -no-guess-input-enc -synctex=1 -interaction=nonstopmode %S'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb2-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pdfLaTeX のビルドコマンド</span></span>
<span id="cb2-4"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$pdflatex</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'pdflatex %O -synctex=1 -interaction=nonstopmode %S'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb2-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># LuaLaTeX のビルドコマンド</span></span>
<span id="cb2-6"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$lualatex</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'lualatex %O -synctex=1 -interaction=nonstopmode %S'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb2-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># XeLaTeX のビルドコマンド</span></span>
<span id="cb2-8"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$xelatex</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'xelatex %O -no-pdf -synctex=1 -shell-escape -interaction=nonstopmode %S'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb2-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Biber, BibTeX のビルドコマンド</span></span>
<span id="cb2-10"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$biber</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'biber %O --bblencoding=utf8 -u -U --output_safechars %B'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb2-11"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$bibtex</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'upbibtex %O %B'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb2-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># makeindex のビルドコマンド</span></span>
<span id="cb2-13"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$makeindex</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'upmendex %O -o %D %S'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb2-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># dvipdf のビルドコマンド</span></span>
<span id="cb2-15"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$dvipdf</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'dvipdfmx %O -o %D %S'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb2-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># dvipd のビルドコマンド</span></span>
<span id="cb2-17"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$dvips</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'dvips %O -z -f %S | convbkmk -u &gt; %D'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb2-18"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$ps2pdf</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'ps2pdf.exe %O %S %D'</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb2-19"></span>
<span id="cb2-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># PDF の作成方法を指定するオプション</span></span>
<span id="cb2-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## $pdf_mode = 0; PDF を作成しない。</span></span>
<span id="cb2-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## $pdf_mode = 1; $pdflatex を利用して PDF を作成。</span></span>
<span id="cb2-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## $pdf_mode = 2; $ps2pdf を利用して .ps ファイルから PDF を作成。</span></span>
<span id="cb2-24"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## pdf_mode = 3; $dvipdf を利用して .dvi ファイルから PDF を作成。</span></span>
<span id="cb2-25"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## $pdf_mode = 4; $lualatex を利用して .dvi ファイルから PDF を作成。</span></span>
<span id="cb2-26"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## $pdf_mode = 5; xdvipdfmx を利用して .xdv ファイルから PDF を作成。</span></span>
<span id="cb2-27"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$pdf_mode</span> = 4<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb2-28"></span>
<span id="cb2-29"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># PDF viewer の設定</span></span>
<span id="cb2-30"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$pdf_previewer</span> = </span></code></pre></div>
<p>次のようになるはずです。</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$pdf_previewer</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C:\Users\ユーザー名\AppData\Local\SumatraPDF\SumatraPDF.exe"</span></span></code></pre></div>
<p>しかしこれで終わりではありません。最後に、パス内のバックスラッシュを二重にする必要があります！</p>
<p>最終的には次のようになります。</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$pdf_previewer</span> = <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C:</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Users</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">ユーザー名</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">AppData</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Local</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">SumatraPDF</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">SumatraPDF.exe"</span></span></code></pre></div>
<p>このコードをコピペしてユーザー名のところを自分のものに変えれば解決な気もしますね…笑</p>
<p>これでPDF出力の際にSumatra PDFで開かれるようになり、コンパイルのストレスが軽減されます。</p>
</section>
</section>
<section id="vscodeでコンパイル" class="level2">
<h2 class="anchored" data-anchor-id="vscodeでコンパイル">VSCodeでコンパイル</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
はじめに
</div>
</div>
<div class="callout-body-container callout-body">
<p>まず、VSCodeを既に開いている場合、一度閉じて再度開いてください。TeX Liveの設定を反映させるためです。</p>
</div>
</div>
<section id="設定" class="level3">
<h3 class="anchored" data-anchor-id="設定">設定</h3>
<p>画面左の拡張機能アイコン<img src="https://yo5uke.github.io/tips/240901_tex_live/image/extention_icon.png" class="img-fluid">を開き、検索窓に<code>James-Yu.latex-workshop</code>を入力します。これがLaTeX用の拡張機能です。</p>
<p>インストールしたら、VSCodeを再起動して設定を反映させます。</p>
<p>ここからの設定は以下の手順です。</p>
<ol type="1">
<li>左下の「管理」（設定アイコン）から「設定」をクリック</li>
<li>右上の「設定を開く」<img src="https://yo5uke.github.io/tips/240901_tex_live/image/json_icon.png" class="img-fluid">をクリック</li>
<li><code>{ }</code> の中に以下の内容をペースト、保存<sup>3</sup></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>settings.json</strong></pre>
</div>
<div class="sourceCode" id="cb5" data-filename="settings.json" style="background: #f1f3f5;"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb5-1"><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">日本語文書で単語移動を使うため、助詞や読点、括弧を区切り文字として指定する</span></span>
<span id="cb5-2">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"editor.wordSeparators":</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"./\\()\"'-:,.;&lt;&gt;~!@#$%^&amp;*|+=</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{}</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">`~?　、。「」【】『』（）！？てにをはがのともへでや",</span></span>
<span id="cb5-3"></span>
<span id="cb5-4">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">設定:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">LaTeX</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Workshop</span></span>
<span id="cb5-5"></span>
<span id="cb5-6">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">LaTeX</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Workshop</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">ではビルド設定を「Tool」と「Recipe」という2つで考える</span></span>
<span id="cb5-7">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span>   <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Tool:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">実行される1つのコマンド。コマンド</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(command)</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">と引数</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(args)</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">で構成される</span></span>
<span id="cb5-8">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span>   <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Recipe:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Tool</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">の組み合わわせを定義する。Tool</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">の組み合わせ</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(tools)</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">で構成される。</span></span>
<span id="cb5-9">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span>           <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">tools</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">の中で利用される</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Tool</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">は</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"latex-workshop.latex.tools"</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">で定義されている必要がある。</span></span>
<span id="cb5-10">    </span>
<span id="cb5-11">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">latex-workshop.latex.tools:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Tool</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">の定義</span></span>
<span id="cb5-12">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"latex-workshop.latex.tools":</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-13">      </span>
<span id="cb5-14">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">latexmk</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">を利用した</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">lualatex</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">によるビルドコマンド</span></span>
<span id="cb5-15">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-16">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Latexmk (LuaLaTeX)"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-17">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"command"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"latexmk"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-18">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"args"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-19">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-f"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-gg"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-pv"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-lualatex"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-synctex=1"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-interaction=nonstopmode"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-file-line-error"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%DOC%"</span></span>
<span id="cb5-20">          <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb5-21">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-22">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">latexmk</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">を利用した</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">xelatex</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">によるビルドコマンド</span></span>
<span id="cb5-23">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-24">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Latexmk (XeLaTeX)"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-25">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"command"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"latexmk"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-26">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"args"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-27">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-f"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-gg"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-pv"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-xelatex"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-synctex=1"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-interaction=nonstopmode"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-file-line-error"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%DOC%"</span></span>
<span id="cb5-28">          <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb5-29">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-30">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">latexmk</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">を利用した</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">uplatex</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">によるビルドコマンド</span></span>
<span id="cb5-31">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-32">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Latexmk (upLaTeX)"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-33">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"command"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"latexmk"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-34">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"args"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-35">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-f"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-gg"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-pv"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-synctex=1"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-interaction=nonstopmode"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-file-line-error"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%DOC%"</span></span>
<span id="cb5-36">          <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb5-37">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-38">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">latexmk</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">を利用した</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">platex</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">によるビルドコマンド</span></span>
<span id="cb5-39">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">古い</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">LaTeX</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">のテンプレートを使いまわしている</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(ドキュメントクラスが</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">jreport</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">や</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">jsreport</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">)</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">場合のため</span></span>
<span id="cb5-40">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-41">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Latexmk (pLaTeX)"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-42">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"command"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"latexmk"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-43">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"args"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-44">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-f"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-gg"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-pv"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-latex='platex'"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-latexoption='-kanji=utf8 -no-guess-input-env'"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-synctex=1"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-interaction=nonstopmode"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-file-line-error"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%DOC%"</span></span>
<span id="cb5-45">          <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb5-46">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-47">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-48"></span>
<span id="cb5-49">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">latex-workshop.latex.recipes:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Recipe</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">の定義</span></span>
<span id="cb5-50">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"latex-workshop.latex.recipes":</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-51">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">LuaLaTeX</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">で書かれた文書のビルドレシピ</span></span>
<span id="cb5-52">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-53">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LuaLaTeX"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-54">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"tools"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-55">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Latexmk (LuaLaTeX)"</span></span>
<span id="cb5-56">          <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb5-57">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-58">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">XeLaTeX</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">で書かれた文書のビルドレシピ</span></span>
<span id="cb5-59">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-60">          </span>
<span id="cb5-61">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"XeLaTeX"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-62">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"tools"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-63">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Latexmk (XeLaTeX)"</span></span>
<span id="cb5-64">          <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb5-65">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-66">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">LaTeX(upLaTeX)</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">で書かれた文書のビルドレシピ</span></span>
<span id="cb5-67">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-68">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"upLaTeX"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-69">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"tools"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-70">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Latexmk (upLaTeX)"</span></span>
<span id="cb5-71">          <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb5-72">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-73">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">LaTeX(pLaTeX)</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">で書かれた文書のビルドレシピ</span></span>
<span id="cb5-74">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-75">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pLaTeX"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-76">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"tools"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-77">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Latexmk (pLaTeX)"</span></span>
<span id="cb5-78">          <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb5-79">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-80">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-81"></span>
<span id="cb5-82">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">latex-workshop.latex.magic.args:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">マジックコメント付きの</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">LaTeX</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">ドキュメントをビルドする設定</span></span>
<span id="cb5-83">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">'%!TEX'</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">で始まる行はマジックコメントと呼ばれ、LaTeX</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">のビルド時にビルドプログラムに解釈され、</span></span>
<span id="cb5-84">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">プログラムの挙動を制御する事ができる。</span></span>
<span id="cb5-85">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">参考リンク:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">https://blog.miz-ar.info/2016/11/magic-comments-in-tex/</span></span>
<span id="cb5-86">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"latex-workshop.latex.magic.args":</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-87">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-f"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-gg"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-pv"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-synctex=1"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-interaction=nonstopmode"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-file-line-error"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%DOC%"</span></span>
<span id="cb5-88">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-89"></span>
<span id="cb5-90">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">latex-workshop.latex.clean.fileTypes:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">クリーンアップ時に削除されるファイルの拡張子</span></span>
<span id="cb5-91">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">LaTeX</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">文書はビルド時に一時ファイルとしていくつかのファイルを生成するが、最終的に必要となるのは</span></span>
<span id="cb5-92">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">PDF</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">ファイルのみである場合などが多い。また、LaTeX</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">のビルド時に失敗した場合、失敗時に生成された</span></span>
<span id="cb5-93">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">一時ファイルの影響で、修正後のビルドに失敗してしまう事がよくある。そのため、一時的なファイルを</span></span>
<span id="cb5-94">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">削除する機能</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(クリーンアップ)</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">が</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">LaTeX</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Workshop</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">には備わっている。</span></span>
<span id="cb5-95">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"latex-workshop.latex.clean.fileTypes":</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-96">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.aux"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.bbl"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.blg"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.idx"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.ind"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.lof"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.lot"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.out"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.toc"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.acn"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.acr"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.alg"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.glg"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.glo"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.gls"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.ist"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.fls"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.log"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.fdb_latexmk"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.synctex.gz"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-97">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">for</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Beamer</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">files</span></span>
<span id="cb5-98">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"_minted*"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.nav"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.snm"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.vrb"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-99">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-100"></span>
<span id="cb5-101">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">latex-workshop.latex.autoClean.run:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">ビルド失敗時に一時ファイルのクリーンアップを行うかどうか</span></span>
<span id="cb5-102">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">上記説明にもあったように、ビルド失敗時に生成された一時ファイルが悪影響を及ぼす事があるため、自動で</span></span>
<span id="cb5-103">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">クリーンアップがかかるようにしておく。</span></span>
<span id="cb5-104"></span>
<span id="cb5-105">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"latex-workshop.latex.autoClean.run":</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"onBuilt",</span></span>
<span id="cb5-106"></span>
<span id="cb5-107">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">latex-workshop.view.pdf.viewer:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">PDF</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">ビューアの開き方</span></span>
<span id="cb5-108">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">VSCode</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">自体には</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">PDF</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">ファイルを閲覧する機能が備わっていないが、</span></span>
<span id="cb5-109">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">LaTeX</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Workshop</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">にはその機能が備わっている。</span></span>
<span id="cb5-110">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"tab"</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">オプションを指定すると、今開いているエディタを左右に分割し、右側に生成されたPDFを表示するようにしてくれる</span></span>
<span id="cb5-111">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">この</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">PDF</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">ビュアーは</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">LaTeX</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">のビルドによって更新されると同期して内容を更新してくれる。</span></span>
<span id="cb5-112">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"latex-workshop.view.pdf.viewer":</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"tab",</span></span>
<span id="cb5-113"></span>
<span id="cb5-114">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">latex-workshop.latex.autoBuild.run:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.tex</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">ファイルの保存時に自動的にビルドを行うかどうか</span></span>
<span id="cb5-115">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">LaTeX</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">ファイルは</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.tex</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">ファイルを変更後にビルドしないと、PDF</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">ファイル上に変更結果が反映されないため、</span></span>
<span id="cb5-116">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.tex</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">ファイルの保存と同時に自動的にビルドを実行する設定があるが、文書が大きくなるに連れてビルドにも</span></span>
<span id="cb5-117">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">時間がかかってしまい、ビルドプログラムの負荷がエディタに影響するため、無効化しておく。</span></span>
<span id="cb5-118">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"latex-workshop.latex.autoBuild.run":</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"never",</span></span>
<span id="cb5-119"></span>
<span id="cb5-120">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">tex</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">":</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-121">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">スニペット補完中にも補完を使えるようにする</span></span>
<span id="cb5-122">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"editor.suggest.snippetsPreventQuickSuggestions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">false</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-123">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">インデント幅を2にする</span></span>
<span id="cb5-124">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"editor.tabSize"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb5-125">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-126"></span>
<span id="cb5-127">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">latex</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">":</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-128">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">スニペット補完中にも補完を使えるようにする</span></span>
<span id="cb5-129">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"editor.suggest.snippetsPreventQuickSuggestions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">false</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-130">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">インデント幅を2にする</span></span>
<span id="cb5-131">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"editor.tabSize"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb5-132">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-133"></span>
<span id="cb5-134">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">bibtex</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">":</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-135">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">インデント幅を2にする</span></span>
<span id="cb5-136">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"editor.tabSize"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb5-137">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-138"></span>
<span id="cb5-139"></span>
<span id="cb5-140">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">----------</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">LaTeX</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Workshop</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">----------</span></span>
<span id="cb5-141"></span>
<span id="cb5-142">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">使用パッケージのコマンドや環境の補完を有効にする</span></span>
<span id="cb5-143">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"latex-workshop.intellisense.package.enabled":</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">true,</span></span></code></pre></div>
</div>
</section>
<section id="いよいよコンパイル" class="level3">
<h3 class="anchored" data-anchor-id="いよいよコンパイル">いよいよコンパイル</h3>
<p>エクスプローラー上で好きな場所にフォルダーを作っておきます。</p>
<p>お試しなので<code>test</code>とかでよいと思います。</p>
<p>VSCode上でウィンドウ左上の「ファイル」から「フォルダーを開く」をクリック、今作成したフォルダをクリックし、「選択」をクリックします。</p>
<p>左上の<code>TEST</code>の右にある「ファイルを作成」をクリックし、<code>test.tex</code>のような<code>.tex</code>ファイルを作成します。</p>
<p>作成できたら、以下のようなサンプルコードを書いてみます。</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb6-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">\documentclass</span>{<span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ltjsarticle</span>}</span>
<span id="cb6-2"></span>
<span id="cb6-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">\title</span>{日本語のLaTeX入門}</span>
<span id="cb6-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">\author</span>{あなたの名前}</span>
<span id="cb6-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">\date</span>{<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">\today</span>}</span>
<span id="cb6-6"></span>
<span id="cb6-7"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">\begin</span>{<span class="ex" style="color: null;
background-color: null;
font-style: inherit;">document</span>}</span>
<span id="cb6-8"></span>
<span id="cb6-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">\maketitle</span></span>
<span id="cb6-10"></span>
<span id="cb6-11"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">\section</span>{はじめに}</span>
<span id="cb6-12">LaTeXは、高品質な文書を作成するための強力なツールです。日本語でも簡単に利用することができます。</span>
<span id="cb6-13"></span>
<span id="cb6-14"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">\section</span>{基本的な書き方}</span>
<span id="cb6-15">LaTeXでは、文章をセクションやパラグラフに分けることができます。また、数式や図表の挿入も簡単に行えます。</span>
<span id="cb6-16"></span>
<span id="cb6-17"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">\section</span>{結論}</span>
<span id="cb6-18">LaTeXを使えば、美しい日本語の文書を作成することができます。ぜひ活用してみてください。</span>
<span id="cb6-19"></span>
<span id="cb6-20"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">\end</span>{<span class="ex" style="color: null;
background-color: null;
font-style: inherit;">document</span>}</span></code></pre></div>
<p>ファイルを<code>Ctrl</code> + <code>S</code>で保存したら、右上の緑の▷、ビルドボタンをクリックしてコンパイルしましょう！</p>
<p>すると以下のようなSumatra PDFのウィンドウが出てくるのではないでしょうか。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240901_tex_live/image/output_sumatrapdf.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></p>
</figure>
</div>
<p>いい感じですね。そしたらSumatra PDFの魅力を感じるために、適当に内容を変え、再度コンパイルしてみてください。</p>
<p>Sumatra PDFを一度閉じなくても、修正されたPDFが出てくるのではないでしょうか。Adobeではこれができません。</p>
<p>先ほど別にいっかーと思ってインストールしてなかった方、してみてはいかがでしょうか笑</p>
</section>
</section>
<section id="エラーパッケージ不足" class="level2">
<h2 class="anchored" data-anchor-id="エラーパッケージ不足">エラー：パッケージ不足</h2>
<p>いつかパッケージが足りなくてコンパイルできなくなることがあるかもしれません。</p>
<p>次のようなエラーが出てきた場合、「Open compiler log」をクリックします。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240901_tex_live/image/compile_error.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
<p>ログを少し上に遡ると、例えば次のような文言が目に入ります。</p>
<pre><code>! LaTeX Error: File `type1cm.sty' not found.</code></pre>
<p>これは<code>type1cmパッケージ</code>が足りていないことを指しています。</p>
<p>そしたら最初の方で開いたTeX Live Managerを開き、<code>latexmk</code>の時と同様に未インストールを選択したうえで検索窓に<code>type1cm</code>と入力します。</p>
<p>出てきた項目にチェックを入れ、「選択項目をインストール」をクリックしてインストールしてください。</p>
<p>これでパッケージを補い、コンパイルできるはずです。まだ足りなかったら、同様の方法でインストールすることで対処できます。</p>
</section>
<section id="最後に" class="level2">
<h2 class="anchored" data-anchor-id="最後に">最後に</h2>
<p>これで基本的なLaTeX環境の構築ができました。</p>
<p>冒頭に紹介したサイトにかなり頼る形にはなりましたが、自分が詰まったところは改善して追記してあります。</p>
<p>不明点があれば元サイトを参照していただくか、コメントをお願いします。</p>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>OneDriveフォルダやダウンロードフォルダ、ビデオフォルダなどがあるところです。↩︎</p></li>
<li id="fn2"><p>先ほどの画像を確認していただくと、「隠しファイル」にチェックが入っているのが確認できると思います。↩︎</p></li>
<li id="fn3"><p><code>{ }</code>は消さないでください。また、既に何か書き込まれている場合、前の内容の最後をカンマで区切り、改行したうえで貼り付けてください。↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>LaTeX</category>
  <category>VSCode</category>
  <guid>https://yo5uke.github.io/tips/240901_tex_live/</guid>
  <pubDate>Sat, 31 Aug 2024 15:00:00 GMT</pubDate>
  <media:content url="https://yo5uke.github.io/tips/240901_tex_live/image/texlive_installer.png" medium="image" type="image/png" height="140" width="144"/>
</item>
<item>
  <title>DVCのためのGoogle Cloud Project</title>
  <link>https://yo5uke.github.io/tips/240831_google_cloud_project/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p>以下の記事で紹介した開発コンテナですが、そのままやるとDVCの認証プロセスでエラーが出ます。</p>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><a href="../240504_container/index.html">開発コンテナを使って R 環境を構築！</a></p>
</div>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240831_google_cloud_project/image/dvc_error.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>認証を進めるとこのように出てきます。</figcaption>
</figure>
</div>
<p>もしかすると今後対応されて何の問題もなく使えるようになるかもしれませんが、公式で推奨されているGoogle Cloud Projectを使えばこの問題に対処できるため、今回はその方法についてまとめていきます。</p>
</section>
<section id="手順" class="level2">
<h2 class="anchored" data-anchor-id="手順">手順</h2>
<p>まず前提として、以下のコマンドまでは問題なく行えます。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="Terminal" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">dvc</span> init <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">dvc</span> remote add <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span> myremote gdrive://[Google DriveのフォルダID]</span></code></pre></div>
</div>
<p>ここからさらに<code>dvc push</code>や<code>dvc pull</code>を行おうとするときに先ほどの画面が出てきます。</p>
<p>先述の通りGoogle Cloud Projectを使えば対処できますので、その設定を行います。</p>
<ol type="1">
<li>次のリンクからGoogle API Consoleにアクセス
<ul>
<li><a href="https://console.developers.google.com/" class="uri">https://console.developers.google.com/</a></li>
<li>なにやら同意を求められた場合は同意して進めて下さい。</li>
<li>使いたいGoogleアカウントでログインしていることを確認してください。</li>
</ul></li>
<li>「プロジェクトを作成」を選択</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240831_google_cloud_project/image/google-api-create.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>初めてであれば画面右に出てきます。</figcaption>
</figure>
</div>
<ol start="3" type="1">
<li>プロジェクト名を設定し、作成する
<ul>
<li>こだわりがなければそのままで大丈夫です。</li>
<li>場所も無視して下さい。</li>
</ul></li>
<li>「APIとサービスを有効にする」を選択
<ul>
<li>3の手順を踏むと「APIとサービス」の右に出てきます。</li>
</ul></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240831_google_cloud_project/image/google-api-enable.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
<ol start="5" type="1">
<li>Google Drive APIに入り、「有効にする」をクリック
<ul>
<li>少し下にあります。</li>
</ul></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240831_google_cloud_project/image/google-drive-api-enable.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>有効にします</figcaption>
</figure>
</div>
<ol start="6" type="1">
<li>OAuth同意画面
<ul>
<li>画面左の「OAuth 同意画面」に入り、外部を選択して作成します。</li>
<li>アプリ名は何でもいいです（例：DVC remote storage）。</li>
<li>ユーザーサポートメールとデベロッパーの連絡先情報は自分のメールアドレスを入れ、その他は空欄でよいです。</li>
<li>保存して次へ、その次は無視して保存して次へ、最後にAdd usersで自分のメールアドレス（使っているGoogleアカウントのGmailアドレス）を入れて追加し、保存して次へを押して下さい。</li>
</ul></li>
<li>認証情報を作成
<ul>
<li>画面左の「認証情報」に入り、上部に出てくる「認証情報を作成」から「OAuth クライアント ID」を選択して下さい。</li>
<li>アプリケーションの種類は、「デスクトップ アプリ」、名前はそのままでよいので、作成して下さい。</li>
</ul></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240831_google_cloud_project/image/google-api-credentials.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
<p>ここまでが第1段階です。クライアントIDとクライアントシークレットが表示されていると思いますが、これは後から確認できるのでOKで閉じても大丈夫です。</p>
<p>一応どこかにコピーして控えておくと楽かもしれません。</p>
</section>
<section id="vscode" class="level2">
<h2 class="anchored" data-anchor-id="vscode"><span class="citation" data-cites="VSCode">@VSCode</span></h2>
<p>VSCodeに戻ります。</p>
<p><code>Ctrl</code> ＋ <code>J</code><sup>1</sup>でターミナルを開き、次のコードを入力します。</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">dvc</span> remote modify <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--local</span> myremote gdrive_client_id <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'client-id'</span></span></code></pre></div>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">dvc</span> remote modify <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--local</span> myremote gdrive_client_secret <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'client-secret'</span></span></code></pre></div>
<p>ここで、<code>client-id</code>と<code>client-secret</code>は先ほどのクライアントIDとクライアントシークレットに置き換えて、それぞれ実行してください（シングルクォーテーションは残してください）。</p>
<p>これで第2段階も終了しました。</p>
<p><code>dvc push</code>や<code>dvc pull</code>を実行すると、今度はブロックされずに進められるのではないでしょうか。途中「続行」を選ぶところがあれば、選んで進めてください。</p>
<p>認証が成功したら、VSCodeに戻るとプッシュやプルが進められているはずです。</p>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">おわりに</h2>
<p>なにやら面倒な設定でしたが、今のところこれが（多分）唯一の解決策っぽいです。</p>
<p>そもそもDVCを使わずにデータもGitHubで実行すればという話でもあるのですが、データサイズの制約もありますので、自分のプロジェクトに合わせて使ってもらえればと思います。</p>
<p>Google Cloud Projectは普段あまり使うことがないと思うので、お役に立てれば幸いです。</p>
<p>うまくいかないことがあればコメントください。</p>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>Macなら<code>⌘</code> ＋ <code>J</code>↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>DVC</category>
  <category>備忘録</category>
  <guid>https://yo5uke.github.io/tips/240831_google_cloud_project/</guid>
  <pubDate>Fri, 30 Aug 2024 15:00:00 GMT</pubDate>
</item>
<item>
  <title>【RStudio】ローカルへのインストールまとめ</title>
  <link>https://yo5uke.github.io/tips/240829_local_r/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p>ローカルへのRのインストール方法についてまとめます。これまでの記事でご紹介した開発コンテナとは違い、特に事前準備はいりません。</p>
<p>こんなニッチなサイトを見てくれている方には必要ない気もしますが、Stata出身の方々や実証が初めての方々に向けて…</p>
<p>あと、シンプルにリンク探すの面倒ですよね、まとめます。</p>
</section>
<section id="結論" class="level2">
<h2 class="anchored" data-anchor-id="結論">結論</h2>
<p>以下のリンクに書いてあるものがすべてです。</p>
<p><a href="https://posit.co/download/rstudio-desktop/" class="uri">https://posit.co/download/rstudio-desktop/</a></p>
</section>
<section id="さすがに" class="level2">
<h2 class="anchored" data-anchor-id="さすがに">さすがに…</h2>
<p>こんなんで説明になるわけがないので、設定なども含めてもう少し説明します。</p>
<p>まず、Rを使うには、「R」と、「RStudio」が必要です<sup>1</sup>。</p>
<p>Rは調理用具で、RStudioはキッチンだと思ってもらえればよいのではないでしょうか。Rという用具だけでも料理はできるけど、RStudioという環境が整っているほうが料理が効率的にスムーズに行えると思います。</p>
<p>この観点からすれば、RStudioは必ずしも要るわけではないのかもしれませんが、わざわざキッチン以外で料理する人はいませんよね…笑</p>
</section>
<section id="rをインストール" class="level2">
<h2 class="anchored" data-anchor-id="rをインストール">1. Rをインストール</h2>
<p>以下のリンクを開き、自分の環境に合わせて「Download R for…」を選びます。</p>
<p><a href="https://cran.rstudio.com/" class="uri">https://cran.rstudio.com/</a></p>
<p>進んだら、上部に出てくる「base」をクリックして次に行きます。</p>
<p>次に「Download R-4.4.1 for Windows」のように出てくるので、そこをクリックするとインストーラーがダウンロードできます。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240829_local_r/image/download_r.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
<p>ダウンロードできたらそのファイルを開き、インストールを開始します。</p>
<ol type="1">
<li>言語を決めて次へ</li>
<li>情報を読んで次へ</li>
<li>インストール先はデフォルトのまま次へ</li>
<li>コンポーネントもデフォルトのまま次へ</li>
<li>起動時オプションもデフォルトのまま次へ</li>
<li>スタートメニューフォルダーもデフォルトのまま次へ</li>
<li>追加タスクもデフォルトのまま次へ
<ul>
<li>先ほども言った通り作業はRStudioでするので、デスクトップにアイコンを置いたところで使うことはないため、必要なければそのチェックを外してください。</li>
</ul></li>
<li>インストール完了</li>
</ol>
<p>以上でインストールができました。</p>
</section>
<section id="rstudioのインストール" class="level2">
<h2 class="anchored" data-anchor-id="rstudioのインストール">2. RStudioのインストール</h2>
<p>次にキッチンであるRStudioをインストールします。</p>
<p>以下のリンクの「DOWNLOAD RSTUDIO DESKTOP FOR…」をクリックするとインストーラーをダウンロードできます。</p>
<p><a href="https://posit.co/download/rstudio-desktop/" class="uri">https://posit.co/download/rstudio-desktop/</a></p>
<p>先ほどと同様ダウンロードできたファイルを開いてインストールを開始します。</p>
<p>Rほどいろいろ考えることはなく、デフォルトのまま進んでインストールすれば完了です。</p>
<p>これでRStudioをインストールできました。開いて作業を進めましょう！</p>
</section>
<section id="rstudioの設定" class="level2">
<h2 class="anchored" data-anchor-id="rstudioの設定">3. RStudioの設定</h2>
<p>そのまま作業を始めてもよいのですが、少し設定を覗いてみましょう。</p>
<p>画面上部のToolsからGlobal Options…へ進みます。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240829_local_r/image/rstudio-setting1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
<p>いろいろな項目がありますが、ここでは簡潔に関係ありそうなところを説明します。</p>
<section id="デフォルトのワーキングディレクトリ" class="level3">
<h3 class="anchored" data-anchor-id="デフォルトのワーキングディレクトリ">デフォルトのワーキングディレクトリ</h3>
<p>1番上のGeneralの中にDefault working directoryという項目があります。ワーキングディレクトリの説明は長くなるので端折りますが、ここで設定が可能です。</p>
<p>デフォルトでは「~」ですが<sup>2</sup>、必要に応じて変えてください。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240829_local_r/image/rstudio-setting2.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>C:/Users/yo5ukにデフォルトを変更しました。</figcaption>
</figure>
</div>
</section>
<section id="パイプ演算子" class="level3">
<h3 class="anchored" data-anchor-id="パイプ演算子">パイプ演算子</h3>
<p>もはやRユーザーにはおなじみのパイプ演算子ですが、Tidyverseが提供する<code>%&gt;%</code>と、base Rが提供する<code>|&gt;</code><sup>3</sup>の2種類があり、キーボードショートカットでどちらを使うか決められます。デフォルトは<code>%&gt;%</code>です。</p>
<p>正直どちらを使うのかはお好みというか、厳密に違いはあるのですが、普段使っていてどちらかでないと困るようなことには遭遇しませんので、変えても変えなくても問題ありません。</p>
<p>上から2番目のCodeの中にある「Use native pipe operator, |&gt;」にチェックを入れるとショートカットで<code>|&gt;</code>が出るようになります。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240829_local_r/image/rstudio-setting3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
<p>ちなみに、ショートカットは<code>Ctrl</code> (Macなら⌘) + <code>Shift</code> + <code>M</code>です。</p>
</section>
<section id="テーマやフォント" class="level3">
<h3 class="anchored" data-anchor-id="テーマやフォント">テーマやフォント</h3>
<p>上から4番目のAppearanceではRStudioのテーマやフォントを変更できます。</p>
<p>特にEditor fontとEditor themeが主な変更点になると思います。</p>
<p>いろいろ試してみるとよいと思います。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240829_local_r/image/rstudio-setting4.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>フォントをCascadia Code Lightに、テーマをTomorrow Nightに変更しました。</figcaption>
</figure>
</div>
</section>
<section id="レイアウトの変更" class="level3">
<h3 class="anchored" data-anchor-id="レイアウトの変更">レイアウトの変更</h3>
<p>RStudioのデフォルトでは左上にスクリプト、左下にコンソール、右上に変数等、右下にファイル等が表示されるようになっています。</p>
<p>例えば僕は、スクリプトの表示割合を増やしたく、さらにコンソールも並べて見たいと思っているので、パネルの配置を変更しています。</p>
<p>上から5番目のPane Layoutで変更します。</p>
<p>僕の変更後の配置は次の通りです。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240829_local_r/image/rstudio-setting5.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>Source（スクリプト）とConsoleが横に並ぶように設定を変えています。</figcaption>
</figure>
</div>
<p>確認時以外は変数は表示しなくてよいので、Sourceパネル右上にある<img src="https://yo5uke.github.io/tips/240829_local_r/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplYmFhMjY0ZC05Y2NiLTQ0OGQtYmQ3Zi0yYjEzY2U1NzM3ZTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Q0MxRThDMDhGOUI5MTFFNkI1MjA5MzExNzcwNUREOTYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Q0MxRThDMDdGOUI5MTFFNkI1MjA5MzExNzcwNUREOTYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDplYThlMzQ1YS0xZTZlLTQ5MTQtODViNC1lOGJmYTI3ZmFkOTQiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozMjBjMGFiZS00MGQzLTExN2EtYjhmOS1kMTcyMzliNGI4YjAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7BBzUcAAAAe0lEQVR42mJsnziNgZ6AiYHOAGahKhCvBeKPQPyfyvgj1GyQHQwsQKwOxCeAWIBGnuID4iAgdgJiC5AP22hoGTIA2dEGstCFjlHoxgT1Mr0AD91TKQsSm5HGdv0f0Hw4auGohaMWjlo4auGohcTVh/+HrQ8Zh3UcAgQYAL+OHwm1Mu46AAAAAElFTkSuQmCC" class="img-fluid">で左半分をスクリプトにしています。</p>
</section>
<section id="sweaveの設定" class="level3">
<h3 class="anchored" data-anchor-id="sweaveの設定">Sweaveの設定</h3>
<p>そのうちTinyTeXを使ってRStudio上で文書作成などをすることになることもあるかと思います。そんなときのための設定です。</p>
<p>中央下あたりのSweaveから「Typeset LaTeX into PDF using: 」をXeLaTeXに設定、その下の「Use tinytex when compiling .tex files」にチェックを入れます。</p>
<p>これでいつしかTinyTeXを使う時でも問題なしです。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240829_local_r/image/rstudio-setting6.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
<p>設定はこんなところではないでしょうか。</p>
<p>1番下のCopilot、これはGitHub Copilotでめんどくさい申請をしてでも使うべきだと思っているのですが、RStudioとは相性最悪なのでおすすめしません。VSCodeのために申請するのはとても良いと思います。</p>
</section>
</section>
<section id="最後に" class="level2">
<h2 class="anchored" data-anchor-id="最後に">最後に</h2>
<p>最近はリモート環境について学んでいたので、記事もそちらに偏りがちだったのですが、些細な業務はやっぱりローカルの方が楽でいいですね。</p>
<p>うまく使い分けていきたいなと思っているところです。</p>
<p>これからRを使っていく方の少しでも役に立てれば幸いです。</p>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>最近はPositronなどもあるようですね。今はまだプレリリース状態なので、RStudioを推奨します。↩︎</p></li>
<li id="fn2"><p>WindowsだとOneDriveのフォルダとかになっているかもしれません。↩︎</p></li>
<li id="fn3"><p>ページのフォントの問題で大変恐縮なのですが、<code>|&gt;</code> は<code>|</code> と<code>&gt;</code> で構成されています。右向きの三角形ではございません。笑↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>R</category>
  <category>RStudio</category>
  <guid>https://yo5uke.github.io/tips/240829_local_r/</guid>
  <pubDate>Wed, 28 Aug 2024 15:00:00 GMT</pubDate>
  <media:content url="https://yo5uke.github.io/tips/240829_local_r/image/Rlogo.png" medium="image" type="image/png" height="112" width="144"/>
</item>
<item>
  <title>【Quarto】マークダウンでできること！</title>
  <link>https://yo5uke.github.io/tips/240802_quarto_markdown/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p>Quarto（別にR Markdownでも同じですが）ではマークダウン記法を使います。</p>
<p>僕もRAブートキャンプでR Markdownと衝撃の出会い()を果たしてから早1年、途中Quartoに浮気しながらマークダウンについて勉強してきました（経済の勉強をしろ）。</p>
<p>そこで、今回はマークダウンについてまとめます。これまでちょこちょこと紹介を挟みながらやってきましたが、今回は論文とかHTMLとか出力にこだわらず、ひたすらマークダウンについてまとめます。</p>
<p>基本は<a href="https://quarto.org/docs/guide/">Quarto公式ガイド</a>に沿っていますが、なるべく使う順にまとめます。</p>
<p>大前提として、改行したいときは1行空行を入れます。コード上で改行しても出力には反映されません。</p>
</section>
<section id="見出し" class="level2">
<h2 class="anchored" data-anchor-id="見出し">見出し</h2>
<p><strong>コード</strong></p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"># Heading 1</span></span>
<span id="cb1-2"></span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">## Heading 2</span></span>
<span id="cb1-4"></span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">### Heading 3</span></span></code></pre></div>
<p><code>#</code>の数によって見出しのレベルが決まります。基本は3段くらい使えば事足りると思いますが、それ以降もいけます。</p>
</section>
<section id="箇条書き" class="level2">
<h2 class="anchored" data-anchor-id="箇条書き">箇条書き</h2>
<p>2種類あります。順序なしリストと順序付きリストです。基本的には以下の書き方です。</p>
<table class="caption-top table">
<colgroup>
<col style="width: 49%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>コード</th>
<th>出力</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>順序なし1</span>
<span id="cb2-2"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    - </span>スペース4つで2段目</span>
<span id="cb2-3"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>順序なし2</span>
<span id="cb2-4"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    1. </span>2段目に順序付きを入れることも可</span></code></pre></div></td>
<td><ul>
<li>順序なし1
<ul>
<li>スペース4つで2段目</li>
</ul></li>
<li>順序なし2
<ol type="1">
<li>2段目に順序付きを入れることも可</li>
</ol></li>
</ul></td>
</tr>
<tr class="even">
<td><div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">1. </span>順序付き1</span>
<span id="cb3-2"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    1. </span>同様にスペース4つで2段目</span>
<span id="cb3-3"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">1. </span>順序付き2</span>
<span id="cb3-4"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    - </span>2段目に順序なしを入れることも可</span></code></pre></div></td>
<td><ol type="1">
<li>順序付き1
<ol type="1">
<li>同様にスペース4つで2段目</li>
</ol></li>
<li>順序付き2
<ul>
<li>2段目に順序なしを入れることも可</li>
</ul></li>
</ol></td>
</tr>
</tbody>
</table>
<p>本文では改行するのに空行が必要でしたが、<strong>箇条書きの場合空行は要りません</strong><sup>1</sup>。順序付きリストの場合、全ての行頭を<code>1.</code>で揃えることで、自動的に番号を振ってくれます。0から始めたければ全て<code>0.</code>で書けば大丈夫です。</p>
<p>間にコード等を挟む場合は空行を入れた方が見やすいかもですね。また、間にコードや図などを挟むと<strong>連続番号がリセット</strong>されるので、その場合は手動で振る方が簡単かもしれません。</p>
</section>
<section id="図" class="level2">
<h2 class="anchored" data-anchor-id="図">図</h2>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><span class="al" style="color: #AD0000;
background-color: null;
font-style: inherit;">![パソコンを笑顔でいじっている人](computer_man4_laugh.png)</span></span></code></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240802_quarto_markdown/image/computer_man4_laugh.png" class="img-fluid figure-img" style="width:30.0%"></p>
<figcaption>パソコンを笑顔でいじっている人</figcaption>
</figure>
</div>
<p>ご覧の通り、<code>[ ]</code>の中は図のキャプションで、<code>( )</code>の中はファイル名です。ファイル名のところは、必要に応じてパスを追加してください<sup>2</sup>。例えば、今コードがあるところに<code>image</code>というフォルダがあって、その中に<code>computer_man4_laugh.png</code>がある場合は、<code>(image/computer_man4_laugh.png)</code>とする必要があります。</p>
</section>
<section id="数式" class="level2">
<h2 class="anchored" data-anchor-id="数式">数式</h2>
<p>基本的には<img src="https://latex.codecogs.com/png.latex?%5CLaTeX">表記です。<code>$$</code>で数式を挟むことで数式を挿入できます。</p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1">$$</span>
<span id="cb5-2">Y_{it} = \beta (Treat \times Post)_{it} + \gamma_i + \delta_t + \varepsilon_{it}</span>
<span id="cb5-3">$$</span></code></pre></div>
<p><img src="https://latex.codecogs.com/png.latex?%0AY_%7Bit%7D%20=%20%5Cbeta%20(Treat%20%5Ctimes%20Post)_%7Bit%7D%20+%20%5Cgamma_i%20+%20%5Cdelta_t%20+%20%5Cvarepsilon_%7Bit%7D%0A"></p>
<p>文中に<img src="https://latex.codecogs.com/png.latex?Y%20=%205X">のように式を入れたい場合は、ドルマーク1つで<code>$Y = 5X$</code>とすればOKです。</p>
</section>
<section id="リンク" class="level2">
<h2 class="anchored" data-anchor-id="リンク">リンク</h2>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">Yosuke Abe</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">](https://yo5uke.github.io/)</span></span></code></pre></div>
<p><a href="../../index.html">Yosuke Abe</a></p>
<p><code>[ ]</code>でタイトルを囲んで<code>( )</code>内にリンクを記述します。</p>
<p>URLをそのまま表示したいときは次のようにします。</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb7-1"><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;https://yo5uke.github.io/&gt;</span></span></code></pre></div>
<p>https://yo5uke.github.io/</p>
</section>
<section id="脚注" class="level2">
<h2 class="anchored" data-anchor-id="脚注">脚注</h2>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb8-1">これは本文^<span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">これは脚注</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span></code></pre></div>
<p>これは本文<sup>3</sup></p>
<p>脚注にもいろいろな書き方はあるのですが、これは脚注番号を自動で振ってくれるので、番号を気にせず書けておすすめです。</p>
</section>
<section id="コード" class="level2">
<h2 class="anchored" data-anchor-id="コード">コード</h2>
<p>普通に実行する場合は通常のチャンクで問題ありませんが、実行はせずコードだけ示したいこともあるかと思います。その場合は次の書き方でできます。</p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb9-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">``` r</span></span>
<span id="cb9-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(cars)</span>
<span id="cb9-3"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div>
<p>通常のチャンクでは<code>r</code>の部分は<code>{r}</code>となっていると思いますが、<code>{ }</code>を外すことで言語を指定しつつコードのみを提示できます。また、</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ここがfilename</strong></pre>
</div>
<div class="sourceCode" id="cb10" data-filename="ここがfilename" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(cars)</span></code></pre></div>
</div>
<p>このようにfilenameを付けたい場合は、</p>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb11-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">``` {.r filename="ここがfilename"}</span></span>
<span id="cb11-2"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">plot(cars)</span></span>
<span id="cb11-3"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div>
<p>とすることで可能です。<code>{.r}</code>は<code>r</code>と同じです。コードのみを表示します。</p>
<p>文中にコードを入れる場合は、<code>`</code>で挟むとできます。<code>`plot(cars)`</code>のように書きます。</p>
</section>
<section id="改ページ" class="level2">
<h2 class="anchored" data-anchor-id="改ページ">改ページ</h2>
<div class="sourceCode" id="cb12" data-shortcodes="false" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb12-1">ページ1</span>
<span id="cb12-2"></span>
<span id="cb12-3">{{&lt; pagebreak &gt;}}</span>
<span id="cb12-4"></span>
<span id="cb12-5">ページ2</span></code></pre></div>
<p>または、<img src="https://latex.codecogs.com/png.latex?%5CLaTeX">を使っている場合は<code>\newpage</code>でもできます。<code>\pagebreak</code>でもできます。二つは微妙に異なるので、違いはググってみてください。</p>
</section>
<section id="calloutブロック" class="level2">
<h2 class="anchored" data-anchor-id="calloutブロック">Calloutブロック</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
これがcalloutブロック
</div>
</div>
<div class="callout-body-container callout-body">
<p>これを入れるためには、以下のように書きます。</p>
</div>
</div>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb13-1">::: {.callout-note}</span>
<span id="cb13-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">## ここがキャプションです。</span></span>
<span id="cb13-3"></span>
<span id="cb13-4"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`note`</span>の他に、<span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`tip`</span>、<span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`warning`</span>、<span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`caution`</span>、そして<span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`important`</span>があります。</span>
<span id="cb13-5">:::</span></code></pre></div>
<p><code>{.callout-note}</code>の部分を<code>{.callout-note collapse=true}</code>にすると折りたたみ可能なブロックになります。</p>
</section>
<section id="参考文献" class="level2">
<h2 class="anchored" data-anchor-id="参考文献">参考文献</h2>
<p>Zotero等を使って<code>references.bib</code>ファイル<sup>4</sup>を作成し、コードと同じディレクトリに置いてあるとします。</p>
<p>YAMLヘッダーで次のように設定します。</p>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb14-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb14-2"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">title:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> "Title"</span></span>
<span id="cb14-3"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">author:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> "Author"</span></span>
<span id="cb14-4"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">format:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> pdf</span></span>
<span id="cb14-5"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">bibliography:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> references.bib</span></span>
<span id="cb14-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span></code></pre></div>
<p><code>.bib</code>ファイルの中身は次のようになっているので、本文中で<code>@lamport1994latex</code>と書けば本文内で参照できます。</p>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode bibtex code-with-copy"><code class="sourceCode bibtex"><span id="cb15-1"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">@article</span>{<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">lamport1994latex</span>,</span>
<span id="cb15-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">title</span>={LaTeX: A Document Preparation System},</span>
<span id="cb15-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">author</span>={Lamport, Leslie},</span>
<span id="cb15-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">journal</span>={Addison-Wesley},</span>
<span id="cb15-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">year</span>={1994},</span>
<span id="cb15-6">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">volume</span>={2}</span>
<span id="cb15-7">}</span></code></pre></div>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">おわりに</h2>
<p>ここまで個人的によく使うマークダウン記法についてまとめました。</p>
<p>僕自身もいろいろ書いていく中で使うものが出てくると思うので、適宜追記していきます。</p>
</section>
<section id="参考" class="level2">
<h2 class="anchored" data-anchor-id="参考">参考</h2>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><a href="https://quarto.org/docs/guide/">Quarto公式ガイド</a></p>
</div>
</div>
</div>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>もちろん入れても大丈夫です。↩︎</p></li>
<li id="fn2"><p>パスの説明は文面で書くにはやや長くなりそうなので、<a href="https://webliker.info/html/78726/">こちら</a>などを参考にしてください。↩︎</p></li>
<li id="fn3"><p>これは脚注↩︎</p></li>
<li id="fn4"><p>ファイル名は何でも大丈夫ですよ。↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>Quarto</category>
  <guid>https://yo5uke.github.io/tips/240802_quarto_markdown/</guid>
  <pubDate>Thu, 01 Aug 2024 15:00:00 GMT</pubDate>
</item>
<item>
  <title>【Quarto】論文の体裁を整える</title>
  <link>https://yo5uke.github.io/tips/240722_quarto_latex_setting/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p>以下の記事で、Quarto × <img src="https://latex.codecogs.com/png.latex?%5CLaTeX"> で論文を書く方法についてまとめました。</p>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><a href="../240629_write_thesis/index.html">【PDF】Quarto で論文を書く</a></p>
</div>
</div>
</div>
<p>今回はもう少し踏み込んで、論文の体裁を整える設定について考えます<sup>1</sup>。</p>
</section>
<section id="yaml-ヘッダーをいじる" class="level2">
<h2 class="anchored" data-anchor-id="yaml-ヘッダーをいじる">YAML ヘッダーをいじる</h2>
<p>Quarto や R Markdown でお馴染みの YAML ヘッダーですが、以前の記事での設定は以下の通りでした。</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb1-1"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">title</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"【PDF】Quarto で論文を書く"</span></span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">author</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"阿部洋輔"</span></span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">date</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> 2024-07-08</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  # todayで今日の日付にできます</span></span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">date-format</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"YYYY年M月D日"</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">format</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb1-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pdf</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb1-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">documentclass</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> article</span></span>
<span id="cb1-9"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">number-sections</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb1-10"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">include-in-header</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb1-11"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">      - </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">text</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb1-12">          \usepackage{zxjatype}</span>
<span id="cb1-13">          \usepackage[ipaex]{zxjafont} </span>
<span id="cb1-14">          # これらは日本語フォントの設定のために記述しています</span>
<span id="cb1-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">execute</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb1-16"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">echo</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">false</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  # コードを表示しない</span></span>
<span id="cb1-17"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">warning</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">false</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> # 警告とメッセージを表示しない</span></span>
<span id="cb1-18"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">language</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb1-19"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">crossref-fig-title</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"図"</span></span>
<span id="cb1-20"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">crossref-tbl-title</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"表"</span></span>
<span id="cb1-21"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">crossref-eq-prefix</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"式"</span></span>
<span id="cb1-22"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">---</span></span></code></pre></div>
<p>今回は簡単化のため英語で設定していきますが、さっそく今回の結論は次の通りです。</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb2-2"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">title:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> "Title"</span></span>
<span id="cb2-3"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">author:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb2-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  - "Yosuke Abe\\thanks{Osaka School of International Public Policy}"</span></span>
<span id="cb2-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  - "Author 2\\thanks{Osaka School of International Public Policy}"</span></span>
<span id="cb2-6"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">date:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> 2024-07-22</span></span>
<span id="cb2-7"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">date-format:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> long</span></span>
<span id="cb2-8"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">lang:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> en</span></span>
<span id="cb2-9"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">abstract:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> &gt;</span></span>
<span id="cb2-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  Here is the abstract.</span></span>
<span id="cb2-11"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">format:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb2-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  pdf: </span></span>
<span id="cb2-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    documentclass: article</span></span>
<span id="cb2-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    papersize: a4paper</span></span>
<span id="cb2-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    geometry: </span></span>
<span id="cb2-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      - top=2.5cm</span></span>
<span id="cb2-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      - bottom=2.5cm</span></span>
<span id="cb2-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      - left=2.5cm</span></span>
<span id="cb2-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      - right=2.5cm</span></span>
<span id="cb2-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    keep-tex: true</span></span>
<span id="cb2-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># bibliography: bibliography.bib</span></span>
<span id="cb2-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 必要に応じて入れる</span></span>
<span id="cb2-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb2-24"></span>
<span id="cb2-25">**JEL classification:** C12, D24, E31</span>
<span id="cb2-26"></span>
<span id="cb2-27">**keywords:** Keyword 1, Keyword 2...</span>
<span id="cb2-28"></span>
<span id="cb2-29">\newpage</span>
<span id="cb2-30"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"># Section 1</span></span>
<span id="cb2-31"></span>
<span id="cb2-32">Write the text here.</span>
<span id="cb2-33"></span>
<span id="cb2-34"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"># Section 2</span></span>
<span id="cb2-35"></span>
<span id="cb2-36">@fig-cars is a plot of CARS data.</span></code></pre></div>
<p>今回発見したのは、<code>abstract</code> が書けるところです。これは助かります。</p>
<p>keyword と JEL classification の部分はもう少し工夫が必要そうです。</p>
<p>出力すると<a href="../../tips/240722_quarto_latex_setting/demo/demo.pdf">このような感じ</a>になります。</p>
<p>とりあえず、ポイントとしては</p>
<ol type="1">
<li><code>author</code> に <code>\\thanks{}</code> を使って所属を書くことができる</li>
<li><code>abstract</code> が書ける
<ul>
<li><code>&gt;</code> で改行を入れ、2スペース分インデントして書き始めるとよい。</li>
</ul></li>
<li><code>format</code> で <code>pdf</code> の設定を変更できる
<ul>
<li><code>documentclass</code> で文書クラスを指定できる。<code>article</code> で十分だと思う。</li>
<li><code>papersize</code> で用紙サイズを指定できる。</li>
<li><code>geometry</code> で余白を設定できる。</li>
<li><code>keep-tex: true</code> で <code>.tex</code> ファイルを残すことができる。</li>
</ul></li>
<li><code>bibliography</code> で参考文献を指定できる
<ul>
<li>Zotero など使用して文献管理をしましょう。</li>
</ul></li>
</ol>
<p>といったところでしょうか。</p>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">おわりに</h2>
<p>Quarto で論文を書く際の体裁について考えてみました。</p>
<p>自分でも論文を書いていくうちに、また新しい発見があれば追記していきたいと思います。</p>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>僕自身も試行錯誤中です。↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>Quarto</category>
  <category>LaTeX</category>
  <guid>https://yo5uke.github.io/tips/240722_quarto_latex_setting/</guid>
  <pubDate>Sun, 21 Jul 2024 15:00:00 GMT</pubDate>
  <media:content url="https://yo5uke.github.io/tips/240722_quarto_latex_setting/image/LaTeX_logo.png" medium="image" type="image/png" height="63" width="144"/>
</item>
<item>
  <title>【PDF】Quarto で論文を書く</title>
  <link>https://yo5uke.github.io/tips/240629_write_thesis/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p>これまでの記事で R Markdown や Quarto を使って <img src="https://latex.codecogs.com/png.latex?%5CLaTeX"> 経由で PDF 出力する方法や、それらで使えるチャンクオプションについてご紹介してきました。</p>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><a href="../240329_rmarkdown_pdf/index.html">R MarkdownでPDF出力【LaTeX】</a></p>
</div>
</div>
</div>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><a href="../240509_chunk_option/index.html">【Quarto】チャンクオプションまとめてみた【R Markdown】</a></p>
</div>
</div>
</div>
<p>今回は、Quarto を使って論文を書く方法について包括的にまとめてみました。</p>
<p>ぜひ参考にしてみてください。</p>
<p>また、環境として RStudio を使用していると仮定します。</p>
</section>
<section id="準備" class="level2">
<h2 class="anchored" data-anchor-id="準備">準備</h2>
<p>Quarto は R Markdown の亜種、と考えてもらえればと思います。マークダウン形式で記述することができ、<img src="https://latex.codecogs.com/png.latex?%5CLaTeX"> 記法を必ずしも用いる必要がないのが特徴です<sup>1</sup>。<img src="https://latex.codecogs.com/png.latex?%5CLaTeX"> を深く学ばなくてもスタイリッシュな論文が書けるのではないでしょうか。</p>
<p>ここからは、書くのに最低限必要な使い方を紹介します。</p>
<section id="プロジェクトの作成" class="level3">
<h3 class="anchored" data-anchor-id="プロジェクトの作成">プロジェクトの作成</h3>
<p>必須ではありませんが推奨します。プロジェクトを作成することで、ファイルの管理がしやすくなります。</p>
<p>プロジェクトの作成については以下の記事で紹介しています。<img src="https://latex.codecogs.com/png.latex?%5CLaTeX"> との差別化点として、分析結果をそのまま埋め込めることがあげられ、プロジェクトを作成することで、その恩恵を最大限受けられると考えています。</p>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><a href="../240515_rproj/index.html">【R】プロジェクトを使う</a></p>
</div>
</div>
</div>
</section>
<section id="ファイルの作成" class="level3">
<h3 class="anchored" data-anchor-id="ファイルの作成">ファイルの作成</h3>
<p>Quarto で論文を書くには、拡張子が <code>.qmd</code> のファイルを作成します。これは Quarto Markdown の略です。</p>
<p>RStudio 画面左上の <img src="https://yo5uke.github.io/tips/240629_write_thesis/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAkCAYAAADl9UilAAACvElEQVR4Xu2XTWgTQRSA0/wo4k9VghH14MWzB+9S0YMHbxJBsZDdTdJS3aTBghQPKRRUrF6EWIpNtjSKGo0XTS96CA00CUVpmqot2tLGHvTSNDYFE0jGfUkj4bn52e0EL/vBO+3MvI+Zt29nNRoVlf/BQ36nTrB0tvmYYJvALGsEJg+h9TEp/SgT3DvMsedu2tvNZrMOT20dXvaiKLEqBqkXouQPo4e1dfb17Xa73Vq8DD0CZp1WsNzDAo3i/LM7a6Fw9FM4lpidnE4mlEQknryFdf4i7sAQTgqBwc8h7O8fk0zmFykUCnh4U4Ac9ilTPr5/EjYrBuGJT5CNjSwpFot4SkOkxQLmHZo6NYXBzytx6AlPFldWyO9cDk9piKSYzsdcxUmUiEHcDr8ka+m07COVFBNbwmucQKnYmVeDJPV9leRk7pq0mMCkakk0S2W+yc+TL/MLJJvdxEPqIimmKTdPKmL6MY7MJJJkPZPBQ+pSS2yTptiHjzOlOpODpJjYVJdoiZn81+mJ6b3sm8rCUoHBz6vj9IsBeke5Z4TrwgmUivWHBHrF3+Hu3Q8fZJxErphx/BoJT0XptQu4usAtASeSKzYQGieJ2Tl6DRaAq8u+YW4MJ2tW7FLwPonFp0u7Re2TBMB96rLTaWp/xD3FSRsFSEWiMfJtcYnyR3wLUU5vtTpNxx/Y+g2jbM2aq8QRv4O4xeODnQKp1lx7tgA5u/2G8YrDcerEkO3uAQ83ZfCyP8WXI2fwccWjfic5Gxgk7gk/mRR3KZGcKx0f7JRSKaChGADHCjVn5fljbBd/0trd22Hrdl4YEZ4vQ/OEAp9f+FoSgkKHmlJyfNU0JVYB3laXy7WL41wHLT09h9++i3xOp9dLzRP6VD6f39YuVSNLDAOT8YK0UMXkoorJZVti8FMKC7Qi6v7wqqi0iD86M3fnY/LjkAAAAABJRU5ErkJggg==" class="img-fluid"> をクリックし、「Quarto Document…」を選択します。</p>
<p>以下のようにタイトルと著者名、PDF を選択し、Create をクリックします。“Use visual markdown editor” はオフにしてください<sup>2</sup>。</p>
<p><img src="https://yo5uke.github.io/tips/240629_write_thesis/image/create_document.png" class="img-fluid"></p>
<p>作成出来たら、<img src="https://yo5uke.github.io/tips/240629_write_thesis/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAkCAYAAAD7PHgWAAABBklEQVR4Xu2XMQrCQBBFBQvR6wgJHsEDpHVjBDvvoBhbI3bWCkZbFUyhFrYiEat0WgmC6AVkdQqbIVmWZAOi82C64b+/bDWZDEEQP4phTLMaa9d003bTGMgu1psF7JVGNzuWPdzs18GDz443rgrIcndXbvW8g1axGfZKo7P2eBXc+WB74a3FGXtiA1kwzfnpqTF7hL3SwDfAaz+BqvjkwYADe6WhglQwJlQwKVQwKakVTGOoYNL5z4JxwBlUMEwqAu9SwTCpCLxLBcOkIvCusoKT9/WFQ6OkIvCukoJwt5rO0sehUVIReBem6ng+OLBXmnKjn4PbGM5PeKnqgXIlo5vHXoL4Nl4ZYqbbEGA7+wAAAABJRU5ErkJggg==" class="img-fluid"> でファイルを任意の場所に保存します<sup>3</sup>。</p>
<p>もし Quarto や R Markdown を使うのが初めての場合、上部に “Package rmarkdown required but not installed. Install Don’t show again” というメッセージが表示されるかもしれません。その場合、“Install” をクリックしてインストールしてください。</p>
</section>
<section id="global-options-の設定" class="level3">
<h3 class="anchored" data-anchor-id="global-options-の設定">Global Options の設定</h3>
<p>RStudio 上部のメニューから “Tools” &gt; “Global Options…” を選択します。</p>
<p>その中の “Sweave” を選択し、“Typeset LaTeX into PDF using:” で “XeLaTeX” を選択します。また、その下にある “Use tinytex when compiling .tex files” にチェックを入れます。</p>
<p>最後に OK を押して閉じてください。</p>
</section>
<section id="ヘッダーの記述" class="level3">
<h3 class="anchored" data-anchor-id="ヘッダーの記述">ヘッダーの記述</h3>
<p>ファイルを作成すると、ドキュメントの上部に<code>---</code>で囲まれた部分があります。これを YAML ヘッダーと呼び、ここで文書の設定を行います。</p>
<p>以下は、基本的なYAMLヘッダーの設定です。</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb1-1"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">title</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"【PDF】Quarto で論文を書く"</span></span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">author</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"阿部洋輔"</span></span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">date</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> 2024-07-08</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  # todayで今日の日付にできます</span></span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">date-format</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"YYYY年M月D日"</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">format</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb1-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pdf</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb1-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">documentclass</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> article</span></span>
<span id="cb1-9"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">number-sections</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb1-10"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">include-in-header</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb1-11"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">      - </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">text</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb1-12">          \usepackage{zxjatype}</span>
<span id="cb1-13">          \usepackage[ipaex]{zxjafont} </span>
<span id="cb1-14">          # これらは日本語フォントの設定のために記述しています</span>
<span id="cb1-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">execute</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb1-16"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">echo</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">false</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  # コードを表示しない</span></span>
<span id="cb1-17"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">warning</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">false</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> # 警告とメッセージを表示しない</span></span>
<span id="cb1-18"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">language</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb1-19"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">crossref-fig-title</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"図"</span></span>
<span id="cb1-20"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">crossref-tbl-title</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"表"</span></span>
<span id="cb1-21"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">crossref-eq-prefix</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"式"</span></span>
<span id="cb1-22"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">---</span></span></code></pre></div>
<p>分析コードや実行の際に表示されるメッセージ・警告は出力しなくてよいので <code>false</code> にしてあります。</p>
<p>また、デフォルトだと英語設定でキャプションが Table 1 や Figure 1 と表示されてしまうので、それを日本語に直すために <code>language</code> を追加しています。他にも自動で英語出力されてしまって困る際は<a href="https://github.com/quarto-dev/quarto-cli/blob/main/src/resources/language/_language-ja.yml">こちら</a>から該当するものを探し、下に追加していってください<sup>4</sup>。</p>
<p>もちろん英語論文を執筆する際に日本語設定は不要です。</p>
<p><code>date-format</code> については<a href="https://quarto.org/docs/reference/dates.html">こちら</a>を参考にしてください。</p>
</section>
</section>
<section id="本文の書き方マークダウン編" class="level2">
<h2 class="anchored" data-anchor-id="本文の書き方マークダウン編">本文の書き方（マークダウン編）</h2>
<p>本文は Markdown で記述します。<img src="https://latex.codecogs.com/png.latex?%5CLaTeX"> 記法を使うこともできますが、必ずしも使う必要はありません。もちろん、数式などは <img src="https://latex.codecogs.com/png.latex?%5CLaTeX"> 記法を使うことができます。</p>
<p>以下のコードは、基本的な書き方の例です。</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"># 見出し1</span></span>
<span id="cb2-2"></span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">## 見出し2</span></span>
<span id="cb2-4"></span>
<span id="cb2-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">### 見出し3</span></span>
<span id="cb2-6"></span>
<span id="cb2-7">本文です。セクションに応じて見出しをつけることができます。基本的には3段階までの見出しを使います。</span>
<span id="cb2-8"></span>
<span id="cb2-9"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>箇条書き1</span>
<span id="cb2-10"></span>
<span id="cb2-11"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    - </span>箇条書き2</span>
<span id="cb2-12"></span>
<span id="cb2-13"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">        - </span>箇条書き3</span>
<span id="cb2-14"></span>
<span id="cb2-15">箇条書きを使うときは、ハイフンとスペースを入れてください。2段階目、3段階目を使用するときは、半角スペース4つを入れてください。</span>
<span id="cb2-16"></span>
<span id="cb2-17"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">1. </span>番号付きリスト1</span>
<span id="cb2-18"></span>
<span id="cb2-19"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    - </span>箇条書き</span>
<span id="cb2-20"></span>
<span id="cb2-21"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">2. </span>番号付きリスト2</span>
<span id="cb2-22"></span>
<span id="cb2-23">番号付きリストを使うときは、数字とピリオドとスペースを入れてください。</span>
<span id="cb2-24"></span>
<span id="cb2-25">また、改行するときは空行を入れなければなりません。</span>
<span id="cb2-26"></span>
<span id="cb2-27">文中で数式を使いたいときは、<span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`$`</span> で囲んでください。例えば、$y = ax + b$ のように記述します。</span>
<span id="cb2-28"></span>
<span id="cb2-29">数式を別行で書きたいときは、<span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`$$`</span> で囲んでください。例えば、</span>
<span id="cb2-30"></span>
<span id="cb2-31">$$</span>
<span id="cb2-32">y = ax + b</span>
<span id="cb2-33">$$ {#eq-equation-name}</span>
<span id="cb2-34"></span>
<span id="cb2-35">のように記述します。数式にラベルをつけることもできます。<span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`#eq-`</span> の後にラベル名を記述します。</span>
<span id="cb2-36"></span>
<span id="cb2-37">数式を引用するときは、<span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`@eq-equation-name`</span> のように記述します。</span></code></pre></div>
<p>以上が基本的な書き方です。</p>
<p>コードチャンクを使うときは、上記のように記述します。コードは YAML ヘッダーで <code>echo: false</code> としているので、出力されません。結果は出力されます<sup>5</sup>。</p>
<p>出力された PDF は<a href="demo/demo1.pdf">こちら</a>から確認してください。</p>
</section>
<section id="本文の書き方テーブル編" class="level2">
<h2 class="anchored" data-anchor-id="本文の書き方テーブル編">本文の書き方（テーブル編）</h2>
<p>Quarto で論文を書くことの醍醐味ともいえる、コードとその出力について説明します。</p>
<p>ここではデフォルトで使用できる <code>iris</code> というデータセットを利用して分析、表の出力をしてみたいと思います。</p>
<p>例えば以下のコードを実行すると 表&nbsp;1 のように出力されます。</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#| label: tbl-regression</span></span>
<span id="cb3-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#| tbl-cap: "iris を使用した回帰分析"</span></span>
<span id="cb3-3"></span>
<span id="cb3-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb3-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(fixest)</span>
<span id="cb3-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(modelsummary)</span>
<span id="cb3-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tinytable)</span>
<span id="cb3-8"></span>
<span id="cb3-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># リスト形式で保存すると複数の分析結果を1つの表に表示可能</span></span>
<span id="cb3-10">regression <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(</span>
<span id="cb3-11">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(1)"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> iris <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb3-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">feols</span>(Sepal.Length <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Sepal.Width, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">se =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hetero"</span>), </span>
<span id="cb3-13">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(2)"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> iris <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb3-14">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">feols</span>(Sepal.Length <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Sepal.Width <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> Petal.Length, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">se =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hetero"</span>), </span>
<span id="cb3-15">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(3)"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> iris <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb3-16">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">feols</span>(Sepal.Length <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Sepal.Width <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> Petal.Length <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> Petal.Width, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">se =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hetero"</span>)</span>
<span id="cb3-17">)</span>
<span id="cb3-18"></span>
<span id="cb3-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ここで変数名の表記を変更</span></span>
<span id="cb3-20">cm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(</span>
<span id="cb3-21">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sepal.Width"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"がく片の幅（cm）"</span>, </span>
<span id="cb3-22">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Petal.Length"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"花弁の長さ（cm）"</span>, </span>
<span id="cb3-23">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Petal.Width"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span>  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"花弁の幅（cm）"</span>, </span>
<span id="cb3-24">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Species"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"アイリスの種類"</span></span>
<span id="cb3-25">)</span>
<span id="cb3-26"></span>
<span id="cb3-27"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 表に加える統計量を整理</span></span>
<span id="cb3-28">gm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(</span>
<span id="cb3-29">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"raw"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nobs"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"r.squared"</span>), </span>
<span id="cb3-30">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"clean"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Observations"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"R\u00B2"</span>), </span>
<span id="cb3-31">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"fmt"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb3-32">)</span>
<span id="cb3-33"></span>
<span id="cb3-34"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># フットノートを書く</span></span>
<span id="cb3-35">fn <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"注：標準誤差は括弧内に記載。+p &lt; 10%, *p &lt; 5%, **p &lt; 1%"</span></span>
<span id="cb3-36"></span>
<span id="cb3-37"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">msummary</span>(regression, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">estimate =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"{estimate}{stars}"</span>, </span>
<span id="cb3-38">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">notes =</span> fn, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">coef_map =</span> cm, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">gof_map =</span> gm, </span>
<span id="cb3-39">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stars =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"+"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> .<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> .<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">05</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"**"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> .<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">01</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb3-40">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_tt</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">j =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"がく片の長さ（cm）"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))</span></code></pre></div>
<div class="cell">
<div id="tbl-regression" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-regression-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
表&nbsp;1: iris を使用した回帰分析
</figcaption>
<div aria-describedby="tbl-regression-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_n7rgk1st5g9t2itiksmv</title>
    <style>
.table td.tinytable_css_1p045p394yaqfxkfcyv5, .table th.tinytable_css_1p045p394yaqfxkfcyv5 {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_emvnomu83ev5mzyvsr5h, .table th.tinytable_css_emvnomu83ev5mzyvsr5h {    text-align: center; }
.table td.tinytable_css_ixswfz8r2wgzbvovei7m, .table th.tinytable_css_ixswfz8r2wgzbvovei7m {    border-bottom: solid 0.05em #d3d8dc; }
.table td.tinytable_css_3xdvb419f28lrfz5u8cc, .table th.tinytable_css_3xdvb419f28lrfz5u8cc {    text-align: left; }
.table td.tinytable_css_dcguoxe4ely8iqxzr1m2, .table th.tinytable_css_dcguoxe4ely8iqxzr1m2 {    text-align: center; }
.table td.tinytable_css_fkhkb4axjjxgg1z9811d, .table th.tinytable_css_fkhkb4axjjxgg1z9811d {    text-align: center; }
.table td.tinytable_css_w99rzkpwqgykoeg2lgx8, .table th.tinytable_css_w99rzkpwqgykoeg2lgx8 {    text-align: center; }
.table td.tinytable_css_a2171xft6cvhoj62jecp, .table th.tinytable_css_a2171xft6cvhoj62jecp {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_n7rgk1st5g9t2itiksmv" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
<tr>
<th scope="col" align="center" colspan="1"> </th>
<th scope="col" align="center" colspan="3">がく片の長さ（cm）</th>
</tr>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
                <th scope="col">(2)</th>
                <th scope="col">(3)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="4">注：標準誤差は括弧内に記載。+p &lt; 10%, *p &lt; 5%, **p &lt; 1%</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>がく片の幅（cm）</td>
                  <td>-0.223 </td>
                  <td>0.596**</td>
                  <td>0.651** </td>
                </tr>
                <tr>
                  <td>                </td>
                  <td>(0.141)</td>
                  <td>(0.065)</td>
                  <td>(0.060) </td>
                </tr>
                <tr>
                  <td>花弁の長さ（cm）</td>
                  <td>       </td>
                  <td>0.472**</td>
                  <td>0.709** </td>
                </tr>
                <tr>
                  <td>                </td>
                  <td>       </td>
                  <td>(0.017)</td>
                  <td>(0.062) </td>
                </tr>
                <tr>
                  <td>花弁の幅（cm）  </td>
                  <td>       </td>
                  <td>       </td>
                  <td>-0.556**</td>
                </tr>
                <tr>
                  <td>                </td>
                  <td>       </td>
                  <td>       </td>
                  <td>(0.144) </td>
                </tr>
                <tr>
                  <td>観測数          </td>
                  <td>150    </td>
                  <td>150    </td>
                  <td>150     </td>
                </tr>
                <tr>
                  <td>R²              </td>
                  <td>0.01   </td>
                  <td>0.84   </td>
                  <td>0.86    </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_dazx3j7v30znmq2h2yzc(i, j, css_id) {
        var table = document.getElementById("tinytable_n7rgk1st5g9t2itiksmv");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_n7rgk1st5g9t2itiksmv');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_dazx3j7v30znmq2h2yzc(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_n7rgk1st5g9t2itiksmv");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(1, 0, 'tinytable_css_1p045p394yaqfxkfcyv5') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(1, 1, 'tinytable_css_1p045p394yaqfxkfcyv5') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(1, 2, 'tinytable_css_1p045p394yaqfxkfcyv5') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(1, 3, 'tinytable_css_1p045p394yaqfxkfcyv5') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(0, 0, 'tinytable_css_emvnomu83ev5mzyvsr5h') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(0, 1, 'tinytable_css_emvnomu83ev5mzyvsr5h') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(0, 2, 'tinytable_css_emvnomu83ev5mzyvsr5h') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(0, 3, 'tinytable_css_emvnomu83ev5mzyvsr5h') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(0, 1, 'tinytable_css_ixswfz8r2wgzbvovei7m') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(0, 0, 'tinytable_css_3xdvb419f28lrfz5u8cc') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(1, 0, 'tinytable_css_3xdvb419f28lrfz5u8cc') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(2, 0, 'tinytable_css_3xdvb419f28lrfz5u8cc') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(3, 0, 'tinytable_css_3xdvb419f28lrfz5u8cc') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(4, 0, 'tinytable_css_3xdvb419f28lrfz5u8cc') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(5, 0, 'tinytable_css_3xdvb419f28lrfz5u8cc') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(6, 0, 'tinytable_css_3xdvb419f28lrfz5u8cc') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(7, 0, 'tinytable_css_3xdvb419f28lrfz5u8cc') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(8, 0, 'tinytable_css_3xdvb419f28lrfz5u8cc') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(9, 0, 'tinytable_css_3xdvb419f28lrfz5u8cc') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(0, 1, 'tinytable_css_dcguoxe4ely8iqxzr1m2') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(1, 1, 'tinytable_css_dcguoxe4ely8iqxzr1m2') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(2, 1, 'tinytable_css_dcguoxe4ely8iqxzr1m2') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(3, 1, 'tinytable_css_dcguoxe4ely8iqxzr1m2') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(4, 1, 'tinytable_css_dcguoxe4ely8iqxzr1m2') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(5, 1, 'tinytable_css_dcguoxe4ely8iqxzr1m2') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(6, 1, 'tinytable_css_dcguoxe4ely8iqxzr1m2') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(7, 1, 'tinytable_css_dcguoxe4ely8iqxzr1m2') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(8, 1, 'tinytable_css_dcguoxe4ely8iqxzr1m2') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(9, 1, 'tinytable_css_dcguoxe4ely8iqxzr1m2') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(0, 2, 'tinytable_css_fkhkb4axjjxgg1z9811d') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(1, 2, 'tinytable_css_fkhkb4axjjxgg1z9811d') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(2, 2, 'tinytable_css_fkhkb4axjjxgg1z9811d') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(3, 2, 'tinytable_css_fkhkb4axjjxgg1z9811d') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(4, 2, 'tinytable_css_fkhkb4axjjxgg1z9811d') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(5, 2, 'tinytable_css_fkhkb4axjjxgg1z9811d') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(6, 2, 'tinytable_css_fkhkb4axjjxgg1z9811d') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(7, 2, 'tinytable_css_fkhkb4axjjxgg1z9811d') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(8, 2, 'tinytable_css_fkhkb4axjjxgg1z9811d') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(9, 2, 'tinytable_css_fkhkb4axjjxgg1z9811d') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(0, 3, 'tinytable_css_w99rzkpwqgykoeg2lgx8') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(1, 3, 'tinytable_css_w99rzkpwqgykoeg2lgx8') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(2, 3, 'tinytable_css_w99rzkpwqgykoeg2lgx8') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(3, 3, 'tinytable_css_w99rzkpwqgykoeg2lgx8') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(4, 3, 'tinytable_css_w99rzkpwqgykoeg2lgx8') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(5, 3, 'tinytable_css_w99rzkpwqgykoeg2lgx8') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(6, 3, 'tinytable_css_w99rzkpwqgykoeg2lgx8') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(7, 3, 'tinytable_css_w99rzkpwqgykoeg2lgx8') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(8, 3, 'tinytable_css_w99rzkpwqgykoeg2lgx8') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(9, 3, 'tinytable_css_w99rzkpwqgykoeg2lgx8') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(7, 0, 'tinytable_css_a2171xft6cvhoj62jecp') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(7, 1, 'tinytable_css_a2171xft6cvhoj62jecp') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(7, 2, 'tinytable_css_a2171xft6cvhoj62jecp') })
window.addEventListener('load', function () { styleCell_tinytable_dazx3j7v30znmq2h2yzc(7, 3, 'tinytable_css_a2171xft6cvhoj62jecp') })
    </script>

  


</div>
</div>
</figure>
</div>
</div>
<p>出力された PDF は<a href="demo/demo2.pdf">こちら</a>から確認してください。</p>
<p>また、このサイトのフォント的に <code>&lt;-</code> や <code>|&gt;</code> と表示されていますが、それぞれ <code>&lt;</code> と <code>-</code>、<code>|</code> と <code>&gt;</code> になります。ご了承ください。</p>
<p>ここからは、表作成におけるポイントを説明します。</p>
<p><strong>テーブルにおけるポイント</strong></p>
<ol type="1">
<li><p>チャンクオプション</p>
<ul>
<li><p><code>#|</code> で始まっている部分です。</p></li>
<li><p><code>label</code> は <code>tbl-</code> で始めることでテーブルにおけるラベルを付けられます。論文内で参照するときに必要です。<code>@tbl-regression</code> という書き方で論文内で参照できます。</p></li>
<li><p><code>tbl-cap</code> で表のキャプションを付けられます。</p></li>
</ul></li>
<li><p>ライブラリ</p>
<ul>
<li><p><code>tidyverse</code>：データハンドリングのために使用します。</p></li>
<li><p><code>fixest</code>：分析のために使用します。いろいろな分析用パッケージがありますが、とりあえずこれを使えば事足りることが多いと思います。あと速い。</p></li>
<li><p><code>modelsummary</code>：分析結果を表示するために使用します。様々な分析用パッケージに対応しています。</p></li>
<li><p><code>tinytable</code>：modelsummary で作成した表をより細かく設定するために使います。</p></li>
</ul></li>
<li><p>分析モデルを格納</p>
<ul>
<li>リスト形式で保存します。こうすることによって複数の分析結果を <code>modelsummary</code> で1つの表に起こせます。</li>
</ul></li>
<li><p><code>coef_map</code> と <code>gof_map</code> 用の <code>cm</code> &amp; <code>gm</code></p>
<ul>
<li><p><code>cm</code><sup>6</sup> は、分析で使用した変数名を書き換えて表に出すためのものです。<code>"Sepal.Width" = "がく片の幅（cm）"</code> は、 “Sepal.Width” という変数名を “がく片の幅（cm）” と表示することを意味します。</p></li>
<li><p><code>gm</code> は少し複雑です。コンソールで <code>gof_map</code> と打ってみると、raw, clean, fmt, omit の4列が出てきます。raw が表示する統計量、clean がそれらを表示するテキスト、fmt は小数点以下の桁数で、これらを <code>gm</code> で編集するということです<sup>7</sup>。</p></li>
<li><p>“R\u00B2” はユニコード文字で、2乗を <img src="https://latex.codecogs.com/png.latex?%5CTeX"> 上で表すために使用しています。</p></li>
<li><p><code>fn</code> はフットノートを書くためのものです。ここでは標準誤差の説明をしています。</p></li>
</ul></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240629_write_thesis/image/gof_map.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption><code>gof_map</code> を実行するとこのように出てきます。</figcaption>
</figure>
</div>
<ol start="5" type="1">
<li><p><code>msummary</code></p>
<ul>
<li><p>分析結果を表示するための関数です。<code>msummary</code> は <code>modelsummary</code> の関数です<sup>8</sup>。ここでは、<code>regression</code> に格納した分析結果を表示しています。</p></li>
<li><p><code>estimate</code> で “{estimate}{stars}” と指定しています。これは推定値とその有意性を表示するためのものです。入れたパターンと入れないパターンで試してもらいたいのですが、有意性について別に脚注が入ってしまい、上で書いた脚注と合わせて2行になってしまうので、わざわざこの設定をしています。下の表を確認してください。</p></li>
<li><p><code>notes</code> , <code>coef_map</code> , <code>gof_map</code> は上で設定したものを反映させています。</p></li>
<li><p><code>stars</code> は有意性の表示を設定しています。ここでは、+p &lt; 10%, *p &lt; 5%, **p &lt; 1% としています。</p></li>
<li><p><code>group_tt</code> は表のグルーピングを行うためのものです。ここでは、被説明変数が全て “がく片の長さ（cm）” なので、それをグルーピングしています。1列目は変数名にあたるので、2:4 としています。</p></li>
<li><p><code>group_tt</code> の引数 <code>j</code> は列のグルーピングで、<code>i</code> 引数は行のグルーピングに対応しています。</p></li>
</ul></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240629_write_thesis/image/table_without_estimate_option.png" class="img-fluid figure-img"></p>
<figcaption><code>estimate</code> を指定しないとこのように脚注が2行になります。</figcaption>
</figure>
</div>
<p>以上がテーブル作成のポイントです。</p>
</section>
<section id="本文の書き方フィギュア編" class="level2">
<h2 class="anchored" data-anchor-id="本文の書き方フィギュア編">本文の書き方（フィギュア編）</h2>
<p>次に、フィギュアの出力について説明します。</p>
<p>ここでも <code>iris</code> データセットを使用してプロットしてみます。</p>
<p>次のコードを実行すると、図&nbsp;1 のような図が作成されます。</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb4-2"></span>
<span id="cb4-3">p <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> iris <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb4-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Sepal.Length, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Petal.Length)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb4-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb4-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"がく片の長さ（cm）"</span>, </span>
<span id="cb4-7">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"花弁の長さ（cm）"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb4-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>()</span>
<span id="cb4-9"></span>
<span id="cb4-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggsave</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"iris_plot.pdf"</span>, p, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">device =</span> cairo_pdf)</span></code></pre></div>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><span class="al" style="color: #AD0000;
background-color: null;
font-style: inherit;">![iris を使用したプロット](iris_plot.pdf)</span>{#fig-iris}</span></code></pre></div>
<div class="cell">
<div class="cell-output-display">
<div id="fig-iris" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-iris-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://yo5uke.github.io/tips/240629_write_thesis/index_files/figure-html/fig-iris-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-iris-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
図&nbsp;1: iris を使用したプロット
</figcaption>
</figure>
</div>
</div>
</div>
<p>出力された PDF は<a href="demo/demo3.pdf">こちら</a>から確認してください。</p>
<p>ここでもポイントを説明します。</p>
<p><strong>フィギュアにおけるポイント</strong></p>
<ol type="1">
<li><p>パイプを使用してプロット</p>
<ul>
<li>データセットをパイプ（<code>|&gt;</code>）で <code>ggplot</code> に渡しています。これによって、変数が予測変換で出てくるので、作業がしやすくなります<sup>9</sup>。</li>
</ul></li>
<li><p><code>ggplot</code></p>
<ul>
<li><p><code>ggplot</code> 内の <code>aes</code> で x 軸と y 軸を指定しています。</p></li>
<li><p><code>ggplot</code> は <code>+</code> で繋げていくことでプロットを作成していきます。</p></li>
<li><p>今回は散布図を作成したいので、<code>geom_point()</code> を繋げています。他にも折れ線の場合は <code>geom_line()</code> などを使います。</p></li>
</ul></li>
<li><p><code>labs</code></p>
<ul>
<li><code>labs</code> で x 軸と y 軸のラベルを設定しています。</li>
</ul></li>
<li><p><code>theme_minimal</code></p>
<ul>
<li><code>theme_minimal</code> は背景が白で、軸の線が薄いテーマです。他にも <code>theme_bw</code>, <code>theme_classic</code> などがあります。</li>
</ul></li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
テーマについて
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><code>theme_minimal</code> でテーマを大方設定できますが、それに加えて細かい設定をしたいこともあると思います。その場合は、 <code>+</code> で <code>theme</code> を繋げていくことで設定できます。ここでは <code>theme</code> の詳細については説明しませんが、繋げる際は、<code>theme_minimal() + theme()</code> という順番で繋げていくことをおすすめします。</p>
<p>順番は逆でも構いませんが、<code>theme()</code> で設定したものが <code>theme_minimal()</code> で上書きされることがあるので、想定していたものと違う結果になることがあります。</p>
</div>
</div>
</div>
<ol start="5" type="1">
<li><p><code>ggsave</code></p>
<ul>
<li><p><code>ggsave</code> でプロットを保存しています。ここでは <code>iris_plot.pdf</code> という名前で保存しています。“iris_plot.pdf” の部分は任意の名前で構いません。また、パスを指定して保存することももちろんできます。<code>here</code> を使っている場合は、<code>here("output/iris_plot.pdf")</code> などとして保存することができます<sup>10</sup>。</p></li>
<li><p><code>device</code> を <code>cairo_pdf</code> にしています。<code>.png</code> など他の形式でも出力できますが、環境によっては文字化けなどに大変苦しめられるので<sup>11</sup>、<code>cairo_pdf</code> がおすすめです。僕の環境では一番安定しました。</p></li>
<li><p>ちなみに、画像の解像度が上がるので、とりあえず一度保存するのがいいと思います。</p></li>
</ul></li>
<li><p>マークダウン表記で図を出力</p>
<ul>
<li><code>![iris を使用したプロット](iris_plot.pdf){#fig-iris}</code> で図を出力しています。<code>iris_plot.pdf</code> の部分は保存したファイル名になります。<code>{#fig-iris}</code> はラベルを付けるためのものです。論文内で参照するときに必要です。<code>@fig-iris</code> という書き方で論文内で参照できます。</li>
</ul></li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
パスの指定
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>例えば画像を <code>output</code> というフォルダに保存しており、書いているコードは <code>code</code> フォルダにあるとします。すなわち以下のような形です。</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1">main_directory/</span>
<span id="cb6-2">├── output/</span>
<span id="cb6-3">│   └── iris_plot.pdf</span>
<span id="cb6-4">└── code/</span>
<span id="cb6-5">    └── code.qmd</span></code></pre></div>
<p>この場合、<code>![iris を使用したプロット](iris_plot.pdf){#fig-iris}</code> としても図が表示されません。その場合は、コードファイルからの相対パスを使用しなければなりません。すなわち <code>![iris を使用したプロット](../output/iris_plot.pdf){#fig-iris}</code> としてください。<code>../</code> は一つ上の階層を示しています。</p>
</div>
</div>
</div>
<p>もちろん、既に所有している画像もマークダウン記法で出力することができます。その場合は、<code>![画像の説明](画像のパス){#fig-label}</code> のように記述します。キャプションは抜かせるので、<code>![](画像のパス){#fig-label}</code> としても構いません。</p>
<p>以上がフィギュア作成のポイントです。</p>
</section>
<section id="まとめ" class="level2">
<h2 class="anchored" data-anchor-id="まとめ">まとめ</h2>
<p>Quarto を使って論文を書く方法について説明しました。</p>
<p>長くなってしまいましたが、現在 M2 の私自身も Quarto を使用して修士論文を書こうと思っているので、その際に必要な情報をまとめてみました。</p>
<p>ぜひ参考にしてみてください。</p>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>直接 LaTeX コードを埋め込むこともできます。↩︎</p></li>
<li id="fn2"><p>僕は使い方が分かりません。↩︎</p></li>
<li id="fn3"><p>僕は基本的に <code>code</code> フォルダを作ってそこに保存しています。↩︎</p></li>
<li id="fn4"><p>本当は <code>lang: ja</code> を設定するだけで万事解決のはずなのですが、パッケージのインストールでトラブるので、このような場当たり的な対処になっています。↩︎</p></li>
<li id="fn5"><p>結果も隠したいときは、代わりに <code>include: false</code> を指定します。チャンクオプションについては<a href="../240509_chunk_option/index.html">こちら</a>↩︎</p></li>
<li id="fn6"><p><code>gm</code> もそうですが、名前は何でもよいです。↩︎</p></li>
<li id="fn7"><p>“nobs”, “r.squared” の2つの項目を表示し、その表記を “観測数”, “<img src="https://latex.codecogs.com/png.latex?R%5E2">” とし、小数点以下は観測数がなし、<img src="https://latex.codecogs.com/png.latex?R%5E2"> は第2位までにしています。↩︎</p></li>
<li id="fn8"><p><code>msummary</code> でも <code>modelsummary</code> でも使用できます。↩︎</p></li>
<li id="fn9"><p><code>ggplot(iris, aes(~))</code> の形でも図は作れますが、変数名は予測変換で出てきません。↩︎</p></li>
<li id="fn10"><p><code>here</code> については<a href="../240515_rproj/index.html">こちら</a>↩︎</p></li>
<li id="fn11"><p>僕の場合は Linux で苦労しました。↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>Quarto</category>
  <category>R</category>
  <category>LaTeX</category>
  <guid>https://yo5uke.github.io/tips/240629_write_thesis/</guid>
  <pubDate>Fri, 28 Jun 2024 15:00:00 GMT</pubDate>
  <media:content url="https://yo5uke.github.io/tips/240629_write_thesis/image/create_document.png" medium="image" type="image/png" height="76" width="144"/>
</item>
<item>
  <title>国勢調査データのクレンジング</title>
  <link>https://yo5uke.github.io/tips/240622_census_cleansing/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p>国勢調査のデータを使う際、そのままでは R 等で使えない場合が多いので、分析用にデータをクレンジングするコードをご紹介します。</p>
<p>応用が利くと思うので、ぜひ。</p>
</section>
<section id="使用するデータ" class="level2">
<h2 class="anchored" data-anchor-id="使用するデータ">使用するデータ</h2>
<ul>
<li><p>2020年国勢調査</p>
<ul>
<li><p>4次メッシュ（500m四方メッシュ）データ</p></li>
<li><p>人口及び世帯（JGD2011）</p></li>
<li><p>データ：<a href="https://drive.google.com/drive/folders/1uAzsuXBnzCNeYrOTvnNDbdyduJkC4laW?usp=drive_link">Google ドライブ</a></p></li>
<li><p>出典：<a href="https://www.e-stat.go.jp/gis/statmap-search?page=1&amp;type=1&amp;toukeiCode=00200521&amp;toukeiYear=2020&amp;aggregateUnit=H&amp;serveyId=H002005112020&amp;statsId=T001141&amp;datum=2011">e-Stat</a></p></li>
</ul></li>
</ul>
</section>
<section id="データの読み込み" class="level2">
<h2 class="anchored" data-anchor-id="データの読み込み">データの読み込み</h2>
<p>データを読み込みます。ダウンロードした時点では大量のテキストファイルがある状態なので、それを一括で読み込んで処理していきます。</p>
<section id="パッケージ" class="level3">
<h3 class="anchored" data-anchor-id="パッケージ">パッケージ</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># データハンドリングのため</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(here)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 相対パスを使うため</span></span></code></pre></div>
</div>
</section>
<section id="読み込み" class="level3">
<h3 class="anchored" data-anchor-id="読み込み">読み込み</h3>
<p><strong>前提</strong>：</p>
<ul>
<li><p>ワーキングディレクトリを指定してあること<sup>1</sup>。</p></li>
<li><p>ワーキングディレクトリ内の <code>data/census_2020</code> にテキストファイルが入っていること。</p></li>
</ul>
<section id="確認" class="level4">
<h4 class="anchored" data-anchor-id="確認">確認</h4>
<p>まずはじめに、ファイルの中身がどのようになっているのか、一つのファイルを読み込んで確かめてみます。</p>
<p>ちなみにファイルは Shift_JIS なので、ロケールも設定します。</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">test <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/census_2020/tblT001141H3622.txt"</span>), </span>
<span id="cb2-2">                 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">locale =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">locale</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">encoding =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Shift_JIS"</span>))</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(test)</span></code></pre></div>
</div>
<div class="cell">
<div id="tbl-file-check" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-file-check-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
表&nbsp;1: 生データ
</figcaption>
<div aria-describedby="tbl-file-check-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="qyqkchqgpp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#qyqkchqgpp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#qyqkchqgpp thead, #qyqkchqgpp tbody, #qyqkchqgpp tfoot, #qyqkchqgpp tr, #qyqkchqgpp td, #qyqkchqgpp th {
  border-style: none;
}

#qyqkchqgpp p {
  margin: 0;
  padding: 0;
}

#qyqkchqgpp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qyqkchqgpp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#qyqkchqgpp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qyqkchqgpp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qyqkchqgpp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qyqkchqgpp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qyqkchqgpp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qyqkchqgpp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qyqkchqgpp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qyqkchqgpp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qyqkchqgpp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qyqkchqgpp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qyqkchqgpp .gt_spanner_row {
  border-bottom-style: hidden;
}

#qyqkchqgpp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#qyqkchqgpp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qyqkchqgpp .gt_from_md > :first-child {
  margin-top: 0;
}

#qyqkchqgpp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qyqkchqgpp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qyqkchqgpp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#qyqkchqgpp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#qyqkchqgpp .gt_row_group_first td {
  border-top-width: 2px;
}

#qyqkchqgpp .gt_row_group_first th {
  border-top-width: 2px;
}

#qyqkchqgpp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qyqkchqgpp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#qyqkchqgpp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#qyqkchqgpp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qyqkchqgpp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qyqkchqgpp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qyqkchqgpp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#qyqkchqgpp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qyqkchqgpp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qyqkchqgpp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qyqkchqgpp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qyqkchqgpp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qyqkchqgpp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qyqkchqgpp .gt_left {
  text-align: left;
}

#qyqkchqgpp .gt_center {
  text-align: center;
}

#qyqkchqgpp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qyqkchqgpp .gt_font_normal {
  font-weight: normal;
}

#qyqkchqgpp .gt_font_bold {
  font-weight: bold;
}

#qyqkchqgpp .gt_font_italic {
  font-style: italic;
}

#qyqkchqgpp .gt_super {
  font-size: 65%;
}

#qyqkchqgpp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#qyqkchqgpp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#qyqkchqgpp .gt_indent_1 {
  text-indent: 5px;
}

#qyqkchqgpp .gt_indent_2 {
  text-indent: 10px;
}

#qyqkchqgpp .gt_indent_3 {
  text-indent: 15px;
}

#qyqkchqgpp .gt_indent_4 {
  text-indent: 20px;
}

#qyqkchqgpp .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table do-not-create-environment cell caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="KEY_CODE" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">KEY_CODE</th>
<th id="HTKSYORI" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">HTKSYORI</th>
<th id="HTKSAKI" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">HTKSAKI</th>
<th id="GASSAN" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">GASSAN</th>
<th id="T001141001" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141001</th>
<th id="T001141002" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141002</th>
<th id="T001141003" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141003</th>
<th id="T001141004" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141004</th>
<th id="T001141005" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141005</th>
<th id="T001141006" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141006</th>
<th id="T001141007" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141007</th>
<th id="T001141008" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141008</th>
<th id="T001141009" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141009</th>
<th id="T001141010" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141010</th>
<th id="T001141011" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141011</th>
<th id="T001141012" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141012</th>
<th id="T001141013" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141013</th>
<th id="T001141014" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141014</th>
<th id="T001141015" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141015</th>
<th id="T001141016" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141016</th>
<th id="T001141017" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141017</th>
<th id="T001141018" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141018</th>
<th id="T001141019" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141019</th>
<th id="T001141020" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141020</th>
<th id="T001141021" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141021</th>
<th id="T001141022" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141022</th>
<th id="T001141023" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141023</th>
<th id="T001141024" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141024</th>
<th id="T001141025" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141025</th>
<th id="T001141026" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141026</th>
<th id="T001141027" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141027</th>
<th id="T001141028" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141028</th>
<th id="T001141029" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141029</th>
<th id="T001141030" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141030</th>
<th id="T001141031" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141031</th>
<th id="T001141032" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141032</th>
<th id="T001141033" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141033</th>
<th id="T001141034" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141034</th>
<th id="T001141035" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141035</th>
<th id="T001141036" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141036</th>
<th id="T001141037" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141037</th>
<th id="T001141038" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141038</th>
<th id="T001141039" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141039</th>
<th id="T001141040" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141040</th>
<th id="T001141041" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141041</th>
<th id="T001141042" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141042</th>
<th id="T001141043" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141043</th>
<th id="T001141044" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141044</th>
<th id="T001141045" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141045</th>
<th id="T001141046" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141046</th>
<th id="T001141047" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141047</th>
<th id="T001141048" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141048</th>
<th id="T001141049" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141049</th>
<th id="T001141050" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">T001141050</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="KEY_CODE">NA</td>
<td class="gt_row gt_right" headers="HTKSYORI">NA</td>
<td class="gt_row gt_right" headers="HTKSAKI">NA</td>
<td class="gt_row gt_right" headers="GASSAN">NA</td>
<td class="gt_row gt_left" headers="T001141001">　人口（総数）</td>
<td class="gt_row gt_left" headers="T001141002">　人口（総数）　男</td>
<td class="gt_row gt_left" headers="T001141003">　人口（総数）　女</td>
<td class="gt_row gt_left" headers="T001141004">　０〜１４歳人口　総数</td>
<td class="gt_row gt_left" headers="T001141005">　０〜１４歳人口　男</td>
<td class="gt_row gt_left" headers="T001141006">　０〜１４歳人口　女</td>
<td class="gt_row gt_left" headers="T001141007">　１５歳以上人口　総数</td>
<td class="gt_row gt_left" headers="T001141008">　１５歳以上人口　男</td>
<td class="gt_row gt_left" headers="T001141009">　１５歳以上人口　女</td>
<td class="gt_row gt_left" headers="T001141010">　１５〜６４歳人口　総数</td>
<td class="gt_row gt_left" headers="T001141011">　１５〜６４歳人口　男</td>
<td class="gt_row gt_left" headers="T001141012">　１５〜６４歳人口　女</td>
<td class="gt_row gt_left" headers="T001141013">　１８歳以上人口　総数</td>
<td class="gt_row gt_left" headers="T001141014">　１８歳以上人口　男</td>
<td class="gt_row gt_left" headers="T001141015">　１８歳以上人口　女</td>
<td class="gt_row gt_left" headers="T001141016">　２０歳以上人口　総数</td>
<td class="gt_row gt_left" headers="T001141017">　２０歳以上人口　男</td>
<td class="gt_row gt_left" headers="T001141018">　２０歳以上人口　女</td>
<td class="gt_row gt_left" headers="T001141019">　６５歳以上人口　総数</td>
<td class="gt_row gt_left" headers="T001141020">　６５歳以上人口　男</td>
<td class="gt_row gt_left" headers="T001141021">　６５歳以上人口　女</td>
<td class="gt_row gt_left" headers="T001141022">　７５歳以上人口　総数</td>
<td class="gt_row gt_left" headers="T001141023">　７５歳以上人口　男</td>
<td class="gt_row gt_left" headers="T001141024">　７５歳以上人口　女</td>
<td class="gt_row gt_left" headers="T001141025">　８５歳以上人口　総数</td>
<td class="gt_row gt_left" headers="T001141026">　８５歳以上人口　男</td>
<td class="gt_row gt_left" headers="T001141027">　８５歳以上人口　女</td>
<td class="gt_row gt_left" headers="T001141028">　９５歳以上人口　総数</td>
<td class="gt_row gt_left" headers="T001141029">　９５歳以上人口　男</td>
<td class="gt_row gt_left" headers="T001141030">　９５歳以上人口　女</td>
<td class="gt_row gt_left" headers="T001141031">　外国人人口　総数</td>
<td class="gt_row gt_left" headers="T001141032">　外国人人口　男</td>
<td class="gt_row gt_left" headers="T001141033">　外国人人口　女</td>
<td class="gt_row gt_left" headers="T001141034">　世帯総数</td>
<td class="gt_row gt_left" headers="T001141035">　一般世帯数</td>
<td class="gt_row gt_left" headers="T001141036">　１人世帯数　一般世帯数</td>
<td class="gt_row gt_left" headers="T001141037">　２人世帯数　一般世帯数</td>
<td class="gt_row gt_left" headers="T001141038">　３人世帯数　一般世帯数</td>
<td class="gt_row gt_left" headers="T001141039">　４人世帯数　一般世帯数</td>
<td class="gt_row gt_left" headers="T001141040">　５人世帯数　一般世帯数</td>
<td class="gt_row gt_left" headers="T001141041">　６人世帯数　一般世帯数</td>
<td class="gt_row gt_left" headers="T001141042">　７人以上世帯数　一般世帯数</td>
<td class="gt_row gt_left" headers="T001141043">　親族のみの世帯数　一般世帯数</td>
<td class="gt_row gt_left" headers="T001141044">　核家族世帯数　一般世帯数</td>
<td class="gt_row gt_left" headers="T001141045">　核家族以外の世帯数　一般世帯数</td>
<td class="gt_row gt_left" headers="T001141046">　６歳未満世帯員のいる世帯数　一般世帯数</td>
<td class="gt_row gt_left" headers="T001141047">　６５歳以上世帯員のいる世帯数　一般世帯数</td>
<td class="gt_row gt_left" headers="T001141048">　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数</td>
<td class="gt_row gt_left" headers="T001141049">　高齢単身世帯数　一般世帯数</td>
<td class="gt_row gt_left" headers="T001141050">　高齢夫婦世帯数　一般世帯数</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="KEY_CODE">362257353</td>
<td class="gt_row gt_right" headers="HTKSYORI">0</td>
<td class="gt_row gt_right" headers="HTKSAKI">NA</td>
<td class="gt_row gt_right" headers="GASSAN">NA</td>
<td class="gt_row gt_left" headers="T001141001">29</td>
<td class="gt_row gt_left" headers="T001141002">15</td>
<td class="gt_row gt_left" headers="T001141003">14</td>
<td class="gt_row gt_left" headers="T001141004">5</td>
<td class="gt_row gt_left" headers="T001141005">2</td>
<td class="gt_row gt_left" headers="T001141006">3</td>
<td class="gt_row gt_left" headers="T001141007">24</td>
<td class="gt_row gt_left" headers="T001141008">13</td>
<td class="gt_row gt_left" headers="T001141009">11</td>
<td class="gt_row gt_left" headers="T001141010">19</td>
<td class="gt_row gt_left" headers="T001141011">11</td>
<td class="gt_row gt_left" headers="T001141012">8</td>
<td class="gt_row gt_left" headers="T001141013">23</td>
<td class="gt_row gt_left" headers="T001141014">12</td>
<td class="gt_row gt_left" headers="T001141015">11</td>
<td class="gt_row gt_left" headers="T001141016">23</td>
<td class="gt_row gt_left" headers="T001141017">12</td>
<td class="gt_row gt_left" headers="T001141018">11</td>
<td class="gt_row gt_left" headers="T001141019">5</td>
<td class="gt_row gt_left" headers="T001141020">2</td>
<td class="gt_row gt_left" headers="T001141021">3</td>
<td class="gt_row gt_left" headers="T001141022">1</td>
<td class="gt_row gt_left" headers="T001141023">1</td>
<td class="gt_row gt_left" headers="T001141024">0</td>
<td class="gt_row gt_left" headers="T001141025">0</td>
<td class="gt_row gt_left" headers="T001141026">0</td>
<td class="gt_row gt_left" headers="T001141027">0</td>
<td class="gt_row gt_left" headers="T001141028">0</td>
<td class="gt_row gt_left" headers="T001141029">0</td>
<td class="gt_row gt_left" headers="T001141030">0</td>
<td class="gt_row gt_left" headers="T001141031">0</td>
<td class="gt_row gt_left" headers="T001141032">0</td>
<td class="gt_row gt_left" headers="T001141033">0</td>
<td class="gt_row gt_left" headers="T001141034">16</td>
<td class="gt_row gt_left" headers="T001141035">16</td>
<td class="gt_row gt_left" headers="T001141036">10</td>
<td class="gt_row gt_left" headers="T001141037">1</td>
<td class="gt_row gt_left" headers="T001141038">4</td>
<td class="gt_row gt_left" headers="T001141039">0</td>
<td class="gt_row gt_left" headers="T001141040">1</td>
<td class="gt_row gt_left" headers="T001141041">0</td>
<td class="gt_row gt_left" headers="T001141042">0</td>
<td class="gt_row gt_left" headers="T001141043">6</td>
<td class="gt_row gt_left" headers="T001141044">4</td>
<td class="gt_row gt_left" headers="T001141045">2</td>
<td class="gt_row gt_left" headers="T001141046">1</td>
<td class="gt_row gt_left" headers="T001141047">4</td>
<td class="gt_row gt_left" headers="T001141048">1</td>
<td class="gt_row gt_left" headers="T001141049">1</td>
<td class="gt_row gt_left" headers="T001141050">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="KEY_CODE">362257354</td>
<td class="gt_row gt_right" headers="HTKSYORI">0</td>
<td class="gt_row gt_right" headers="HTKSAKI">NA</td>
<td class="gt_row gt_right" headers="GASSAN">NA</td>
<td class="gt_row gt_left" headers="T001141001">96</td>
<td class="gt_row gt_left" headers="T001141002">91</td>
<td class="gt_row gt_left" headers="T001141003">5</td>
<td class="gt_row gt_left" headers="T001141004">0</td>
<td class="gt_row gt_left" headers="T001141005">0</td>
<td class="gt_row gt_left" headers="T001141006">0</td>
<td class="gt_row gt_left" headers="T001141007">96</td>
<td class="gt_row gt_left" headers="T001141008">91</td>
<td class="gt_row gt_left" headers="T001141009">5</td>
<td class="gt_row gt_left" headers="T001141010">96</td>
<td class="gt_row gt_left" headers="T001141011">91</td>
<td class="gt_row gt_left" headers="T001141012">5</td>
<td class="gt_row gt_left" headers="T001141013">96</td>
<td class="gt_row gt_left" headers="T001141014">91</td>
<td class="gt_row gt_left" headers="T001141015">5</td>
<td class="gt_row gt_left" headers="T001141016">96</td>
<td class="gt_row gt_left" headers="T001141017">91</td>
<td class="gt_row gt_left" headers="T001141018">5</td>
<td class="gt_row gt_left" headers="T001141019">0</td>
<td class="gt_row gt_left" headers="T001141020">0</td>
<td class="gt_row gt_left" headers="T001141021">0</td>
<td class="gt_row gt_left" headers="T001141022">0</td>
<td class="gt_row gt_left" headers="T001141023">0</td>
<td class="gt_row gt_left" headers="T001141024">0</td>
<td class="gt_row gt_left" headers="T001141025">0</td>
<td class="gt_row gt_left" headers="T001141026">0</td>
<td class="gt_row gt_left" headers="T001141027">0</td>
<td class="gt_row gt_left" headers="T001141028">0</td>
<td class="gt_row gt_left" headers="T001141029">0</td>
<td class="gt_row gt_left" headers="T001141030">0</td>
<td class="gt_row gt_left" headers="T001141031">0</td>
<td class="gt_row gt_left" headers="T001141032">0</td>
<td class="gt_row gt_left" headers="T001141033">0</td>
<td class="gt_row gt_left" headers="T001141034">11</td>
<td class="gt_row gt_left" headers="T001141035">0</td>
<td class="gt_row gt_left" headers="T001141036">0</td>
<td class="gt_row gt_left" headers="T001141037">0</td>
<td class="gt_row gt_left" headers="T001141038">0</td>
<td class="gt_row gt_left" headers="T001141039">0</td>
<td class="gt_row gt_left" headers="T001141040">0</td>
<td class="gt_row gt_left" headers="T001141041">0</td>
<td class="gt_row gt_left" headers="T001141042">0</td>
<td class="gt_row gt_left" headers="T001141043">0</td>
<td class="gt_row gt_left" headers="T001141044">0</td>
<td class="gt_row gt_left" headers="T001141045">0</td>
<td class="gt_row gt_left" headers="T001141046">0</td>
<td class="gt_row gt_left" headers="T001141047">0</td>
<td class="gt_row gt_left" headers="T001141048">0</td>
<td class="gt_row gt_left" headers="T001141049">0</td>
<td class="gt_row gt_left" headers="T001141050">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="KEY_CODE">362257381</td>
<td class="gt_row gt_right" headers="HTKSYORI">0</td>
<td class="gt_row gt_right" headers="HTKSAKI">NA</td>
<td class="gt_row gt_right" headers="GASSAN">NA</td>
<td class="gt_row gt_left" headers="T001141001">101</td>
<td class="gt_row gt_left" headers="T001141002">46</td>
<td class="gt_row gt_left" headers="T001141003">55</td>
<td class="gt_row gt_left" headers="T001141004">24</td>
<td class="gt_row gt_left" headers="T001141005">9</td>
<td class="gt_row gt_left" headers="T001141006">15</td>
<td class="gt_row gt_left" headers="T001141007">77</td>
<td class="gt_row gt_left" headers="T001141008">37</td>
<td class="gt_row gt_left" headers="T001141009">40</td>
<td class="gt_row gt_left" headers="T001141010">54</td>
<td class="gt_row gt_left" headers="T001141011">27</td>
<td class="gt_row gt_left" headers="T001141012">27</td>
<td class="gt_row gt_left" headers="T001141013">76</td>
<td class="gt_row gt_left" headers="T001141014">36</td>
<td class="gt_row gt_left" headers="T001141015">40</td>
<td class="gt_row gt_left" headers="T001141016">76</td>
<td class="gt_row gt_left" headers="T001141017">36</td>
<td class="gt_row gt_left" headers="T001141018">40</td>
<td class="gt_row gt_left" headers="T001141019">23</td>
<td class="gt_row gt_left" headers="T001141020">10</td>
<td class="gt_row gt_left" headers="T001141021">13</td>
<td class="gt_row gt_left" headers="T001141022">5</td>
<td class="gt_row gt_left" headers="T001141023">1</td>
<td class="gt_row gt_left" headers="T001141024">4</td>
<td class="gt_row gt_left" headers="T001141025">4</td>
<td class="gt_row gt_left" headers="T001141026">1</td>
<td class="gt_row gt_left" headers="T001141027">3</td>
<td class="gt_row gt_left" headers="T001141028">1</td>
<td class="gt_row gt_left" headers="T001141029">0</td>
<td class="gt_row gt_left" headers="T001141030">1</td>
<td class="gt_row gt_left" headers="T001141031">0</td>
<td class="gt_row gt_left" headers="T001141032">0</td>
<td class="gt_row gt_left" headers="T001141033">0</td>
<td class="gt_row gt_left" headers="T001141034">39</td>
<td class="gt_row gt_left" headers="T001141035">39</td>
<td class="gt_row gt_left" headers="T001141036">11</td>
<td class="gt_row gt_left" headers="T001141037">8</td>
<td class="gt_row gt_left" headers="T001141038">8</td>
<td class="gt_row gt_left" headers="T001141039">10</td>
<td class="gt_row gt_left" headers="T001141040">2</td>
<td class="gt_row gt_left" headers="T001141041">0</td>
<td class="gt_row gt_left" headers="T001141042">0</td>
<td class="gt_row gt_left" headers="T001141043">28</td>
<td class="gt_row gt_left" headers="T001141044">24</td>
<td class="gt_row gt_left" headers="T001141045">4</td>
<td class="gt_row gt_left" headers="T001141046">8</td>
<td class="gt_row gt_left" headers="T001141047">16</td>
<td class="gt_row gt_left" headers="T001141048">1</td>
<td class="gt_row gt_left" headers="T001141049">4</td>
<td class="gt_row gt_left" headers="T001141050">3</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="KEY_CODE">362257382</td>
<td class="gt_row gt_right" headers="HTKSYORI">0</td>
<td class="gt_row gt_right" headers="HTKSAKI">NA</td>
<td class="gt_row gt_right" headers="GASSAN">NA</td>
<td class="gt_row gt_left" headers="T001141001">28</td>
<td class="gt_row gt_left" headers="T001141002">16</td>
<td class="gt_row gt_left" headers="T001141003">12</td>
<td class="gt_row gt_left" headers="T001141004">1</td>
<td class="gt_row gt_left" headers="T001141005">0</td>
<td class="gt_row gt_left" headers="T001141006">1</td>
<td class="gt_row gt_left" headers="T001141007">27</td>
<td class="gt_row gt_left" headers="T001141008">16</td>
<td class="gt_row gt_left" headers="T001141009">11</td>
<td class="gt_row gt_left" headers="T001141010">19</td>
<td class="gt_row gt_left" headers="T001141011">13</td>
<td class="gt_row gt_left" headers="T001141012">6</td>
<td class="gt_row gt_left" headers="T001141013">27</td>
<td class="gt_row gt_left" headers="T001141014">16</td>
<td class="gt_row gt_left" headers="T001141015">11</td>
<td class="gt_row gt_left" headers="T001141016">27</td>
<td class="gt_row gt_left" headers="T001141017">16</td>
<td class="gt_row gt_left" headers="T001141018">11</td>
<td class="gt_row gt_left" headers="T001141019">8</td>
<td class="gt_row gt_left" headers="T001141020">3</td>
<td class="gt_row gt_left" headers="T001141021">5</td>
<td class="gt_row gt_left" headers="T001141022">6</td>
<td class="gt_row gt_left" headers="T001141023">3</td>
<td class="gt_row gt_left" headers="T001141024">3</td>
<td class="gt_row gt_left" headers="T001141025">0</td>
<td class="gt_row gt_left" headers="T001141026">0</td>
<td class="gt_row gt_left" headers="T001141027">0</td>
<td class="gt_row gt_left" headers="T001141028">0</td>
<td class="gt_row gt_left" headers="T001141029">0</td>
<td class="gt_row gt_left" headers="T001141030">0</td>
<td class="gt_row gt_left" headers="T001141031">2</td>
<td class="gt_row gt_left" headers="T001141032">1</td>
<td class="gt_row gt_left" headers="T001141033">1</td>
<td class="gt_row gt_left" headers="T001141034">18</td>
<td class="gt_row gt_left" headers="T001141035">18</td>
<td class="gt_row gt_left" headers="T001141036">11</td>
<td class="gt_row gt_left" headers="T001141037">4</td>
<td class="gt_row gt_left" headers="T001141038">3</td>
<td class="gt_row gt_left" headers="T001141039">0</td>
<td class="gt_row gt_left" headers="T001141040">0</td>
<td class="gt_row gt_left" headers="T001141041">0</td>
<td class="gt_row gt_left" headers="T001141042">0</td>
<td class="gt_row gt_left" headers="T001141043">7</td>
<td class="gt_row gt_left" headers="T001141044">6</td>
<td class="gt_row gt_left" headers="T001141045">1</td>
<td class="gt_row gt_left" headers="T001141046">0</td>
<td class="gt_row gt_left" headers="T001141047">5</td>
<td class="gt_row gt_left" headers="T001141048">1</td>
<td class="gt_row gt_left" headers="T001141049">1</td>
<td class="gt_row gt_left" headers="T001141050">2</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="KEY_CODE">362257451</td>
<td class="gt_row gt_right" headers="HTKSYORI">0</td>
<td class="gt_row gt_right" headers="HTKSAKI">NA</td>
<td class="gt_row gt_right" headers="GASSAN">NA</td>
<td class="gt_row gt_left" headers="T001141001">117</td>
<td class="gt_row gt_left" headers="T001141002">59</td>
<td class="gt_row gt_left" headers="T001141003">58</td>
<td class="gt_row gt_left" headers="T001141004">20</td>
<td class="gt_row gt_left" headers="T001141005">13</td>
<td class="gt_row gt_left" headers="T001141006">7</td>
<td class="gt_row gt_left" headers="T001141007">97</td>
<td class="gt_row gt_left" headers="T001141008">46</td>
<td class="gt_row gt_left" headers="T001141009">51</td>
<td class="gt_row gt_left" headers="T001141010">70</td>
<td class="gt_row gt_left" headers="T001141011">34</td>
<td class="gt_row gt_left" headers="T001141012">36</td>
<td class="gt_row gt_left" headers="T001141013">96</td>
<td class="gt_row gt_left" headers="T001141014">46</td>
<td class="gt_row gt_left" headers="T001141015">50</td>
<td class="gt_row gt_left" headers="T001141016">96</td>
<td class="gt_row gt_left" headers="T001141017">46</td>
<td class="gt_row gt_left" headers="T001141018">50</td>
<td class="gt_row gt_left" headers="T001141019">27</td>
<td class="gt_row gt_left" headers="T001141020">12</td>
<td class="gt_row gt_left" headers="T001141021">15</td>
<td class="gt_row gt_left" headers="T001141022">14</td>
<td class="gt_row gt_left" headers="T001141023">4</td>
<td class="gt_row gt_left" headers="T001141024">10</td>
<td class="gt_row gt_left" headers="T001141025">5</td>
<td class="gt_row gt_left" headers="T001141026">0</td>
<td class="gt_row gt_left" headers="T001141027">5</td>
<td class="gt_row gt_left" headers="T001141028">0</td>
<td class="gt_row gt_left" headers="T001141029">0</td>
<td class="gt_row gt_left" headers="T001141030">0</td>
<td class="gt_row gt_left" headers="T001141031">0</td>
<td class="gt_row gt_left" headers="T001141032">0</td>
<td class="gt_row gt_left" headers="T001141033">0</td>
<td class="gt_row gt_left" headers="T001141034">58</td>
<td class="gt_row gt_left" headers="T001141035">58</td>
<td class="gt_row gt_left" headers="T001141036">25</td>
<td class="gt_row gt_left" headers="T001141037">18</td>
<td class="gt_row gt_left" headers="T001141038">10</td>
<td class="gt_row gt_left" headers="T001141039">1</td>
<td class="gt_row gt_left" headers="T001141040">2</td>
<td class="gt_row gt_left" headers="T001141041">2</td>
<td class="gt_row gt_left" headers="T001141042">0</td>
<td class="gt_row gt_left" headers="T001141043">32</td>
<td class="gt_row gt_left" headers="T001141044">25</td>
<td class="gt_row gt_left" headers="T001141045">7</td>
<td class="gt_row gt_left" headers="T001141046">3</td>
<td class="gt_row gt_left" headers="T001141047">22</td>
<td class="gt_row gt_left" headers="T001141048">0</td>
<td class="gt_row gt_left" headers="T001141049">7</td>
<td class="gt_row gt_left" headers="T001141050">4</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</figure>
</div>
</div>
<p>これを見てみると、1行目には特に意味がなく、2行目が列名になっていることが分かります。</p>
<p>そこで、1行目をスキップして読み込むために、<code>read_csv()</code> 内で skip を指定します。</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">test_skip1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/census_2020/tblT001141H3622.txt"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, </span>
<span id="cb4-2">                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">locale =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">locale</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">encoding =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Shift_JIS"</span>))</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(test_skip1)</span></code></pre></div>
</div>
<div class="cell">
<div id="tbl-file-check-skip1" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-file-check-skip1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
表&nbsp;2: 1行目をスキップ
</figcaption>
<div aria-describedby="tbl-file-check-skip1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="svudgbcsoj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#svudgbcsoj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#svudgbcsoj thead, #svudgbcsoj tbody, #svudgbcsoj tfoot, #svudgbcsoj tr, #svudgbcsoj td, #svudgbcsoj th {
  border-style: none;
}

#svudgbcsoj p {
  margin: 0;
  padding: 0;
}

#svudgbcsoj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#svudgbcsoj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#svudgbcsoj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#svudgbcsoj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#svudgbcsoj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#svudgbcsoj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#svudgbcsoj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#svudgbcsoj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#svudgbcsoj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#svudgbcsoj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#svudgbcsoj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#svudgbcsoj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#svudgbcsoj .gt_spanner_row {
  border-bottom-style: hidden;
}

#svudgbcsoj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#svudgbcsoj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#svudgbcsoj .gt_from_md > :first-child {
  margin-top: 0;
}

#svudgbcsoj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#svudgbcsoj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#svudgbcsoj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#svudgbcsoj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#svudgbcsoj .gt_row_group_first td {
  border-top-width: 2px;
}

#svudgbcsoj .gt_row_group_first th {
  border-top-width: 2px;
}

#svudgbcsoj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#svudgbcsoj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#svudgbcsoj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#svudgbcsoj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#svudgbcsoj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#svudgbcsoj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#svudgbcsoj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#svudgbcsoj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#svudgbcsoj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#svudgbcsoj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#svudgbcsoj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#svudgbcsoj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#svudgbcsoj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#svudgbcsoj .gt_left {
  text-align: left;
}

#svudgbcsoj .gt_center {
  text-align: center;
}

#svudgbcsoj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#svudgbcsoj .gt_font_normal {
  font-weight: normal;
}

#svudgbcsoj .gt_font_bold {
  font-weight: bold;
}

#svudgbcsoj .gt_font_italic {
  font-style: italic;
}

#svudgbcsoj .gt_super {
  font-size: 65%;
}

#svudgbcsoj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#svudgbcsoj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#svudgbcsoj .gt_indent_1 {
  text-indent: 5px;
}

#svudgbcsoj .gt_indent_2 {
  text-indent: 10px;
}

#svudgbcsoj .gt_indent_3 {
  text-indent: 15px;
}

#svudgbcsoj .gt_indent_4 {
  text-indent: 20px;
}

#svudgbcsoj .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table do-not-create-environment cell caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="...1" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">...1</th>
<th id="...2" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">...2</th>
<th id="...3" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">...3</th>
<th id="...4" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">...4</th>
<th id="　人口（総数）" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　人口（総数）</th>
<th id="　人口（総数）　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　人口（総数）　男</th>
<th id="　人口（総数）　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　人口（総数）　女</th>
<th id="　０〜１４歳人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　０〜１４歳人口　総数</th>
<th id="　０〜１４歳人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　０〜１４歳人口　男</th>
<th id="　０〜１４歳人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　０〜１４歳人口　女</th>
<th id="　１５歳以上人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１５歳以上人口　総数</th>
<th id="　１５歳以上人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１５歳以上人口　男</th>
<th id="　１５歳以上人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１５歳以上人口　女</th>
<th id="　１５〜６４歳人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１５〜６４歳人口　総数</th>
<th id="　１５〜６４歳人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１５〜６４歳人口　男</th>
<th id="　１５〜６４歳人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１５〜６４歳人口　女</th>
<th id="　１８歳以上人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１８歳以上人口　総数</th>
<th id="　１８歳以上人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１８歳以上人口　男</th>
<th id="　１８歳以上人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１８歳以上人口　女</th>
<th id="　２０歳以上人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　２０歳以上人口　総数</th>
<th id="　２０歳以上人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　２０歳以上人口　男</th>
<th id="　２０歳以上人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　２０歳以上人口　女</th>
<th id="　６５歳以上人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　６５歳以上人口　総数</th>
<th id="　６５歳以上人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　６５歳以上人口　男</th>
<th id="　６５歳以上人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　６５歳以上人口　女</th>
<th id="　７５歳以上人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　７５歳以上人口　総数</th>
<th id="　７５歳以上人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　７５歳以上人口　男</th>
<th id="　７５歳以上人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　７５歳以上人口　女</th>
<th id="　８５歳以上人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　８５歳以上人口　総数</th>
<th id="　８５歳以上人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　８５歳以上人口　男</th>
<th id="　８５歳以上人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　８５歳以上人口　女</th>
<th id="　９５歳以上人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　９５歳以上人口　総数</th>
<th id="　９５歳以上人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　９５歳以上人口　男</th>
<th id="　９５歳以上人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　９５歳以上人口　女</th>
<th id="　外国人人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　外国人人口　総数</th>
<th id="　外国人人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　外国人人口　男</th>
<th id="　外国人人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　外国人人口　女</th>
<th id="　世帯総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　世帯総数</th>
<th id="　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　一般世帯数</th>
<th id="　１人世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１人世帯数　一般世帯数</th>
<th id="　２人世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　２人世帯数　一般世帯数</th>
<th id="　３人世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　３人世帯数　一般世帯数</th>
<th id="　４人世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　４人世帯数　一般世帯数</th>
<th id="　５人世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　５人世帯数　一般世帯数</th>
<th id="　６人世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　６人世帯数　一般世帯数</th>
<th id="　７人以上世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　７人以上世帯数　一般世帯数</th>
<th id="　親族のみの世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　親族のみの世帯数　一般世帯数</th>
<th id="　核家族世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　核家族世帯数　一般世帯数</th>
<th id="　核家族以外の世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　核家族以外の世帯数　一般世帯数</th>
<th id="　６歳未満世帯員のいる世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　６歳未満世帯員のいる世帯数　一般世帯数</th>
<th id="　６５歳以上世帯員のいる世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　６５歳以上世帯員のいる世帯数　一般世帯数</th>
<th id="　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数</th>
<th id="　高齢単身世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　高齢単身世帯数　一般世帯数</th>
<th id="　高齢夫婦世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　高齢夫婦世帯数　一般世帯数</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="...1">362257353</td>
<td class="gt_row gt_right" headers="...2">0</td>
<td class="gt_row gt_right" headers="...3">NA</td>
<td class="gt_row gt_right" headers="...4">NA</td>
<td class="gt_row gt_right" headers="　人口（総数）">29</td>
<td class="gt_row gt_right" headers="　人口（総数）　男">15</td>
<td class="gt_row gt_right" headers="　人口（総数）　女">14</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　総数">5</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　男">2</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　女">3</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　総数">24</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　男">13</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　女">11</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　総数">19</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　男">11</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　女">8</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　総数">23</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　男">12</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　女">11</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　総数">23</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　男">12</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　女">11</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　総数">5</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　男">2</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　女">3</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　総数">1</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　男">1</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　女">0</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　総数">0</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　男">0</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　女">0</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　総数">0</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　男">0</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　女">0</td>
<td class="gt_row gt_right" headers="　外国人人口　総数">0</td>
<td class="gt_row gt_right" headers="　外国人人口　男">0</td>
<td class="gt_row gt_right" headers="　外国人人口　女">0</td>
<td class="gt_row gt_right" headers="　世帯総数">16</td>
<td class="gt_row gt_right" headers="　一般世帯数">16</td>
<td class="gt_row gt_right" headers="　１人世帯数　一般世帯数">10</td>
<td class="gt_row gt_right" headers="　２人世帯数　一般世帯数">1</td>
<td class="gt_row gt_right" headers="　３人世帯数　一般世帯数">4</td>
<td class="gt_row gt_right" headers="　４人世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　５人世帯数　一般世帯数">1</td>
<td class="gt_row gt_right" headers="　６人世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　７人以上世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　親族のみの世帯数　一般世帯数">6</td>
<td class="gt_row gt_right" headers="　核家族世帯数　一般世帯数">4</td>
<td class="gt_row gt_right" headers="　核家族以外の世帯数　一般世帯数">2</td>
<td class="gt_row gt_right" headers="　６歳未満世帯員のいる世帯数　一般世帯数">1</td>
<td class="gt_row gt_right" headers="　６５歳以上世帯員のいる世帯数　一般世帯数">4</td>
<td class="gt_row gt_right" headers="　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数">1</td>
<td class="gt_row gt_right" headers="　高齢単身世帯数　一般世帯数">1</td>
<td class="gt_row gt_right" headers="　高齢夫婦世帯数　一般世帯数">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="...1">362257354</td>
<td class="gt_row gt_right" headers="...2">0</td>
<td class="gt_row gt_right" headers="...3">NA</td>
<td class="gt_row gt_right" headers="...4">NA</td>
<td class="gt_row gt_right" headers="　人口（総数）">96</td>
<td class="gt_row gt_right" headers="　人口（総数）　男">91</td>
<td class="gt_row gt_right" headers="　人口（総数）　女">5</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　総数">0</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　男">0</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　女">0</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　総数">96</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　男">91</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　女">5</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　総数">96</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　男">91</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　女">5</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　総数">96</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　男">91</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　女">5</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　総数">96</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　男">91</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　女">5</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　総数">0</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　男">0</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　女">0</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　総数">0</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　男">0</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　女">0</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　総数">0</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　男">0</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　女">0</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　総数">0</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　男">0</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　女">0</td>
<td class="gt_row gt_right" headers="　外国人人口　総数">0</td>
<td class="gt_row gt_right" headers="　外国人人口　男">0</td>
<td class="gt_row gt_right" headers="　外国人人口　女">0</td>
<td class="gt_row gt_right" headers="　世帯総数">11</td>
<td class="gt_row gt_right" headers="　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　１人世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　２人世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　３人世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　４人世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　５人世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　６人世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　７人以上世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　親族のみの世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　核家族世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　核家族以外の世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　６歳未満世帯員のいる世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　６５歳以上世帯員のいる世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　高齢単身世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　高齢夫婦世帯数　一般世帯数">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="...1">362257381</td>
<td class="gt_row gt_right" headers="...2">0</td>
<td class="gt_row gt_right" headers="...3">NA</td>
<td class="gt_row gt_right" headers="...4">NA</td>
<td class="gt_row gt_right" headers="　人口（総数）">101</td>
<td class="gt_row gt_right" headers="　人口（総数）　男">46</td>
<td class="gt_row gt_right" headers="　人口（総数）　女">55</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　総数">24</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　男">9</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　女">15</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　総数">77</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　男">37</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　女">40</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　総数">54</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　男">27</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　女">27</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　総数">76</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　男">36</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　女">40</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　総数">76</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　男">36</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　女">40</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　総数">23</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　男">10</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　女">13</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　総数">5</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　男">1</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　女">4</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　総数">4</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　男">1</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　女">3</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　総数">1</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　男">0</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　女">1</td>
<td class="gt_row gt_right" headers="　外国人人口　総数">0</td>
<td class="gt_row gt_right" headers="　外国人人口　男">0</td>
<td class="gt_row gt_right" headers="　外国人人口　女">0</td>
<td class="gt_row gt_right" headers="　世帯総数">39</td>
<td class="gt_row gt_right" headers="　一般世帯数">39</td>
<td class="gt_row gt_right" headers="　１人世帯数　一般世帯数">11</td>
<td class="gt_row gt_right" headers="　２人世帯数　一般世帯数">8</td>
<td class="gt_row gt_right" headers="　３人世帯数　一般世帯数">8</td>
<td class="gt_row gt_right" headers="　４人世帯数　一般世帯数">10</td>
<td class="gt_row gt_right" headers="　５人世帯数　一般世帯数">2</td>
<td class="gt_row gt_right" headers="　６人世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　７人以上世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　親族のみの世帯数　一般世帯数">28</td>
<td class="gt_row gt_right" headers="　核家族世帯数　一般世帯数">24</td>
<td class="gt_row gt_right" headers="　核家族以外の世帯数　一般世帯数">4</td>
<td class="gt_row gt_right" headers="　６歳未満世帯員のいる世帯数　一般世帯数">8</td>
<td class="gt_row gt_right" headers="　６５歳以上世帯員のいる世帯数　一般世帯数">16</td>
<td class="gt_row gt_right" headers="　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数">1</td>
<td class="gt_row gt_right" headers="　高齢単身世帯数　一般世帯数">4</td>
<td class="gt_row gt_right" headers="　高齢夫婦世帯数　一般世帯数">3</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="...1">362257382</td>
<td class="gt_row gt_right" headers="...2">0</td>
<td class="gt_row gt_right" headers="...3">NA</td>
<td class="gt_row gt_right" headers="...4">NA</td>
<td class="gt_row gt_right" headers="　人口（総数）">28</td>
<td class="gt_row gt_right" headers="　人口（総数）　男">16</td>
<td class="gt_row gt_right" headers="　人口（総数）　女">12</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　総数">1</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　男">0</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　女">1</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　総数">27</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　男">16</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　女">11</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　総数">19</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　男">13</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　女">6</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　総数">27</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　男">16</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　女">11</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　総数">27</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　男">16</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　女">11</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　総数">8</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　男">3</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　女">5</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　総数">6</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　男">3</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　女">3</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　総数">0</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　男">0</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　女">0</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　総数">0</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　男">0</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　女">0</td>
<td class="gt_row gt_right" headers="　外国人人口　総数">2</td>
<td class="gt_row gt_right" headers="　外国人人口　男">1</td>
<td class="gt_row gt_right" headers="　外国人人口　女">1</td>
<td class="gt_row gt_right" headers="　世帯総数">18</td>
<td class="gt_row gt_right" headers="　一般世帯数">18</td>
<td class="gt_row gt_right" headers="　１人世帯数　一般世帯数">11</td>
<td class="gt_row gt_right" headers="　２人世帯数　一般世帯数">4</td>
<td class="gt_row gt_right" headers="　３人世帯数　一般世帯数">3</td>
<td class="gt_row gt_right" headers="　４人世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　５人世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　６人世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　７人以上世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　親族のみの世帯数　一般世帯数">7</td>
<td class="gt_row gt_right" headers="　核家族世帯数　一般世帯数">6</td>
<td class="gt_row gt_right" headers="　核家族以外の世帯数　一般世帯数">1</td>
<td class="gt_row gt_right" headers="　６歳未満世帯員のいる世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　６５歳以上世帯員のいる世帯数　一般世帯数">5</td>
<td class="gt_row gt_right" headers="　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数">1</td>
<td class="gt_row gt_right" headers="　高齢単身世帯数　一般世帯数">1</td>
<td class="gt_row gt_right" headers="　高齢夫婦世帯数　一般世帯数">2</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="...1">362257451</td>
<td class="gt_row gt_right" headers="...2">0</td>
<td class="gt_row gt_right" headers="...3">NA</td>
<td class="gt_row gt_right" headers="...4">NA</td>
<td class="gt_row gt_right" headers="　人口（総数）">117</td>
<td class="gt_row gt_right" headers="　人口（総数）　男">59</td>
<td class="gt_row gt_right" headers="　人口（総数）　女">58</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　総数">20</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　男">13</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　女">7</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　総数">97</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　男">46</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　女">51</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　総数">70</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　男">34</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　女">36</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　総数">96</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　男">46</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　女">50</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　総数">96</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　男">46</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　女">50</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　総数">27</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　男">12</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　女">15</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　総数">14</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　男">4</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　女">10</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　総数">5</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　男">0</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　女">5</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　総数">0</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　男">0</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　女">0</td>
<td class="gt_row gt_right" headers="　外国人人口　総数">0</td>
<td class="gt_row gt_right" headers="　外国人人口　男">0</td>
<td class="gt_row gt_right" headers="　外国人人口　女">0</td>
<td class="gt_row gt_right" headers="　世帯総数">58</td>
<td class="gt_row gt_right" headers="　一般世帯数">58</td>
<td class="gt_row gt_right" headers="　１人世帯数　一般世帯数">25</td>
<td class="gt_row gt_right" headers="　２人世帯数　一般世帯数">18</td>
<td class="gt_row gt_right" headers="　３人世帯数　一般世帯数">10</td>
<td class="gt_row gt_right" headers="　４人世帯数　一般世帯数">1</td>
<td class="gt_row gt_right" headers="　５人世帯数　一般世帯数">2</td>
<td class="gt_row gt_right" headers="　６人世帯数　一般世帯数">2</td>
<td class="gt_row gt_right" headers="　７人以上世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　親族のみの世帯数　一般世帯数">32</td>
<td class="gt_row gt_right" headers="　核家族世帯数　一般世帯数">25</td>
<td class="gt_row gt_right" headers="　核家族以外の世帯数　一般世帯数">7</td>
<td class="gt_row gt_right" headers="　６歳未満世帯員のいる世帯数　一般世帯数">3</td>
<td class="gt_row gt_right" headers="　６５歳以上世帯員のいる世帯数　一般世帯数">22</td>
<td class="gt_row gt_right" headers="　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数">0</td>
<td class="gt_row gt_right" headers="　高齢単身世帯数　一般世帯数">7</td>
<td class="gt_row gt_right" headers="　高齢夫婦世帯数　一般世帯数">4</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="...1">362257452</td>
<td class="gt_row gt_right" headers="...2">1</td>
<td class="gt_row gt_right" headers="...3">NA</td>
<td class="gt_row gt_right" headers="...4">362257454</td>
<td class="gt_row gt_right" headers="　人口（総数）">348</td>
<td class="gt_row gt_right" headers="　人口（総数）　男">182</td>
<td class="gt_row gt_right" headers="　人口（総数）　女">166</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　総数">85</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　男">41</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　女">44</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　総数">273</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　男">149</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　女">124</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　総数">214</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　男">118</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　女">96</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　総数">271</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　男">148</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　女">123</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　総数">269</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　男">148</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　女">121</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　総数">59</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　男">31</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　女">28</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　総数">23</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　男">10</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　女">13</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　総数">11</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　男">3</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　女">8</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　総数">0</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　男">0</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　女">0</td>
<td class="gt_row gt_right" headers="　外国人人口　総数">0</td>
<td class="gt_row gt_right" headers="　外国人人口　男">0</td>
<td class="gt_row gt_right" headers="　外国人人口　女">0</td>
<td class="gt_row gt_right" headers="　世帯総数">162</td>
<td class="gt_row gt_right" headers="　一般世帯数">162</td>
<td class="gt_row gt_right" headers="　１人世帯数　一般世帯数">86</td>
<td class="gt_row gt_right" headers="　２人世帯数　一般世帯数">34</td>
<td class="gt_row gt_right" headers="　３人世帯数　一般世帯数">19</td>
<td class="gt_row gt_right" headers="　４人世帯数　一般世帯数">15</td>
<td class="gt_row gt_right" headers="　５人世帯数　一般世帯数">10</td>
<td class="gt_row gt_right" headers="　６人世帯数　一般世帯数">5</td>
<td class="gt_row gt_right" headers="　７人以上世帯数　一般世帯数">1</td>
<td class="gt_row gt_right" headers="　親族のみの世帯数　一般世帯数">80</td>
<td class="gt_row gt_right" headers="　核家族世帯数　一般世帯数">72</td>
<td class="gt_row gt_right" headers="　核家族以外の世帯数　一般世帯数">8</td>
<td class="gt_row gt_right" headers="　６歳未満世帯員のいる世帯数　一般世帯数">26</td>
<td class="gt_row gt_right" headers="　６５歳以上世帯員のいる世帯数　一般世帯数">43</td>
<td class="gt_row gt_right" headers="　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数">12</td>
<td class="gt_row gt_right" headers="　高齢単身世帯数　一般世帯数">18</td>
<td class="gt_row gt_right" headers="　高齢夫婦世帯数　一般世帯数">9</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</figure>
</div>
</div>
<p>この後必要な列をセレクトして名前を付け直すので、ここで一旦列名を確認してみましょう。</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colnames</span>(test_skip1)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "...1"                                                
 [2] "...2"                                                
 [3] "...3"                                                
 [4] "...4"                                                
 [5] "　人口（総数）"                                      
 [6] "　人口（総数）　男"                                  
 [7] "　人口（総数）　女"                                  
 [8] "　０〜１４歳人口　総数"                              
 [9] "　０〜１４歳人口　男"                                
[10] "　０〜１４歳人口　女"                                
[11] "　１５歳以上人口　総数"                              
[12] "　１５歳以上人口　男"                                
[13] "　１５歳以上人口　女"                                
[14] "　１５〜６４歳人口　総数"                            
[15] "　１５〜６４歳人口　男"                              
[16] "　１５〜６４歳人口　女"                              
[17] "　１８歳以上人口　総数"                              
[18] "　１８歳以上人口　男"                                
[19] "　１８歳以上人口　女"                                
[20] "　２０歳以上人口　総数"                              
[21] "　２０歳以上人口　男"                                
[22] "　２０歳以上人口　女"                                
[23] "　６５歳以上人口　総数"                              
[24] "　６５歳以上人口　男"                                
[25] "　６５歳以上人口　女"                                
[26] "　７５歳以上人口　総数"                              
[27] "　７５歳以上人口　男"                                
[28] "　７５歳以上人口　女"                                
[29] "　８５歳以上人口　総数"                              
[30] "　８５歳以上人口　男"                                
[31] "　８５歳以上人口　女"                                
[32] "　９５歳以上人口　総数"                              
[33] "　９５歳以上人口　男"                                
[34] "　９５歳以上人口　女"                                
[35] "　外国人人口　総数"                                  
[36] "　外国人人口　男"                                    
[37] "　外国人人口　女"                                    
[38] "　世帯総数"                                          
[39] "　一般世帯数"                                        
[40] "　１人世帯数　一般世帯数"                            
[41] "　２人世帯数　一般世帯数"                            
[42] "　３人世帯数　一般世帯数"                            
[43] "　４人世帯数　一般世帯数"                            
[44] "　５人世帯数　一般世帯数"                            
[45] "　６人世帯数　一般世帯数"                            
[46] "　７人以上世帯数　一般世帯数"                        
[47] "　親族のみの世帯数　一般世帯数"                      
[48] "　核家族世帯数　一般世帯数"                          
[49] "　核家族以外の世帯数　一般世帯数"                    
[50] "　６歳未満世帯員のいる世帯数　一般世帯数"            
[51] "　６５歳以上世帯員のいる世帯数　一般世帯数"          
[52] "　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数"
[53] "　高齢単身世帯数　一般世帯数"                        
[54] "　高齢夫婦世帯数　一般世帯数"                        </code></pre>
</div>
</div>
<p>これはトラップで、よく見ると変数名の前に全角スペースが空いています。列名を変更するときはここに注意しないと、謎のエラーに苛まれます。</p>
</section>
</section>
<section id="まとめて読み込む" class="level3">
<h3 class="anchored" data-anchor-id="まとめて読み込む">まとめて読み込む</h3>
<p>ではファイルの中身を確認できたところで、ファイルをまとめて読み込みます。</p>
<p>結論から言うと、コードは以下です。</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 指定されたディレクトリ内のファイル名の文字ベクトルを生成</span></span>
<span id="cb8-2">census_files <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list.files</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/census_2020"</span>),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ファイルが入っているフォルダのパス</span></span>
<span id="cb8-3">                           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">.txt$"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">full.names =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb8-4"></span>
<span id="cb8-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># lapplyで、ファイル一覧に対して読み込む関数を適用</span></span>
<span id="cb8-6">census_objects <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lapply</span>(</span>
<span id="cb8-7">  census_files, </span>
<span id="cb8-8">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(file) {</span>
<span id="cb8-9">    census_obj <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(file, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">locale =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">locale</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">encoding =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Shift_JIS"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb8-10">      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 使いたい列をセレクトする</span></span>
<span id="cb8-11">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"　人口（総数）"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"　０〜１４歳人口　総数"</span>, </span>
<span id="cb8-12">             <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"　１５〜６４歳人口　総数"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"　６５歳以上人口　総数"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb8-13">      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2列目が0であれば秘匿対象外</span></span>
<span id="cb8-14">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(...<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb8-15">      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2, 3, 4列目はもう使わないので除く</span></span>
<span id="cb8-16">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(...<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, ...<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, ...<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb8-17">      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 変数名は任意</span></span>
<span id="cb8-18">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(</span>
<span id="cb8-19">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">KEY_CODE =</span> ...<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, </span>
<span id="cb8-20">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pop_total =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"　人口（総数）"</span>, </span>
<span id="cb8-21">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pop_young =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"　０〜１４歳人口　総数"</span>, </span>
<span id="cb8-22">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pop_working =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"　１５〜６４歳人口　総数"</span>, </span>
<span id="cb8-23">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pop_old =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"　６５歳以上人口　総数"</span></span>
<span id="cb8-24">      ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb8-25">      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 変数のクラスを指定</span></span>
<span id="cb8-26">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb8-27">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">KEY_CODE =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(KEY_CODE), </span>
<span id="cb8-28">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pop_total =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(pop_total), </span>
<span id="cb8-29">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pop_young =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(pop_young), </span>
<span id="cb8-30">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pop_working =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(pop_working), </span>
<span id="cb8-31">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pop_old =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(pop_old)</span>
<span id="cb8-32">      )</span>
<span id="cb8-33">  }</span>
<span id="cb8-34">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb8-35">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 読み込んだデータをバインドする</span></span>
<span id="cb8-36">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">bind_rows</span>()</span></code></pre></div>
</div>
<p>ポイントをいくつか挙げます。</p>
<p><strong>ポイント</strong></p>
<ol type="1">
<li><p><code>list.files()</code></p>
<ul>
<li>指定したフォルダ内の <code>.txt</code> で終わるファイルを取得しています。</li>
</ul></li>
<li><p><code>lapply()</code></p>
<ul>
<li><p>第1引数（1で取得したファイル）に対し、第2引数（<code>function</code>）を適用します。</p></li>
<li><p><code>function</code> では、ファイルの読み込みや変数名の変更など、いくつかの作業をして結果を返すよう指示しています。</p></li>
</ul></li>
<li><p><code>filter(...2 == 0)</code></p>
<ul>
<li><p><code>...2</code> はもともと <code>HTKSYORI</code>（秘匿処理） という列名でした。これが0であると秘匿対象外であり、データが存在します<sup>2</sup>。</p></li>
<li><p>逆に秘匿対象だと 表&nbsp;3 のようになります。</p></li>
<li><p>フィルターをかけてデータがあるところを抽出します。</p></li>
</ul></li>
</ol>
<div class="cell">
<div id="tbl-hitoku" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-hitoku-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
表&nbsp;3: データがアスタリスクで置き換えられています。
</figcaption>
<div aria-describedby="tbl-hitoku-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="vuemhniref" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#vuemhniref table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#vuemhniref thead, #vuemhniref tbody, #vuemhniref tfoot, #vuemhniref tr, #vuemhniref td, #vuemhniref th {
  border-style: none;
}

#vuemhniref p {
  margin: 0;
  padding: 0;
}

#vuemhniref .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vuemhniref .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#vuemhniref .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vuemhniref .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vuemhniref .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vuemhniref .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vuemhniref .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vuemhniref .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vuemhniref .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vuemhniref .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vuemhniref .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vuemhniref .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vuemhniref .gt_spanner_row {
  border-bottom-style: hidden;
}

#vuemhniref .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#vuemhniref .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vuemhniref .gt_from_md > :first-child {
  margin-top: 0;
}

#vuemhniref .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vuemhniref .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vuemhniref .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#vuemhniref .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#vuemhniref .gt_row_group_first td {
  border-top-width: 2px;
}

#vuemhniref .gt_row_group_first th {
  border-top-width: 2px;
}

#vuemhniref .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vuemhniref .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#vuemhniref .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#vuemhniref .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vuemhniref .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vuemhniref .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vuemhniref .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#vuemhniref .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vuemhniref .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vuemhniref .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vuemhniref .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vuemhniref .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vuemhniref .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vuemhniref .gt_left {
  text-align: left;
}

#vuemhniref .gt_center {
  text-align: center;
}

#vuemhniref .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vuemhniref .gt_font_normal {
  font-weight: normal;
}

#vuemhniref .gt_font_bold {
  font-weight: bold;
}

#vuemhniref .gt_font_italic {
  font-style: italic;
}

#vuemhniref .gt_super {
  font-size: 65%;
}

#vuemhniref .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#vuemhniref .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#vuemhniref .gt_indent_1 {
  text-indent: 5px;
}

#vuemhniref .gt_indent_2 {
  text-indent: 10px;
}

#vuemhniref .gt_indent_3 {
  text-indent: 15px;
}

#vuemhniref .gt_indent_4 {
  text-indent: 20px;
}

#vuemhniref .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table do-not-create-environment cell caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="...1" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">...1</th>
<th id="...2" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">...2</th>
<th id="...3" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">...3</th>
<th id="...4" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">...4</th>
<th id="　人口（総数）" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　人口（総数）</th>
<th id="　人口（総数）　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　人口（総数）　男</th>
<th id="　人口（総数）　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　人口（総数）　女</th>
<th id="　０〜１４歳人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　０〜１４歳人口　総数</th>
<th id="　０〜１４歳人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　０〜１４歳人口　男</th>
<th id="　０〜１４歳人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　０〜１４歳人口　女</th>
<th id="　１５歳以上人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１５歳以上人口　総数</th>
<th id="　１５歳以上人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１５歳以上人口　男</th>
<th id="　１５歳以上人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１５歳以上人口　女</th>
<th id="　１５〜６４歳人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１５〜６４歳人口　総数</th>
<th id="　１５〜６４歳人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１５〜６４歳人口　男</th>
<th id="　１５〜６４歳人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１５〜６４歳人口　女</th>
<th id="　１８歳以上人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１８歳以上人口　総数</th>
<th id="　１８歳以上人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１８歳以上人口　男</th>
<th id="　１８歳以上人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１８歳以上人口　女</th>
<th id="　２０歳以上人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　２０歳以上人口　総数</th>
<th id="　２０歳以上人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　２０歳以上人口　男</th>
<th id="　２０歳以上人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　２０歳以上人口　女</th>
<th id="　６５歳以上人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　６５歳以上人口　総数</th>
<th id="　６５歳以上人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　６５歳以上人口　男</th>
<th id="　６５歳以上人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　６５歳以上人口　女</th>
<th id="　７５歳以上人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　７５歳以上人口　総数</th>
<th id="　７５歳以上人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　７５歳以上人口　男</th>
<th id="　７５歳以上人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　７５歳以上人口　女</th>
<th id="　８５歳以上人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　８５歳以上人口　総数</th>
<th id="　８５歳以上人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　８５歳以上人口　男</th>
<th id="　８５歳以上人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　８５歳以上人口　女</th>
<th id="　９５歳以上人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　９５歳以上人口　総数</th>
<th id="　９５歳以上人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　９５歳以上人口　男</th>
<th id="　９５歳以上人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　９５歳以上人口　女</th>
<th id="　外国人人口　総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　外国人人口　総数</th>
<th id="　外国人人口　男" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　外国人人口　男</th>
<th id="　外国人人口　女" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　外国人人口　女</th>
<th id="　世帯総数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　世帯総数</th>
<th id="　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　一般世帯数</th>
<th id="　１人世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　１人世帯数　一般世帯数</th>
<th id="　２人世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　２人世帯数　一般世帯数</th>
<th id="　３人世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　３人世帯数　一般世帯数</th>
<th id="　４人世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　４人世帯数　一般世帯数</th>
<th id="　５人世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　５人世帯数　一般世帯数</th>
<th id="　６人世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　６人世帯数　一般世帯数</th>
<th id="　７人以上世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　７人以上世帯数　一般世帯数</th>
<th id="　親族のみの世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　親族のみの世帯数　一般世帯数</th>
<th id="　核家族世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　核家族世帯数　一般世帯数</th>
<th id="　核家族以外の世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　核家族以外の世帯数　一般世帯数</th>
<th id="　６歳未満世帯員のいる世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　６歳未満世帯員のいる世帯数　一般世帯数</th>
<th id="　６５歳以上世帯員のいる世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　６５歳以上世帯員のいる世帯数　一般世帯数</th>
<th id="　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数</th>
<th id="　高齢単身世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　高齢単身世帯数　一般世帯数</th>
<th id="　高齢夫婦世帯数　一般世帯数" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">　高齢夫婦世帯数　一般世帯数</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="...1">372501594</td>
<td class="gt_row gt_right" headers="...2">2</td>
<td class="gt_row gt_right" headers="...3">372501694</td>
<td class="gt_row gt_left" headers="...4">NA</td>
<td class="gt_row gt_right" headers="　人口（総数）">5</td>
<td class="gt_row gt_right" headers="　人口（総数）　男">1</td>
<td class="gt_row gt_right" headers="　人口（総数）　女">4</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　総数">*</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　男">*</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　女">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　総数">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　男">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　女">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　外国人人口　総数">*</td>
<td class="gt_row gt_right" headers="　外国人人口　男">*</td>
<td class="gt_row gt_right" headers="　外国人人口　女">*</td>
<td class="gt_row gt_right" headers="　世帯総数">3</td>
<td class="gt_row gt_right" headers="　一般世帯数">3</td>
<td class="gt_row gt_right" headers="　１人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　２人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　３人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　４人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　５人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　７人以上世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　親族のみの世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　核家族世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　核家族以外の世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６歳未満世帯員のいる世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６５歳以上世帯員のいる世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　高齢単身世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　高齢夫婦世帯数　一般世帯数">*</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="...1">372502503</td>
<td class="gt_row gt_right" headers="...2">2</td>
<td class="gt_row gt_right" headers="...3">372502603</td>
<td class="gt_row gt_left" headers="...4">NA</td>
<td class="gt_row gt_right" headers="　人口（総数）">5</td>
<td class="gt_row gt_right" headers="　人口（総数）　男">3</td>
<td class="gt_row gt_right" headers="　人口（総数）　女">2</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　総数">*</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　男">*</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　女">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　総数">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　男">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　女">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　外国人人口　総数">*</td>
<td class="gt_row gt_right" headers="　外国人人口　男">*</td>
<td class="gt_row gt_right" headers="　外国人人口　女">*</td>
<td class="gt_row gt_right" headers="　世帯総数">2</td>
<td class="gt_row gt_right" headers="　一般世帯数">2</td>
<td class="gt_row gt_right" headers="　１人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　２人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　３人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　４人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　５人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　７人以上世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　親族のみの世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　核家族世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　核家族以外の世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６歳未満世帯員のいる世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６５歳以上世帯員のいる世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　高齢単身世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　高齢夫婦世帯数　一般世帯数">*</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="...1">372502701</td>
<td class="gt_row gt_right" headers="...2">2</td>
<td class="gt_row gt_right" headers="...3">372502603</td>
<td class="gt_row gt_left" headers="...4">NA</td>
<td class="gt_row gt_right" headers="　人口（総数）">9</td>
<td class="gt_row gt_right" headers="　人口（総数）　男">6</td>
<td class="gt_row gt_right" headers="　人口（総数）　女">3</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　総数">*</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　男">*</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　女">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　総数">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　男">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　女">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　外国人人口　総数">*</td>
<td class="gt_row gt_right" headers="　外国人人口　男">*</td>
<td class="gt_row gt_right" headers="　外国人人口　女">*</td>
<td class="gt_row gt_right" headers="　世帯総数">5</td>
<td class="gt_row gt_right" headers="　一般世帯数">5</td>
<td class="gt_row gt_right" headers="　１人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　２人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　３人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　４人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　５人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　７人以上世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　親族のみの世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　核家族世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　核家族以外の世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６歳未満世帯員のいる世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６５歳以上世帯員のいる世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　高齢単身世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　高齢夫婦世帯数　一般世帯数">*</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="...1">372502723</td>
<td class="gt_row gt_right" headers="...2">2</td>
<td class="gt_row gt_right" headers="...3">372502722</td>
<td class="gt_row gt_left" headers="...4">NA</td>
<td class="gt_row gt_right" headers="　人口（総数）">4</td>
<td class="gt_row gt_right" headers="　人口（総数）　男">1</td>
<td class="gt_row gt_right" headers="　人口（総数）　女">3</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　総数">*</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　男">*</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　女">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　総数">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　男">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　女">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　外国人人口　総数">*</td>
<td class="gt_row gt_right" headers="　外国人人口　男">*</td>
<td class="gt_row gt_right" headers="　外国人人口　女">*</td>
<td class="gt_row gt_right" headers="　世帯総数">2</td>
<td class="gt_row gt_right" headers="　一般世帯数">2</td>
<td class="gt_row gt_right" headers="　１人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　２人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　３人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　４人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　５人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　７人以上世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　親族のみの世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　核家族世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　核家族以外の世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６歳未満世帯員のいる世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６５歳以上世帯員のいる世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　高齢単身世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　高齢夫婦世帯数　一般世帯数">*</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="...1">372502724</td>
<td class="gt_row gt_right" headers="...2">2</td>
<td class="gt_row gt_right" headers="...3">372502722</td>
<td class="gt_row gt_left" headers="...4">NA</td>
<td class="gt_row gt_right" headers="　人口（総数）">6</td>
<td class="gt_row gt_right" headers="　人口（総数）　男">2</td>
<td class="gt_row gt_right" headers="　人口（総数）　女">4</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　総数">*</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　男">*</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　女">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　総数">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　男">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　女">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　外国人人口　総数">*</td>
<td class="gt_row gt_right" headers="　外国人人口　男">*</td>
<td class="gt_row gt_right" headers="　外国人人口　女">*</td>
<td class="gt_row gt_right" headers="　世帯総数">3</td>
<td class="gt_row gt_right" headers="　一般世帯数">3</td>
<td class="gt_row gt_right" headers="　１人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　２人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　３人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　４人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　５人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　７人以上世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　親族のみの世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　核家族世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　核家族以外の世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６歳未満世帯員のいる世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６５歳以上世帯員のいる世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　高齢単身世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　高齢夫婦世帯数　一般世帯数">*</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="...1">372502732</td>
<td class="gt_row gt_right" headers="...2">2</td>
<td class="gt_row gt_right" headers="...3">372502731</td>
<td class="gt_row gt_left" headers="...4">NA</td>
<td class="gt_row gt_right" headers="　人口（総数）">3</td>
<td class="gt_row gt_right" headers="　人口（総数）　男">0</td>
<td class="gt_row gt_right" headers="　人口（総数）　女">3</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　総数">*</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　男">*</td>
<td class="gt_row gt_right" headers="　０〜１４歳人口　女">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　１５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　総数">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　男">*</td>
<td class="gt_row gt_right" headers="　１５〜６４歳人口　女">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　１８歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　２０歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　６５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　７５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　８５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　総数">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　男">*</td>
<td class="gt_row gt_right" headers="　９５歳以上人口　女">*</td>
<td class="gt_row gt_right" headers="　外国人人口　総数">*</td>
<td class="gt_row gt_right" headers="　外国人人口　男">*</td>
<td class="gt_row gt_right" headers="　外国人人口　女">*</td>
<td class="gt_row gt_right" headers="　世帯総数">2</td>
<td class="gt_row gt_right" headers="　一般世帯数">2</td>
<td class="gt_row gt_right" headers="　１人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　２人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　３人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　４人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　５人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　７人以上世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　親族のみの世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　核家族世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　核家族以外の世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６歳未満世帯員のいる世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　６５歳以上世帯員のいる世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　世帯主の年齢が２０〜２９歳の１人世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　高齢単身世帯数　一般世帯数">*</td>
<td class="gt_row gt_right" headers="　高齢夫婦世帯数　一般世帯数">*</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</figure>
</div>
</div>
<ol start="4" type="1">
<li><p><code>rename()</code></p>
<ul>
<li>変数名を変更するときは、<code>colnames()</code> などで変数名を確認し、おかしなところはないか確認してから変えることをおすすめします（特に日本語列名の場合）。</li>
</ul></li>
<li><p><code>mutate()</code></p>
<ul>
<li><p><code>KEY_CODE</code> は文字列にしたくて、その他は数値にしたいので、<code>as.character()</code> と <code>as.numeric()</code> で変換します。</p></li>
<li><p>データによっては、この手順を踏まなくても問題ないかもしれません。</p></li>
</ul></li>
<li><p><code>bind_rows()</code></p>
<ul>
<li><p><code>lapply()</code> でそれぞれのファイルを読み込んだので、最後にすべてのデータを結合します。</p></li>
<li><p>列名もそろえてあるので、問題なく結合できます。</p></li>
</ul></li>
</ol>
<p>データは次のようになります。</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(census_objects)</span></code></pre></div>
</div>
<div class="cell">
<div id="tbl-after-cleansing" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-after-cleansing-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
表&nbsp;4: クレンジング後
</figcaption>
<div aria-describedby="tbl-after-cleansing-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="zxhxfvsdhz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zxhxfvsdhz table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zxhxfvsdhz thead, #zxhxfvsdhz tbody, #zxhxfvsdhz tfoot, #zxhxfvsdhz tr, #zxhxfvsdhz td, #zxhxfvsdhz th {
  border-style: none;
}

#zxhxfvsdhz p {
  margin: 0;
  padding: 0;
}

#zxhxfvsdhz .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zxhxfvsdhz .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zxhxfvsdhz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zxhxfvsdhz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zxhxfvsdhz .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zxhxfvsdhz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zxhxfvsdhz .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zxhxfvsdhz .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zxhxfvsdhz .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zxhxfvsdhz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zxhxfvsdhz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zxhxfvsdhz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zxhxfvsdhz .gt_spanner_row {
  border-bottom-style: hidden;
}

#zxhxfvsdhz .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zxhxfvsdhz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zxhxfvsdhz .gt_from_md > :first-child {
  margin-top: 0;
}

#zxhxfvsdhz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zxhxfvsdhz .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zxhxfvsdhz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zxhxfvsdhz .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zxhxfvsdhz .gt_row_group_first td {
  border-top-width: 2px;
}

#zxhxfvsdhz .gt_row_group_first th {
  border-top-width: 2px;
}

#zxhxfvsdhz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zxhxfvsdhz .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zxhxfvsdhz .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zxhxfvsdhz .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zxhxfvsdhz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zxhxfvsdhz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zxhxfvsdhz .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zxhxfvsdhz .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zxhxfvsdhz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zxhxfvsdhz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zxhxfvsdhz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zxhxfvsdhz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zxhxfvsdhz .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zxhxfvsdhz .gt_left {
  text-align: left;
}

#zxhxfvsdhz .gt_center {
  text-align: center;
}

#zxhxfvsdhz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zxhxfvsdhz .gt_font_normal {
  font-weight: normal;
}

#zxhxfvsdhz .gt_font_bold {
  font-weight: bold;
}

#zxhxfvsdhz .gt_font_italic {
  font-style: italic;
}

#zxhxfvsdhz .gt_super {
  font-size: 65%;
}

#zxhxfvsdhz .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zxhxfvsdhz .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zxhxfvsdhz .gt_indent_1 {
  text-indent: 5px;
}

#zxhxfvsdhz .gt_indent_2 {
  text-indent: 10px;
}

#zxhxfvsdhz .gt_indent_3 {
  text-indent: 15px;
}

#zxhxfvsdhz .gt_indent_4 {
  text-indent: 20px;
}

#zxhxfvsdhz .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table do-not-create-environment cell caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="KEY_CODE" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">KEY_CODE</th>
<th id="pop_total" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">pop_total</th>
<th id="pop_young" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">pop_young</th>
<th id="pop_working" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">pop_working</th>
<th id="pop_old" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">pop_old</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="KEY_CODE">362257353</td>
<td class="gt_row gt_right" headers="pop_total">29</td>
<td class="gt_row gt_right" headers="pop_young">5</td>
<td class="gt_row gt_right" headers="pop_working">19</td>
<td class="gt_row gt_right" headers="pop_old">5</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="KEY_CODE">362257354</td>
<td class="gt_row gt_right" headers="pop_total">96</td>
<td class="gt_row gt_right" headers="pop_young">0</td>
<td class="gt_row gt_right" headers="pop_working">96</td>
<td class="gt_row gt_right" headers="pop_old">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="KEY_CODE">362257381</td>
<td class="gt_row gt_right" headers="pop_total">101</td>
<td class="gt_row gt_right" headers="pop_young">24</td>
<td class="gt_row gt_right" headers="pop_working">54</td>
<td class="gt_row gt_right" headers="pop_old">23</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="KEY_CODE">362257382</td>
<td class="gt_row gt_right" headers="pop_total">28</td>
<td class="gt_row gt_right" headers="pop_young">1</td>
<td class="gt_row gt_right" headers="pop_working">19</td>
<td class="gt_row gt_right" headers="pop_old">8</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="KEY_CODE">362257451</td>
<td class="gt_row gt_right" headers="pop_total">117</td>
<td class="gt_row gt_right" headers="pop_young">20</td>
<td class="gt_row gt_right" headers="pop_working">70</td>
<td class="gt_row gt_right" headers="pop_old">27</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="KEY_CODE">362306721</td>
<td class="gt_row gt_right" headers="pop_total">269</td>
<td class="gt_row gt_right" headers="pop_young">45</td>
<td class="gt_row gt_right" headers="pop_working">152</td>
<td class="gt_row gt_right" headers="pop_old">72</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</figure>
</div>
</div>
</section>
</section>
<section id="まとめ" class="level2">
<h2 class="anchored" data-anchor-id="まとめ">まとめ</h2>
<p>今回は国勢調査のメッシュデータを使って、R でデータクレンジングを行う方法をご紹介しました。</p>
<p>複数年分のデータをまとめなければならないときなど、繰り返し作業をするときには特に重宝します。</p>
<p>様々な場合で使えると思いますので、<code>list.files()</code> や <code>lapply()</code> をうまく使いながら効率的にデータをまとめていきましょう。</p>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>R プロジェクトを使用している場合は問題ありません。R プロジェクトについては<a href="../240515_rproj/index.html">こちら</a>をご参照ください。↩︎</p></li>
<li id="fn2"><p>1だと合算先地域メッシュ、2だと秘匿対象地域メッシュです。詳しくは <a href="https://www.e-stat.go.jp/gis/statmap-search?page=1&amp;type=1&amp;toukeiCode=00200521&amp;toukeiYear=2020&amp;aggregateUnit=H&amp;serveyId=H002005112020&amp;statsId=T001141&amp;datum=2011">e-Stat</a> の定義書から確認してください。↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>R</category>
  <guid>https://yo5uke.github.io/tips/240622_census_cleansing/</guid>
  <pubDate>Fri, 21 Jun 2024 15:00:00 GMT</pubDate>
  <media:content url="https://yo5uke.github.io/tips/240622_census_cleansing/image/japan.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>Python のための開発コンテナ</title>
  <link>https://yo5uke.github.io/tips/240621_python_container/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p>以前の記事で、Docker &amp; VSCode を用いた R 環境の構築方法をご紹介しました。</p>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><a href="../240504_container/index.html">開発コンテナを使って R 環境を構築！</a></p>
</div>
</div>
</div>
<p>今回は同じく Docker &amp; VSCode で使える Python の環境テンプレートを作成しましたので、そちらをご紹介します。</p>
<p>以前の R 環境でも Python は使えましたが、特に R や Julia 等が不要である方は、ぜひ参考にしてみてください。</p>
<p>WSL2, Ubuntu, Homebrew, VSCode, Docker, Git, GitHub を使用されたことがあり、上の記事を読んでいただいた方は開発環境の構築まで飛んでいただいて大丈夫だと思います。</p>
</section>
<section id="事前準備" class="level2">
<h2 class="anchored" data-anchor-id="事前準備">事前準備</h2>
<div class="callou-note">
<p>1から手順を説明していきますが、既に Docker や Ubuntu 等をインストールしている場合は適宜飛ばしてください。</p>
</div>
<section id="wsl2windows-ユーザーのみ" class="level3">
<h3 class="anchored" data-anchor-id="wsl2windows-ユーザーのみ">WSL2（Windows ユーザーのみ）</h3>
<ol type="1">
<li><p>アプリ一覧から PowerShell または Windows コマンドプロンプトを管理者権限で開く</p>
<ul>
<li>右クリックで管理者権限を使えます。</li>
</ul></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240621_python_container/image/powershell.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
<ol start="2" type="1">
<li><p>以下のコマンドを入力して実行</p>
<ul>
<li>これでインストールはできるはずですが、詳しくは<a href="https://learn.microsoft.com/ja-jp/windows/wsl/install">こちらのサイト</a>を参照してください。</li>
</ul></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>PowerShell</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="PowerShell" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">wsl</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--install</span></span></code></pre></div>
</div>
<ol start="3" type="1">
<li><p>ユーザー名とパスワードを設定</p>
<ul>
<li><p>インストールが終わると、Linux ディストリビューションのユーザー名とパスワードの作成を求められます<sup>1</sup>。</p></li>
<li><p>ユーザー名は何でも大丈夫です。パスワードもめちゃくちゃ簡単で問題ありません。</p></li>
<li><p>パスワードは画面上には表示されませんが、ちゃんと入力されています。慌てて何回も入力しないようにしてください。</p></li>
</ul></li>
</ol>
<p>エクスプローラーから Linux に入り、<code>\Ubuntu\home\ユーザー名</code> がメインとなるディレクトリです。</p>
</section>
<section id="homebrewmac-ユーザーのみ" class="level3">
<h3 class="anchored" data-anchor-id="homebrewmac-ユーザーのみ">Homebrew（Mac ユーザーのみ）</h3>
<p>Mac ユーザーは Homebrew を使って諸々インストールしていくので、まだの方はここでインストールしてください。</p>
<ol type="1">
<li><p>ターミナルを開く</p>
<ul>
<li>アプリ一覧から「ターミナル」を探してください。</li>
</ul></li>
<li><p>以下のコマンドを入力して実行</p>
<ul>
<li>パスワードを求められるので、入力してください。</li>
</ul></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename="Terminal" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">/bin/bash</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-c</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">curl</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-fsSL</span> https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span></code></pre></div>
</div>
</section>
<section id="sec-vscode-setting" class="level3">
<h3 class="anchored" data-anchor-id="sec-vscode-setting">VSCode</h3>
<ol type="1">
<li><p>VSCode の<a href="https://code.visualstudio.com/">ダウンロードサイト</a>からダウンロード、インストール</p>
<ul>
<li><p>Download for Windows<sup>2</sup> をクリックしてダウンロードできます。</p></li>
<li><p>インストールができたら、VSCode を開いてください。</p></li>
</ul></li>
<li><p>（任意）日本語の拡張機能をインストール</p>
<ul>
<li><p>画面左側に拡張機能のアイコン <img src="https://yo5uke.github.io/tips/240621_python_container/image/extention.png" class="img-fluid"> があります。ここの検索ボックスに <code>japanese</code> と入力し、1番上に出てきたものをインストールします。</p></li>
<li><p>インストール後、VSCode を再起動すれば日本語が反映されていると思います。</p></li>
</ul></li>
</ol>
<p><img src="https://yo5uke.github.io/tips/240621_python_container/image/vscode-ja.png" class="img-fluid"></p>
<ol start="3" type="1">
<li><p>拡張機能のインストール</p>
<ul>
<li><p>拡張機能の検索ボックスで、次の ID を入力し、インストールします。</p></li>
<li><p><code>ms-vscode-remote.remote-containers</code> (Dev Containers)</p></li>
<li><p><code>ms-vscode-remote.remote-wsl</code> (WSL, Windows ユーザーのみ)</p></li>
</ul></li>
<li><p>WSL に接続（Windows ユーザーのみ）</p>
<ul>
<li><p>VSCode から先ほどインストールした WSL に接続します。</p></li>
<li><p>画面左下の <code>&gt;&lt;</code> アイコンをクリックして、「WSL への接続」をクリックします。</p></li>
</ul></li>
</ol>
<p><img src="https://yo5uke.github.io/tips/240621_python_container/image/vscode-wsl.png" class="img-fluid"></p>
</section>
<section id="docker" class="level3">
<h3 class="anchored" data-anchor-id="docker">Docker</h3>
<p>Docker をインストールします。</p>
<ol type="1">
<li><p>Windows の方は<a href="https://docs.docker.com/desktop/install/windows-install/">ここ</a>から Docker Desktop for Windows を、Mac の方は<a href="https://docs.docker.com/desktop/install/mac-install/">こちら</a>からダウンロード＆インストール</p></li>
<li><p>設定の確認（Windows のみ）</p>
<ul>
<li><p>インストール出来たら、画面上部の設定ボタンから Resources、WSL integration と進み、チェックボックスにチェック、Ubuntu がオンになっていることを確認してください。</p></li>
<li><p>たまに、何もしていないのにここがオフになっていて、トラブることがあります。</p></li>
<li><p>詳しくは<a href="https://docs.docker.jp/docker-for-windows/install.html">こちら</a>をご覧ください。日本語で書いてあります。</p></li>
</ul></li>
</ol>
<p><img src="https://yo5uke.github.io/tips/240621_python_container/image/docker-desktop.png" class="img-fluid"></p>
<ol start="3" type="1">
<li><p>画面左側の Volumes に進み、Create からボリュームを作成</p>
<ul>
<li><p><code>pip</code> という名前で作成します。</p></li>
<li><p>R の開発コンテナを作成したことがある方で、もし <code>pip</code> を作成 &amp; 使用している場合、名前を変える必要があります。</p></li>
<li><p><a href="../240504_container/index.html">以前紹介した R 環境</a>の中にある Python とはバージョンが異なるので、同じボリュームを使うとエラーが出る可能性があります。</p></li>
</ul></li>
</ol>
</section>
<section id="git" class="level3">
<h3 class="anchored" data-anchor-id="git">Git</h3>
<section id="windows" class="level4">
<h4 class="anchored" data-anchor-id="windows">Windows</h4>
<ol type="1">
<li><p>Ubuntu で git をインストール</p>
<ul>
<li>Windows のアプリ一覧から Ubuntu を探し、開いてください。開いたら、以下のコマンドを入力して実行します。</li>
</ul></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Ubuntu</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename="Ubuntu" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> apt-get install git</span></code></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240621_python_container/image/ubuntu-git.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>Ubuntu</figcaption>
</figure>
</div>
<ol start="2" type="1">
<li><p>設定</p>
<ul>
<li>以下のコマンドを入力、実行します。ユーザー名は何でも大丈夫です。</li>
</ul></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Ubuntu</strong></pre>
</div>
<div class="sourceCode" id="cb4" data-filename="Ubuntu" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> config <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--global</span> user.name <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">任意のユーザ名</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb4-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> config <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--global</span> user.email <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">任意のメールアドレス</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span></span></code></pre></div>
</div>
</section>
<section id="mac" class="level4">
<h4 class="anchored" data-anchor-id="mac">Mac</h4>
<ol type="1">
<li><p>Homebrew で git をインストール</p>
<ul>
<li>ターミナルを開いて、以下のコマンドを入力して実行します。</li>
</ul></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb5" data-filename="Terminal" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">brew</span> install git</span></code></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240621_python_container/image/homebrew.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>この Mac では2回目なので git is already installed と表示されてます…。</figcaption>
</figure>
</div>
<ol start="2" type="1">
<li><p>設定</p>
<ul>
<li><p>以下のコマンドを入力、実行します。ユーザー名は何でも大丈夫です。</p></li>
<li><p>ここに限らずですが、<code>[]</code> ごと置き換えてくださいね。</p></li>
</ul></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb6" data-filename="Terminal" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> config <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--global</span> user.name <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">任意のユーザ名</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb6-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> config <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--global</span> user.email <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">任意のメールアドレス</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span></span></code></pre></div>
</div>
</section>
</section>
<section id="github-アカウントの作成" class="level3">
<h3 class="anchored" data-anchor-id="github-アカウントの作成">GitHub アカウントの作成</h3>
<p>ファイルは基本的に GitHub で管理するので、<a href="https://github.com/">ここ</a>からアカウントを作成してください。</p>
<section id="ポイント" class="level4">
<h4 class="anchored" data-anchor-id="ポイント">ポイント</h4>
<p>GitHub アカウントを作成したら、VSCode にログインしておきましょう。</p>
<ol type="1">
<li><p>VSCode を開く</p></li>
<li><p>画面左下のアイコンをクリック</p>
<ul>
<li>GitHub でサインインを行う</li>
</ul></li>
</ol>
<p>GitHub にログインすることで、その後の作業がスムーズに進みます。</p>
<p>事前準備は以上です！</p>
</section>
</section>
</section>
<section id="sec-build-env" class="level2">
<h2 class="anchored" data-anchor-id="sec-build-env">開発環境の構築</h2>
<p>1人でプロジェクトを進めると仮定して説明します。</p>
<p>共同プロジェクトの場合は、<a href="../240525_vscode_github/index.html">こちらの記事</a>を参考にして進めてみて下さい。</p>
<section id="github-リポジトリを作成" class="level3">
<h3 class="anchored" data-anchor-id="github-リポジトリを作成">GitHub リポジトリを作成</h3>
<ol type="1">
<li><p>テンプレートの <a href="https://github.com/yo5uke/template-Python">GitHub リポジトリ</a> にアクセス</p></li>
<li><p>画面右の「Use this template」から「Create a new repository」を選択</p></li>
<li><p>Repository name を記入</p></li>
<li><p>Private を選択</p>
<ul>
<li>通常のプロジェクトなら Private で OK</li>
</ul></li>
<li><p>「Create repository」をクリック</p></li>
</ol>
</section>
<section id="リポジトリをクローン" class="level3">
<h3 class="anchored" data-anchor-id="リポジトリをクローン">リポジトリをクローン</h3>
<ol type="1">
<li><p>VSCode を開く</p></li>
<li><p>画面左側のアイコンから「ソース管理」<sup>3</sup>を開く</p></li>
<li><p>「リポジトリの複製」を選択し、さらに「GitHub から複製」を選ぶ</p></li>
<li><p>リポジトリを選択し、クローン</p>
<ul>
<li><p>リポジトリは、「ユーザー名/リポジトリ名」の形式で表示されます。</p></li>
<li><p>クローンしたリポジトリを開くか問われるので、開いてください。</p></li>
</ul></li>
<li><p>画面右下に「コンテナーで再度開く」と出たらクリック</p>
<ul>
<li><p>出ない場合、画面左下「WSL: Ubuntu」<sup>4</sup>をクリックし、「コンテナーで再度開く」を選択してください。</p></li>
<li><p>初めて環境を構築する場合、ここでかなり時間がかかるので辛抱強く待ちましょう。</p></li>
</ul></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240621_python_container/image/reopen.png" class="img-fluid figure-img"></p>
<figcaption>「コンテナーで再度開く」をクリック</figcaption>
</figure>
</div>
<p>エクスプローラーを開き、<code>\\wsl.localhost\Ubuntu\home\ユーザー名</code> を確認してみてください。リポジトリ名と同じフォルダができていると思います。</p>
<p>Mac の場合は、ユーザー名の下にできているはずです。</p>
</section>
<section id="python-の設定" class="level3">
<h3 class="anchored" data-anchor-id="python-の設定">Python の設定</h3>
<p>この環境では、<code>pip</code> を使用してパッケージをインストールし、<code>requirements.txt</code> でパッケージを管理します。</p>
<section id="dvc-のインストール" class="level4">
<h4 class="anchored" data-anchor-id="dvc-のインストール">DVC のインストール</h4>
<p>まず初めに、データを管理するための <code>dvc</code> をインストールしてみます。</p>
<p>Google ドライブを使用してデータを管理するので、ドライブ上の任意の場所にデータを保存するためのフォルダを作っておいてください。</p>
<ol type="1">
<li><p>VSCode を開く</p></li>
<li><p>画面上「ターミナル」から「新しいターミナル」を開く</p></li>
<li><p>以下のコマンドを入力して実行</p></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb7" data-filename="Terminal" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pip</span> install dvc dvc-gdrive</span></code></pre></div>
</div>
<ol start="4" type="1">
<li><p>次のコマンドを入力しておく</p>
<ul>
<li>最後の四角括弧で囲まれた部分を置き換えるので、まだ実行しないでください！</li>
</ul></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb8" data-filename="Terminal" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">dvc</span> init <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">dvc</span> remote add <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span> myremote gdrive://[Google DriveのフォルダID]</span></code></pre></div>
</div>
<ol start="5" type="1">
<li><p>Google ドライブで作成したフォルダの ID をコピー</p>
<ul>
<li>ID は、ドライブでフォルダを開いたときの URL で、最後のスラッシュ（~/folders/）より右側の部分です。</li>
</ul></li>
<li><p>[Google DriveのフォルダID]を置き換えて実行</p></li>
</ol>
<p>以上で DVC の設定ができました。</p>
<p>次に、今使った DVC パッケージを記録しておきましょう<sup>5</sup>。</p>
<p>以下のコマンドを実行してください。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb9" data-filename="Terminal" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pip</span> freeze <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> requirements.txt</span></code></pre></div>
</div>
<p>これで <code>requirements.txt</code> というファイルが生成され、その中にインストールしたパッケージの情報が保存されます。</p>
<p>新たなパッケージをインストールしたら、適宜実行して保存していってください。</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
ちなみに
</div>
</div>
<div class="callout-body-container callout-body">
<p>パッケージは Docker にキャッシュされるので、1度インストールしてしまえば、別のプロジェクトではインストールしなくても使えます。</p>
<p>これはこのテンプレートの設定を使っていればの話なので、ローカルの Python であれば話は変わりますが…。</p>
</div>
</div>
<p>違う PC など、環境を作成した環境とは異なる環境で作業に移るときは、リポジトリをクローンした後、以下のコマンドで必要なパッケージをインストールできます。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb10" data-filename="Terminal" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pip</span> install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-r</span> requirements.txt</span></code></pre></div>
</div>
<p>作業の流れについては後ほど詳述します。</p>
</section>
</section>
<section id="データの管理" class="level3">
<h3 class="anchored" data-anchor-id="データの管理">データの管理</h3>
<p>データは今インストールした DVC で管理します。データは Google ドライブ上で保管されます。</p>
<ol type="1">
<li><p>ワーキングディレクトリに、<code>data</code> というフォルダを作成</p></li>
<li><p>データが入ったら、以下のコードを実行</p>
<ul>
<li><p><code>data</code> フォルダごとドライブに追加します。</p></li>
<li><p><code>data</code> フォルダは <code>.gitignore</code> に記載されているため、GitHub にはアップロードされません。</p></li>
</ul></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb11" data-filename="Terminal" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">dvc</span> add data/</span></code></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
データの入れ方
</div>
</div>
<div class="callout-body-container callout-body">
<p>データは、Windows のエクスプローラーや Mac の Finder から直接フォルダに入れて大丈夫です（通常の Windows や Mac での作業のように）。</p>
<p>データをプッシュした後に Google ドライブを見てもらえれば分かりますが、よくわからない形で保存されています。DVC の仕組みがそのような保存形式になっているからなので、決してファイルが破損しているわけではありません。</p>
<p>ちなみに Windows ユーザーの方で、一回ローカルに落としてから Linux にデータ等を入れたら <code>Zone.Identifier</code> というファイルができることがありますが、これは無視して大丈夫です。邪魔であればまとめて消してください。</p>
</div>
</div>
<ol start="3" type="1">
<li><p>データをアップロード</p>
<ul>
<li>以下のコードでデータをプッシュします。</li>
</ul></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb12" data-filename="Terminal" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">dvc</span> push</span></code></pre></div>
</div>
<p>最初は add と push をする過程でアカウントの認証が必要になりますが、表示に従って認証を進めてください<sup>6</sup>。</p>
<ol start="4" type="1">
<li><p>データのダウンロード</p>
<ul>
<li>パッケージと同様、別環境でデータをダウンロードするためには以下のコードを実行して下さい。</li>
</ul></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb13" data-filename="Terminal" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">dvc</span> pull</span></code></pre></div>
</div>
<p>これでデータが管理できます。</p>
</section>
<section id="作業終了時" class="level3">
<h3 class="anchored" data-anchor-id="作業終了時">作業終了時</h3>
<p>一連の作業を終えたら、GitHub にコミット、プッシュしましょう。</p>
<ol type="1">
<li><p>作業内容をコミット</p>
<ul>
<li><p>画面左側の「ソース管理」をクリックします。</p></li>
<li><p>ファイルにカーソルを当てると、右側に「+」が表示されます。これをクリックしてステージングします<sup>7</sup>。</p></li>
<li><p>画面上部の「メッセージを入力」にコミットメッセージ<sup>8</sup>を入力し、「✓コミット」をクリックしてください。</p></li>
</ul></li>
<li><p>プッシュ</p>
<ul>
<li><p>「ソース管理」の右側にある「…」をクリックし、「プッシュ」を選択してください。</p></li>
<li><p>これで、作業内容が GitHub にアップロードされます。</p></li>
</ul></li>
</ol>
<p>プッシュをするのは最後で良いと思います。例えば作業を3つのファイルで行ったとしたら、それぞれのファイルでコミットメッセージを書いてコミットし、最後にプッシュすれば OK です。</p>
<p>毎度毎度プッシュを行うより効率的ですね。</p>
</section>
</section>
<section id="作業の流れ" class="level2">
<h2 class="anchored" data-anchor-id="作業の流れ">作業の流れ</h2>
<p>少し流れがごちゃごちゃしてしまったので整理します。</p>
<section id="作業手順" class="level3">
<h3 class="anchored" data-anchor-id="作業手順">作業手順</h3>
<ol type="1">
<li><p>事前準備を行う</p></li>
<li><p>リポジトリのクローン</p>
<ul>
<li><p>VSCode 内で行います。</p></li>
<li><p>クローン出来たら、「コンテナーで再度開く」をクリックし開発コンテナに移動します。</p></li>
</ul></li>
<li><p>DVC の設定をする（データを使わない場合は5にスキップ）</p>
<ul>
<li><p><code>pip install dvc dvc-gdrive</code></p></li>
<li><p><code>dvc init &amp;&amp; dvc remote add -d myremote gdrive://[Google DriveのフォルダID]</code></p></li>
</ul></li>
<li><p>データの保存</p>
<ul>
<li><p>ワーキングディレクトリに <code>data</code> フォルダを作成します。</p></li>
<li><p><code>data</code> 内にデータを追加していきます。</p></li>
<li><p>一通りデータを追加したら、<code>dvc add data/</code> を実行します。</p></li>
</ul></li>
<li><p>作業をする</p></li>
<li><p>パッケージを記録</p>
<ul>
<li><p><code>pip freeze &gt; requirements.txt</code></p></li>
<li><p>パッケージを追加したら適宜実行して下さい。</p></li>
<li><p>パッケージごとに逐一実行する必要はありません。最後にまとめて、で大丈夫です。</p></li>
</ul></li>
<li><p>git にコミット＆プッシュ</p>
<ul>
<li>VSCode 上でデータをコミット、プッシュします。</li>
</ul></li>
<li><p>データをプッシュする</p>
<ul>
<li><p><code>dvc push</code></p></li>
<li><p>これを実行することでドライブにデータが送られます。</p></li>
</ul></li>
</ol>
</section>
<section id="別の環境で再現する" class="level3">
<h3 class="anchored" data-anchor-id="別の環境で再現する">別の環境で再現する</h3>
<p>環境を変えた場合は、次の流れで環境を再現します。</p>
<ol type="1">
<li><p>事前準備</p></li>
<li><p>リポジトリのクローン</p>
<ul>
<li>開発コンテナに入ります。</li>
</ul></li>
<li><p>ターミナルで以下を実行</p>
<ul>
<li>Python のパッケージがインストールされ、データもダウンロードされます。</li>
</ul></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb14" data-filename="Terminal" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pip</span> install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-r</span> requirements.txt</span>
<span id="cb14-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">dvc</span> pull</span></code></pre></div>
</div>
<p>あとは上の流れと同じです。</p>
</section>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">おわりに</h2>
<p>私自身はあまり Python に詳しくないのですが、少々使う機会があったので、これを機にと思いまとめてみました。</p>
<p>より効率的な環境構築方法があると思いますので、勉強し次第更新しようと思います。</p>
<p>間違いや書き漏れ、よりよい構築案がありましたらコメントいただけると幸いです。</p>
</section>
<section id="追記" class="level2">
<h2 class="anchored" data-anchor-id="追記">追記</h2>
<p>2024/06/24：Docker のボリュームに関する説明を変更</p>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>求められない場合は、続けて <code>wsl</code> とだけ入力して実行してください。↩︎</p></li>
<li id="fn2"><p>もしくは Mac↩︎</p></li>
<li id="fn3"><p>上から3番目↩︎</p></li>
<li id="fn4"><p>Mac なら <code>&gt;&lt;</code>↩︎</p></li>
<li id="fn5"><p>記録しておくことで、違う PC に変えたり共同研究をしたりするなど違う環境で実行するときに、必要なパッケージを指定したバージョンで簡単にインストールすることができます。↩︎</p></li>
<li id="fn6"><p>私の場合認証の読み込みが終わらない問題によく直面するので、その際にはターミナルを消し、再度新しいターミナルで実行するようにしています。↩︎</p></li>
<li id="fn7"><p>ステージしていないとコミットできません。↩︎</p></li>
<li id="fn8"><p>どのような作業をしたのか↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>Python</category>
  <category>VSCode</category>
  <category>Docker</category>
  <category>Ubuntu</category>
  <guid>https://yo5uke.github.io/tips/240621_python_container/</guid>
  <pubDate>Thu, 20 Jun 2024 15:00:00 GMT</pubDate>
  <media:content url="https://yo5uke.github.io/tips/240621_python_container/image/python-logo-only.png" medium="image" type="image/png" height="175" width="144"/>
</item>
<item>
  <title>環境構築における備忘録</title>
  <link>https://yo5uke.github.io/tips/240619_trouble_shooting/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p>環境構築に関する記事をいくつかまとめてきましたが、頻繁にエラーに直面するので、その場合の対処法をまとめていきます。</p>
<p>本記事は随時更新します。</p>
<p>関連するエラーや不明点については一番下のコメントに書いていただけると幸いです。</p>
</section>
<section id="python-のパス" class="level2">
<h2 class="anchored" data-anchor-id="python-のパス">Python のパス</h2>
<ul>
<li><strong>発生環境</strong>：開発コンテナ内<sup>1</sup></li>
<li><strong>エラーが発生したコマンド</strong>：</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="Terminal" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">dvc</span> init</span></code></pre></div>
</div>
<ul>
<li><strong>発生したエラー</strong>：「bash: /home/rstudio/.cache/pip/bin/dvc: /usr/local/bin/python: bad interpreter: No such file or directory」</li>
<li><strong>発生タイミング</strong>：Python 環境をいじった後</li>
<li><strong>対処法</strong>：パッケージをアンインストールして再インストール</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename="Terminal" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pip</span> uninstall dvc</span>
<span id="cb2-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pip</span> install dvc</span></code></pre></div>
</div>
<ul>
<li><strong>原因</strong>：
<ul>
<li>別の Dockerfile でバージョンの異なる Python 環境を作成しており、R 環境と Python 環境で同じ Docker ボリュームにマウントしていた。</li>
<li>その結果競合が起こり、エラーが発生したと考えられる。</li>
</ul></li>
<li><strong>解決策</strong>：一時的な対処なら上の方法で十分。根本的解決のためには R 環境と Python 環境で異なるボリュームを作成し、マウントする必要がある。</li>
</ul>
</section>
<section id="ファイル削除の失敗" class="level2">
<h2 class="anchored" data-anchor-id="ファイル削除の失敗">ファイル削除の失敗</h2>
<ul>
<li><strong>発生環境</strong>：WSL（Windows 環境）</li>
<li><strong>発生タイミング</strong>：エクスプローラーからファイルを削除するとき</li>
<li><strong>発生したエラー</strong>：ファイルが削除できない（再試行やスキップしてもダメ）</li>
<li><strong>対処法</strong>：
<ol type="1">
<li>VSCode を開き、WSL に接続する。</li>
<li><code>Ctrl</code> + <code>J</code> でターミナルを開いて次のコマンドを入力し、<code>[フォルダ名]</code> を置き換えた上で実行する<sup>2</sup>。</li>
</ol></li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename="Terminal" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> rm <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-rf</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">フォルダ名</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span></span></code></pre></div>
</div>
</section>
<section id="古い-tinytex" class="level2">
<h2 class="anchored" data-anchor-id="古い-tinytex">古い TinyTeX</h2>
<ul>
<li><strong>発生環境</strong>：開発コンテナ内<sup>3</sup></li>
<li><strong>発生タイミング</strong>：TinyTeX を使って Quarto コードをコンパイルしようとしたとき</li>
<li><strong>発生したエラー</strong>：次の画像の通り（TinyTeX が古いと言われる）</li>
</ul>
<p><img src="https://yo5uke.github.io/tips/240619_trouble_shooting/image/old_tinytex.png" class="img-fluid"></p>
<ul>
<li><strong>対処法</strong>：
<ol type="1">
<li>TinyTeX をアンインストール</li>
<li>TinyTeX を再インストール<sup>4</sup></li>
</ol></li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode" id="cb4" data-filename="R" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">tinytex<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">uninstall_tinytex</span>()</span>
<span id="cb4-2">tinytex<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">install_tinytex</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dir =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/rstudio/.TinyTeX"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">force =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
</div>
</section>
<section id="vscode-で-wsl-が起動しない" class="level2">
<h2 class="anchored" data-anchor-id="vscode-で-wsl-が起動しない">VSCode で WSL が起動しない</h2>
<ul>
<li><strong>発生環境</strong>：Windows 11</li>
<li><strong>発生タイミング</strong>：VSCode で WSL を起動しようとしたとき</li>
<li><strong>発生したエラー</strong>：「VS Code Server for WSL closed unexpectedly」という表示と、「/node: not found」で終わるエラーが出力される。</li>
<li><strong>対処法</strong>：vscode-server の再インストール
<ul>
<li>以下のコードを Ubuntu のターミナルで実行してください。</li>
</ul></li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Ubuntu</strong></pre>
</div>
<div class="sourceCode" id="cb5" data-filename="Ubuntu" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-rf</span> ~/.vscode-server</span></code></pre></div>
</div>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p><a href="../240504_container/index.html">この記事</a>で紹介した開発コンテナを使用。↩︎</p></li>
<li id="fn2"><p><code>\\wsl.localhost\Ubuntu\home\user</code> 下にファイルがあると仮定している。フォルダのパスが異なる場合は、<code>cd [your_path]</code> でディレクトリを変更したうえで実行する。もしくは <code>[フォルダ名]</code> にパス含めて入力する↩︎</p></li>
<li id="fn3"><p><a href="../240504_container/index.html">この記事</a>で紹介した <code>TinyTeX</code> ボリュームを使用。↩︎</p></li>
<li id="fn4"><p><code>tinytex::reinstall_tinytex()</code> でもいけるのかもしれないけど、途中でエラーが出たので手順を踏むことにしました。↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>備忘録</category>
  <guid>https://yo5uke.github.io/tips/240619_trouble_shooting/</guid>
  <pubDate>Tue, 18 Jun 2024 15:00:00 GMT</pubDate>
  <media:content url="https://yo5uke.github.io/tips/240619_trouble_shooting/image/vscode.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>【WSL】割り当てるメモリを増やす方法</title>
  <link>https://yo5uke.github.io/tips/240531_wsl_memory/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p>WSL &amp; Docker を使用していて、使えるメモリを増やしたい、そんな時にどうすればよいのか解説します。</p>
<p>上にも書いてあるように、デフォルトでは PC の半分のメモリが WSL には割り当てられています。</p>
<p>すなわちメモリが 8GB の PC であれば 4GB が、16GB の PC であれば 8GB が割り当てられています。</p>
<p>プロジェクトによってはより多くのメモリを使いたいこともあると思うので、以下の方法を実行してみて下さい。</p>
<p>ちなみに Mac では Docker Desktop の設定から Resources で変更できます。</p>
</section>
<section id="手順" class="level2">
<h2 class="anchored" data-anchor-id="手順">手順</h2>
<ol type="1">
<li><p>エクスプローラーを開く</p></li>
<li><p><code>c:</code> → <code>ユーザー</code> → 自分のユーザー と進む</p>
<ul>
<li>僕の場合だったら <code>C:\Users\yo5uk</code></li>
</ul></li>
<li><p>左上の「新規作成」から「テキストドキュメント」を選び、ファイル名を <code>.wslconfig</code> とする</p>
<ul>
<li><p>拡張子も全て消して名前を付けてください。<code>.wslconfig.txt</code> ではだめです。</p></li>
<li><p>もし拡張子がデフォルトで表示されない設定の場合は、表示されるよう設定を変更してから行って下さい。</p></li>
<li><p>エクスプローラー右上の「表示」→「表示」→「ファイル名拡張子」をオンにします。</p></li>
</ul></li>
<li><p>メモ帳など任意のテキストエディタで開く</p></li>
<li><p>中身を以下のように記述</p>
<ul>
<li><p>GB の部分は好きに置き換えてください。</p></li>
<li><p>8GB のPC を使っている場合には、もちろん 12GB は割り当てられません。</p></li>
</ul></li>
</ol>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode txt code-with-copy"><code class="sourceCode default"><span id="cb1-1">[wsl2]</span>
<span id="cb1-2">memory=12GB</span>
<span id="cb1-3">swap=8GB</span></code></pre></div>
<ol start="6" type="1">
<li>保存して閉じる</li>
</ol>
<p>以上です。これで WSL に割り当てられるメモリが増えました。</p>
<p>ちなみに <code>memory</code> は読んで字のごとくメモリを表しますが、ここでの <code>swap</code> は、WSL2 が使用するスワップファイルのサイズを設定することを意味します。スワップファイルを適切に設定することで、物理メモリが不足した場合でもシステムの安定性を維持することができます。</p>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">おわりに</h2>
<p>WSL に割り当てるメモリを増やす方法をご紹介しました。</p>
<p>プロジェクトによっては必要になることもあると思うので、ご参考まで。</p>


<!-- -->

</section>

 ]]></description>
  <category>WSL</category>
  <category>Windows</category>
  <category>備忘録</category>
  <guid>https://yo5uke.github.io/tips/240531_wsl_memory/</guid>
  <pubDate>Thu, 30 May 2024 15:00:00 GMT</pubDate>
</item>
<item>
  <title>【ワークフロー】VSCode で GitHub を使う</title>
  <link>https://yo5uke.github.io/tips/240525_vscode_github/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p><a href="../240504_container/index.html">以前</a> VSCode を用いた R 環境の構築方法についてご紹介しました。</p>
<p>その中で GitHub についても触れましたが、今回は VSCode で GitHub を使った作業の流れを詳しく紹介します。</p>
<p>基本的に共同研究を想定していますが、個人で使う場合も同様の流れで作業を進めることができます。</p>
<p>具体的な違いとして、個人作業の場合はブランチを作成したりしなくてもよいと思いますが、共同研究の場合はブランチを作成して作業を進めることが一般的です。</p>
</section>
<section id="事前準備" class="level2">
<h2 class="anchored" data-anchor-id="事前準備">事前準備</h2>
<p><a href="../240504_container/index.html">こちらの記事</a>の手順は踏んでいるとします。</p>
<ol type="1">
<li><p>GitHub アカウントを作成している</p></li>
<li><p>VSCode で GitHub にログインする</p></li>
<li><p>コラボレーターとして登録する</p>
<ul>
<li>招待の詳細については記事をご覧ください。</li>
</ul></li>
</ol>
</section>
<section id="ワークフロー" class="level2">
<h2 class="anchored" data-anchor-id="ワークフロー">ワークフロー</h2>
<section id="リポジトリをクローンする" class="level3">
<h3 class="anchored" data-anchor-id="リポジトリをクローンする">1. リポジトリをクローンする</h3>
<ol type="1">
<li><p>VSCode を開き、WSL に接続</p></li>
<li><p>画面左のアイコンで上から3つ目の「ソース管理」を選択</p></li>
<li><p>「リポジトリを複製」、「GitHub から複製」を順に選択</p></li>
<li><p>クローンしたいリポジトリを選択しOK をクリック<sup>1</sup></p>
<ul>
<li>リポジトリが表示されない場合は「ユーザー名/リポジトリ名」の書き方でクローンできます。</li>
</ul></li>
<li><p>クローンするディレクトリを選択</p>
<ul>
<li>特に理由がなければそのまま OK をクリックして下さい。</li>
</ul></li>
<li><p>クローンされる</p>
<ul>
<li><p>自動でクローンしたリポジトリが開かれます。</p></li>
<li><p>開発コンテナを使用する場合は「開発コンテナで再度開く」と出るので、選択してください。</p></li>
</ul></li>
</ol>
</section>
<section id="ブランチを作成する" class="level3">
<h3 class="anchored" data-anchor-id="ブランチを作成する">2. ブランチを作成する</h3>
<p>作業ブランチを作成します。デフォルトでは <code>main</code> ブランチになっているので、作業ブランチを作成して作業を進めます。</p>
<p>ブランチは、イメージで言うと「自分の作業用のコピー」です。そっくりそのままファイル等をコピーして作業を行い、完成したら <code>main</code> にくっつけてあげるという感じです。</p>
<p><code>main</code> ブランチは基本的に完成品を置いておくイメージなので、各自でブランチを作成して作業を進めてください。</p>
<ol type="1">
<li><p>画面左下の「main」をクリック</p></li>
<li><p>「新しいブランチを作成」を選択</p></li>
<li><p>ブランチ名を入力し、Enter キーを押す</p>
<ul>
<li><p>ブランチ名は、作業内容がわかるように命名するとよいと思います。</p></li>
<li><p>しかし何でも大丈夫です。</p></li>
</ul></li>
<li><p>ブランチが作成される</p>
<ul>
<li>画面左下に作成したブランチ名が表示されます。</li>
</ul></li>
</ol>
<p>これでブランチが作成されました。作業を進めていきましょう。</p>
</section>
<section id="ファイルを編集する" class="level3">
<h3 class="anchored" data-anchor-id="ファイルを編集する">3. ファイルを編集する</h3>
<p>作業を進めます。コードを書いたりデータを追加したり、何らかの作業が行われたとします。</p>
</section>
<section id="変更をコミットする" class="level3">
<h3 class="anchored" data-anchor-id="変更をコミットする">4. 変更をコミットする</h3>
<p>作業が終わったら、変更をコミットします。</p>
<ol type="1">
<li><p>画面左のアイコンで上から3つ目の「ソース管理」を選択</p></li>
<li><p>コミットするファイルを選択</p>
<ul>
<li><p>カーソルをファイルに当てると「+」が表示されるので、クリックしてステージングします。</p></li>
<li><p>すべてのファイルをステージングする場合は「変更」の右側にある「+」をクリックすれば OK です。</p></li>
</ul></li>
<li><p>コミットメッセージを入力</p>
<ul>
<li><p>コミットメッセージは、変更内容がわかるように簡潔に書くとよいと思います。</p></li>
<li><p>例: <code>Add new data</code></p></li>
</ul></li>
<li><p>「✓コミット」をクリック</p>
<ul>
<li>コミットが完了します。</li>
</ul></li>
</ol>
</section>
<section id="プッシュする" class="level3">
<h3 class="anchored" data-anchor-id="プッシュする">5. プッシュする</h3>
<p>コミットした内容をリモートリポジトリに反映させます。</p>
<ol type="1">
<li><p>「ソース管理」の右にある「…」をクリック</p>
<ul>
<li>カーソルを当てると出てきます。</li>
</ul></li>
<li><p>「プッシュ」を選択</p>
<ul>
<li><p>ブランチを公開するか聞かれたら、OK をクリックしてください。</p></li>
<li><p>プッシュが完了します。</p></li>
</ul></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240525_vscode_github/image/vscode-push.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>これでリモートリポジトリに変更が反映されました。</p>
<p>コミットしてすぐプッシュしたい場合は、コミットメッセージを入力した後に「✓コミット」の右側にある下矢印から「コミットしてプッシュ」を選択することで一括で行えます。</p>
</section>
<section id="プルリクエストを作成する" class="level3">
<h3 class="anchored" data-anchor-id="プルリクエストを作成する">6. プルリクエストを作成する</h3>
<p>作業が終わったら、プルリクエストを作成します。</p>
<p>現段階では、自分のブランチに反映させただけなので、これを <code>main</code> ブランチに反映させる必要があります。</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
この手続きを踏む理由
</div>
</div>
<div class="callout-body-container callout-body">
<p>プルリクエストを作成する理由は、他の人に自分の作業内容を確認してもらうためです。</p>
<p>プルリクエストを作成することで、他の人が自分の作業内容を確認し、問題がなければ <code>main</code> ブランチに反映させることができます。</p>
<p>もし全員が <code>main</code> ブランチに直接コミットしてしまうと、他の人の作業とコンフリクトする場合があったり、誤って動かないコードで上書きされてしまったりなど、問題が発生する可能性があります。</p>
<p>そのため、プルリクエストを作成して他の人に確認してもらいながら、問題がなければ <code>main</code> ブランチに反映させるという手順を踏むことが一般的です。</p>
</div>
</div>
<ol type="1">
<li><p>GitHub にアクセスし、リポジトリを開く</p></li>
<li><p>「Compare &amp; pull request」を選択</p>
<ul>
<li>以下のようなバナーが表示されるので、クリックしてください。</li>
</ul></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240525_vscode_github/image/pull-request.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<ol start="3" type="1">
<li><p>プルリクエストの内容を入力</p>
<ul>
<li><p>「Add a title」にはコミットメッセージが入力されていると思います。</p></li>
<li><p>「Add a description」には、必要に応じて作業内容や変更点などを詳しく書くとよいと思います。</p></li>
</ul></li>
<li><p>「Create pull request」をクリック</p>
<ul>
<li>プルリクエストが作成されます。</li>
</ul></li>
</ol>
<p>これでプルリクエストが作成されました。他の人に確認してもらいましょう。</p>
</section>
<section id="プルリクエストをマージする" class="level3">
<h3 class="anchored" data-anchor-id="プルリクエストをマージする">7. プルリクエストをマージする</h3>
<p>プルリクエストを作成したら、他の人に確認してもらい、問題がなければマージします。</p>
<ol type="1">
<li><p>リポジトリのページにアクセスし、「Pull requests」を開く</p></li>
<li><p>リクエストを選択して開く</p></li>
<li><p>問題がなければ「Merge pull request」をクリック</p>
<ul>
<li>問題ない場合「This branch has no conflicts with the base branch」と表示されます。</li>
</ul></li>
</ol>
<p><img src="https://yo5uke.github.io/tips/240525_vscode_github/image/pull-request-merge.png" class="img-fluid"></p>
<ol start="4" type="1">
<li><p>「Confirm merge」をクリック</p>
<ul>
<li>マージが完了します。</li>
</ul></li>
</ol>
</section>
<section id="ブランチを削除する" class="level3">
<h3 class="anchored" data-anchor-id="ブランチを削除する">8. ブランチを削除する</h3>
<p>プルリクエストがマージされたら、作業ブランチを削除します。ちなみにブランチは作業ごとに新しいものを作り、プルリクエストがマージされたら削除するという流れが推奨されるようです。</p>
<ol type="1">
<li><p>VSCode でリポジトリを開く</p></li>
<li><p>画面左側のアイコンから「ソース管理」を選択</p></li>
<li><p>「ソース管理」の右にある「…」をクリック</p></li>
<li><p>「ブランチ」から「ブランチを削除」を選択</p></li>
<li><p>削除するブランチを選択</p>
<ul>
<li>削除するブランチを選択して OK をクリック</li>
</ul></li>
<li><p>ブランチが削除される</p>
<ul>
<li>画面左下のブランチ名が <code>main</code> になっていることを確認してください。</li>
</ul></li>
</ol>
<p>これで作業ブランチが削除されました。次回別の作業を行うときは、新しいブランチを作成して作業を進めてください。</p>
</section>
<section id="ローカルリポジトリを更新する" class="level3">
<h3 class="anchored" data-anchor-id="ローカルリポジトリを更新する">9. ローカルリポジトリを更新する</h3>
<p>リモートリポジトリに変更が反映されたので、他の人はローカルリポジトリを更新します。</p>
<ol type="1">
<li><p>VSCode でリポジトリを開く</p></li>
<li><p>画面左下のブランチが <code>main</code> であれば自分の作業ブランチに切り替える</p>
<ul>
<li>画面左下のブランチ名をクリックして、切り替えてください。</li>
</ul></li>
<li><p>画面左のアイコンから「ソース管理」を選択</p></li>
<li><p>「変更の同期」と出ていたらそれを、出ていなければ「…」をクリックして「プル」を選択</p>
<ul>
<li><p>プルすることでリモートリポジトリの変更をローカルリポジトリに反映させます。</p></li>
<li><p>プルが完了します。ファイルを見てみてください。</p></li>
</ul></li>
</ol>
<p>これで他の人の変更が反映されたローカルリポジトリが得られました。</p>
<p>ここからは再び作業を進め、作業をサイクルさせていきます。</p>
</section>
</section>
<section id="まとめ" class="level2">
<h2 class="anchored" data-anchor-id="まとめ">まとめ</h2>
<p>VSCode で GitHub を使った作業の流れを紹介しました。</p>
<p>基本的には、リポジトリをクローンして作業ブランチを作成し、作業を進め、変更をコミットしてプッシュし、プルリクエストを作成してマージするという流れです。</p>
<p>共同研究を行う場合は、このような流れで作業を進めることで、コンフリクトなどを回避しながら効率的に作業を進めることができます。</p>
<p>ぜひ参考にしてみてください。</p>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>Enter キーでも OK です。↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>VSCode</category>
  <category>GitHub</category>
  <guid>https://yo5uke.github.io/tips/240525_vscode_github/</guid>
  <pubDate>Fri, 24 May 2024 15:00:00 GMT</pubDate>
</item>
<item>
  <title>TeX Live を使わずに LaTeX 環境を作る！</title>
  <link>https://yo5uke.github.io/tips/240520_latex/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p>こんにちは、Windows ユーザーです。</p>
<p>TeX Live はインストールするのが面倒だし、使い方もよくわからないので<sup>1</sup>、別の方法で<img src="https://latex.codecogs.com/png.latex?%5CLaTeX"> を使えるようにしました。</p>
<p>また、Mac での方法も併せてご紹介します。</p>
<p>これまで TeX Live に苦労していた方や Overleaf を使っていた方は、ぜひ試してみてください。</p>
</section>
<section id="作業手順" class="level2">
<h2 class="anchored" data-anchor-id="作業手順">作業手順</h2>
<p>前提として、VSCodeはインストールされているとします。もしまだの方は<a href="../240504_container/index.html#sec-vscode-setting">こちら</a>を参考にインストールしてください<sup>2</sup>。</p>
<section id="wsl-ubuntu-と-homebrew-の準備" class="level3">
<h3 class="anchored" data-anchor-id="wsl-ubuntu-と-homebrew-の準備">0. WSL, Ubuntu と Homebrew の準備</h3>
<p>Windows のローカルでもできるとは思うのですが、Ubuntu でやる方が楽なので、WSL2 を使って Ubuntu でやります。何言ってるかわからない方は、気にしないでください。僕もよくわかりません。</p>
<p>事前準備は少し面倒だけど、一度やってしまえば楽、みたいなイメージで使っています。とりあえず使えればよいと思っている一大学院生なので、そのあたりは許してください。</p>
<p>Mac の方は、Homebrew を使って TinyTeX をインストールしていきます。</p>
<p>既にこれらの準備が出来ている方は、飛ばしてください。</p>
<section id="sec-install-ubuntu" class="level4">
<h4 class="anchored" data-anchor-id="sec-install-ubuntu">0-1. WSL と Ubuntu のインストール（Windows）</h4>
<p>まずは Windows Subsystem for Linux（WSL）をインストールします<sup>3</sup>。</p>
<p>PowerShell を管理者権限で起動<sup>4</sup>し、以下のコマンドを実行します。</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">wsl</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--install</span></span></code></pre></div>
<p>もし再起動を求められたら、再起動してください。インストールはこれだけです。</p>
<p>インストールができたらユーザー名とパスワードの設定が求められるので、設定します。</p>
<p>これは何でも構いません。<code>sudo</code> コマンドを使う際にパスワードが必要になりますが、本当に簡単なもので大丈夫です<sup>5</sup>。</p>
<p>また、パスワード入力の際に、入力しても画面上には表示されませんが、きちんと入力されていますので慌てず続けてください。</p>
</section>
<section id="homebrew-のインストールmac" class="level4">
<h4 class="anchored" data-anchor-id="homebrew-のインストールmac">0-2. Homebrew のインストール（Mac）</h4>
<p>Mac ユーザーは Homebrew を使って諸々インストールしていくので、まだの方はここでインストールしてください。</p>
<ol type="1">
<li><p>ターミナルを開く</p>
<ul>
<li>アプリ一覧から「ターミナル」を探してください。</li>
</ul></li>
<li><p>以下のコマンドを入力して実行</p>
<ul>
<li>パスワードを求められるので、入力してください。</li>
</ul></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename="Terminal" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">/bin/bash</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-c</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">curl</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-fsSL</span> https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span></code></pre></div>
</div>
</section>
</section>
<section id="tinytex-のインストール" class="level3">
<h3 class="anchored" data-anchor-id="tinytex-のインストール">1. TinyTeX のインストール</h3>
<p>TeX Live はインストールが面倒なので、TinyTeX という軽量な <img src="https://latex.codecogs.com/png.latex?%5CLaTeX"> ディストリビューションを使います。R Markdown でもよく使われているので、馴染みがある方も多いかもしれません。</p>
<p>しかし今回は、R は使いません。目標とするのは TeX Live の代替として、簡潔に <img src="https://latex.codecogs.com/png.latex?%5CLaTeX"> を使えるようにすることです。</p>
<section id="windows-でのインストール" class="level4">
<h4 class="anchored" data-anchor-id="windows-でのインストール">1-1. Windows でのインストール</h4>
<p>Windows では、Ubuntu を開いて以下のコマンドを実行します。</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">wget</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-qO-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://yihui.org/tinytex/install-bin-unix.sh"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sh</span></span></code></pre></div>
<p>これで TinyTeX のインストールは完了です。簡単ですね。</p>
</section>
<section id="mac-でのインストール" class="level4">
<h4 class="anchored" data-anchor-id="mac-でのインストール">1-2. Mac でのインストール</h4>
<p>Mac の方は、ターミナルを開いて以下のコマンドを実行してください。</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">curl</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-sL</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://yihui.org/tinytex/install-bin-unix.sh"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sh</span></span></code></pre></div>
</section>
</section>
<section id="vscode-での設定" class="level3">
<h3 class="anchored" data-anchor-id="vscode-での設定">2. VSCode での設定</h3>
<section id="拡張機能のインストール" class="level4">
<h4 class="anchored" data-anchor-id="拡張機能のインストール">2-1. 拡張機能のインストール</h4>
<p>VSCode で LaTeX を使うためには、拡張機能をインストールする必要があります。</p>
<p>画面左の拡張機能アイコン <img src="https://yo5uke.github.io/tips/240520_latex/image/extention.png" class="img-fluid"> をクリックし、検索バーに「LaTeX」と入力します。すると、LaTeX および LaTeX Workshop という拡張機能が表示されるので、2つをインストールします<sup>6</sup>。</p>
</section>
<section id="設定の変更" class="level4">
<h4 class="anchored" data-anchor-id="設定の変更">2-2. 設定の変更</h4>
<p>拡張機能をインストールしたら、設定を変更します。</p>
<p>画面左下の管理ボタンから「設定」で設定画面を開き<sup>7</sup>、右上にある <img src="https://yo5uke.github.io/tips/240520_latex/image/json.png" class="img-fluid"> をクリックして <code>settings.json</code> を開きます。</p>
<p>以下の <code>{}</code> の中身を設定に追加します。もし既に何か設定がある場合は、最後をカンマで区切り、改行して追加してください。</p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-2">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"latex-workshop.latex.tools"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-3">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-4">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"latexmk"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-5">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"command"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"latexmk"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-6">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"args"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-7">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-synctex=1"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-8">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-interaction=nonstopmode"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-9">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-file-line-error"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-10">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-xelatex"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-11">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%DOC%"</span></span>
<span id="cb5-12">          <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb5-13">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-14">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-15">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"latex-workshop.latex.recipes"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-16">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-17">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"latexmk (xelatex)"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-18">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"tools"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-19">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"latexmk"</span></span>
<span id="cb5-20">          <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb5-21">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-22">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-23">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"latex-workshop.view.pdf.viewer"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tab"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-24">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"latex-workshop.latex.clean.fileTypes"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-25">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.aux"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.bbl"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.blg"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.idx"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.ind"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.lof"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.lot"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.out"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.toc"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.acn"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> </span>
<span id="cb5-26">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.acr"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.alg"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.glg"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.glo"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.gls"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.ist"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.fls"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.log"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.fdb_latexmk"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.synctex.gz"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-27">        <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">for</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Beamer</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">files</span></span>
<span id="cb5-28">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"_minted*"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.nav"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.snm"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.vrb"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-29">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-30">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"latex-workshop.latex.autoBuild.run"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"onBuilt"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-31"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<!--
次に、画面上部の「ターミナル」→「新しいターミナル」よりターミナルを開きます^[Windows なら `Ctrl` ＋ `Shift` ＋ `@` でもいけます]。そして以下のコマンドを実行してください。

```{.bash filename="Windows ユーザー"}
sudo apt-get update
sudo apt-get install chktex
```

`sudo` コマンドを使うとパスワードが求められるので、[先ほど](#sec-install-ubuntu)設定したパスワードを入力してください。
-->
<p>これで設定は完了です。</p>
</section>
</section>
<section id="動作確認" class="level3">
<h3 class="anchored" data-anchor-id="動作確認">3. 動作確認</h3>
<p>ここからは Windows も Mac も共通です。</p>
<p>はじめに今回使うフォントをインストールしましょう。VSCode のターミナルで以下のコマンドを実行してください。</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">tlmgr</span> install ipaex</span></code></pre></div>
<p>次に、VSCode で新しいファイルを作成し、GitHub Copilot が作ってくれた以下のコードを回してみます<sup>8</sup>。</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb7-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">\documentclass</span>{<span class="ex" style="color: null;
background-color: null;
font-style: inherit;">article</span>}</span>
<span id="cb7-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">\usepackage</span>{<span class="ex" style="color: null;
background-color: null;
font-style: inherit;">bookmark</span>} </span>
<span id="cb7-3"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">\usepackage</span>{<span class="ex" style="color: null;
background-color: null;
font-style: inherit;">fontspec</span>} </span>
<span id="cb7-4"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">\usepackage</span>{<span class="ex" style="color: null;
background-color: null;
font-style: inherit;">zxjatype</span>} </span>
<span id="cb7-5"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">\usepackage</span>[ipaex]{<span class="ex" style="color: null;
background-color: null;
font-style: inherit;">zxjafont</span>}</span>
<span id="cb7-6"></span>
<span id="cb7-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">\title</span>{サンプルドキュメント}</span>
<span id="cb7-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">\author</span>{あなたの名前}</span>
<span id="cb7-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">\date</span>{今日の日付}</span>
<span id="cb7-10"></span>
<span id="cb7-11"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">\begin</span>{<span class="ex" style="color: null;
background-color: null;
font-style: inherit;">document</span>}</span>
<span id="cb7-12"></span>
<span id="cb7-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">\maketitle</span></span>
<span id="cb7-14"></span>
<span id="cb7-15"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">\section</span>{導入}</span>
<span id="cb7-16"></span>
<span id="cb7-17">これはサンプルのセクションです。</span>
<span id="cb7-18"></span>
<span id="cb7-19"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">\subsection</span>{サブセクション}</span>
<span id="cb7-20"></span>
<span id="cb7-21">これはサンプルのサブセクションです。</span>
<span id="cb7-22"></span>
<span id="cb7-23"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">\end</span>{<span class="ex" style="color: null;
background-color: null;
font-style: inherit;">document</span>}</span></code></pre></div>
<p>これを保存し、右上の緑の三角ボタン <img src="https://yo5uke.github.io/tips/240520_latex/image/latex-compile.png" class="img-fluid"> をクリックすると、PDF ファイルが生成されます。</p>
<p>しかし、おそらくここでエラーに直面するでしょう。次のセクションでエラーの解決法について説明します。</p>
</section>
<section id="エラーの解決" class="level3">
<h3 class="anchored" data-anchor-id="エラーの解決">4. エラーの解決</h3>
<p>この段階のエラーのほとんどは、パッケージがインストールされていないことが原因です。</p>
<p>コンパイルすると右下にエラーの表記とともに「Open compiler log」と出ると思うので、それをクリックしてエラーログを開きます。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240520_latex/image/open-compiler-log.png" class="img-fluid figure-img"></p>
<figcaption>これを押します。</figcaption>
</figure>
</div>
<p>エラーログを少し遡ってみると、どのパッケージがインストールされていないかがわかります。例えば、「! LaTeX Error: File ‘xltxtra.sty’ not found.」と出た場合、<code>xltxtra</code> パッケージがインストールされていないことがわかります。</p>
<p>その場合、ターミナルに戻り以下のコマンドを実行してください。</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">tlmgr</span> install xltxtra</span></code></pre></div>
<p>これでインストールできますが、使い始めのうちは何度か似たようなエラーが出るかもしれません。エラーが出たらエラーログを見て、同様の方法で必要なパッケージをインストールしてください。</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
エラーのトラップ
</div>
</div>
<div class="callout-body-container callout-body">
<p>先ほどのサンプルコードを実行しようとすると、</p>
<p>! LaTeX Error: File `xeCJK.sty’ not found.</p>
<p>というエラーが途中で出てきます。しかし、<code>tlmgr install xeCJK</code> としてもインストールできません。これは、<code>xeCJK</code> というパッケージが存在しないためです。</p>
<p>代わりに、<code>ctex</code> パッケージをインストールすることで解決できます。<code>ctex</code> パッケージが <code>xeCJK</code> を含んでいるためです。</p>
<p>ややこしいですが、これで試してみてください。</p>
</div>
</div>
</section>
<section id="再び動作確認" class="level3">
<h3 class="anchored" data-anchor-id="再び動作確認">5. 再び動作確認</h3>
<p>エラーを解消するうちに、足りないパッケージがインストールでき、最終的には問題なくコンパイルできるようになるはずです。</p>
<p>日本語で使う場合、フォントをインストールしていないミスが多いので、気を付けてください。</p>
<p>最終的に次のように出力できました。</p>
<p><img src="https://yo5uke.github.io/tips/240520_latex/image/latex-output.png" class="img-fluid"></p>
</section>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">おわりに</h2>
<p>以上で、TeX Live を使わずに <img src="https://latex.codecogs.com/png.latex?%5CLaTeX"> 環境を作る方法を紹介しました。</p>
<p>TinyTeX は、R 上だと必要なパッケージが自動でインストールされる<sup>9</sup>ので、それに比べるとやや不便ですが、簡潔に <img src="https://latex.codecogs.com/png.latex?%5CLaTeX"> を使えるようになるので、一度試してみる価値はあると思います。</p>
<p>TeX Live や VSCode の設定に苦心している方は、ぜひ試してみてください。</p>
<p>また、何かエラー等ありましたらコメントでお知らせください。</p>
</section>
<section id="参考" class="level2">
<h2 class="anchored" data-anchor-id="参考">参考</h2>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><a href="https://yihui.org/tinytex/">TinyTeX</a></p>
</div>
</div>
</div>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><a href="https://gedevan-aleksizde.github.io/tinytex-doc-ja/index.html">TinyTeX 非公式日本語版ドキュメント</a></p>
</div>
</div>
</div>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>実際には少し使っていたので、並程度には使えます（笑）↩︎</p></li>
<li id="fn2"><p>日本語設定などもしておくと便利かもしれません↩︎</p></li>
<li id="fn3"><p>Windows における WSL のインストールについては<a href="../240504_container/index.html#sec-wsl2-setting">こちら</a>でも触れています。↩︎</p></li>
<li id="fn4"><p>アプリ一覧から右クリックすれば「詳細」→「管理者として実行」で使えます。↩︎</p></li>
<li id="fn5"><p><a href="https://www.youtube.com/watch?v=odDJ3QvlF2g">こちらの動画</a>の 4:42~ あたりを見てみてください。パスワードは「a」です。a。↩︎</p></li>
<li id="fn6"><p>怪しかったら、<code>mathematic.vscode-latex</code> と <code>James-Yu.latex-workshop</code> をそれぞれ入力すれば確実です。↩︎</p></li>
<li id="fn7"><p>Windowsなら <code>Ctrl</code> ＋ <code>,</code> で、Mac なら<code>command</code> ＋ <code>,</code> でもいけます。↩︎</p></li>
<li id="fn8"><p>少し日本語フォントなどの設定を加えています。↩︎</p></li>
<li id="fn9"><p>その割によく手動でインストールさせられる気がしますが…↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>Windows</category>
  <category>Mac</category>
  <category>Ubuntu</category>
  <category>LaTeX</category>
  <guid>https://yo5uke.github.io/tips/240520_latex/</guid>
  <pubDate>Sun, 19 May 2024 15:00:00 GMT</pubDate>
  <media:content url="https://yo5uke.github.io/tips/240520_latex/image/latex-output.png" medium="image" type="image/png" height="78" width="144"/>
</item>
<item>
  <title>【R】アーカイブされたパッケージを使う</title>
  <link>https://yo5uke.github.io/tips/240516_archived_pkg/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p>因果推論を勉強している人にはおなじみの <a href="https://mixtape.scunning.com/">Mixtape</a> ですが、昨年勉強中にこの中の合成コントロール法の章でパッケージがインストールできない問題に直面しました。</p>
<p>よく調べてみると、当時<sup>1</sup> <code>SCtools</code> パッケージはアーカイブされてしまっており、<code>install.packages('SCtools')</code> ではインストールができないことが判明しました。</p>
<p>現在<sup>2</sup>では復活してインストールできるようになっていますが、そんなときに備えて対処法をまとめます。</p>
</section>
<section id="作業の流れ" class="level2">
<h2 class="anchored" data-anchor-id="作業の流れ">作業の流れ</h2>
<section id="アーカイブされたパッケージを探す" class="level3">
<h3 class="anchored" data-anchor-id="アーカイブされたパッケージを探す">アーカイブされたパッケージを探す</h3>
<p>CRAN の<a href="https://cran.r-project.org/src/contrib/Archive/">アーカイブ</a>にアクセスして、アーカイブされたパッケージを探します。</p>
<p>例えば当時アーカイブされていた <code>SCtools</code> を探すと、次のようになります。</p>
<p><img src="https://yo5uke.github.io/tips/240516_archived_pkg/sctools-archived.png" class="img-fluid"></p>
<p>この中で最新のものを右クリックし、リンクをコピーしてください。</p>
</section>
<section id="rstudio-を開く" class="level3">
<h3 class="anchored" data-anchor-id="rstudio-を開く">RStudio を開く</h3>
<p>続いて RStudio を開き、スクリプトに次のコードを入力してください。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="R" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1">url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://cran.r-project.org/src/contrib/Archive/SCtools/SCtools_0.3.2.tar.gz"</span></span>
<span id="cb1-2">pkgFile <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SCtools_0.3.2.tar.gz"</span></span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">download.file</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">url =</span> url, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">destfile =</span> pkgFile)</span></code></pre></div>
</div>
<p>ここで URL はコピーしたものに変え、<code>pkgFile</code> は URL の最後の <code>.tar.gz</code> 部分をコピペしてください。</p>
<p>実行するとエラーが出るかもしれませんが、それは依存しているパッケージがインストールされていないということです。エラーを読んでみて、足りなそうなパッケージを以下のコードの <code>c()</code> にまとめて入れて実行し、 改めて <code>download.file()</code> を実行してみてください。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename="R" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">install.packages</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"xxx"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"yyy"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"zzz"</span>))</span></code></pre></div>
</div>
<p>そしてパッケージをインストールします。次のコードを実行してください。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename="R" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">install.packages</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pkgs=</span>pkgFile, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">type=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"source"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">repos=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>)</span></code></pre></div>
</div>
<p>最後に以下を実行して下さい。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode" id="cb4" data-filename="R" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unlink</span>(pkgFile)</span></code></pre></div>
</div>
<p>以上です。インストール出来たのではないでしょうか。</p>
</section>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">おわりに</h2>
<p>備忘録的にアーカイブされたパッケージのインストール方法をまとめました。</p>
<p>出会ってしまった際にはご活用ください。</p>
</section>
<section id="参考" class="level2">
<h2 class="anchored" data-anchor-id="参考">参考</h2>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><a href="https://stackoverflow.com/questions/24194409/how-do-i-install-a-package-that-has-been-archived-from-cran">stackoverflow</a></p>
</div>
</div>
</div>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><a href="https://yoshi-nishikawa.hatenablog.com/entry/2017/10/27/143615">CRANから消えた”Archived R package”をインストールしたい</a></p>
</div>
</div>
</div>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>2023年秋↩︎</p></li>
<li id="fn2"><p>2024年5月16日↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>R</category>
  <guid>https://yo5uke.github.io/tips/240516_archived_pkg/</guid>
  <pubDate>Wed, 15 May 2024 15:00:00 GMT</pubDate>
</item>
<item>
  <title>【R】プロジェクトを使う</title>
  <link>https://yo5uke.github.io/tips/240515_rproj/</link>
  <description><![CDATA[ 




<section id="r-プロジェクトについて" class="level2">
<h2 class="anchored" data-anchor-id="r-プロジェクトについて">R プロジェクトについて</h2>
<p>R プロジェクトは、RStudio で作成できるプロジェクトです。プロジェクトを作成すると、プロジェクトのためのディレクトリが作成され、そのディレクトリ内で作業することになります。</p>
<p>プロジェクトを作成すると、プロジェクトのための <code>.Rproj</code> ファイルが作成され、RStudio でそのファイルを開くことで、プロジェクトが開かれます。</p>
</section>
<section id="作り方" class="level2">
<h2 class="anchored" data-anchor-id="作り方">作り方</h2>
<ol type="1">
<li><p>RStudio を開く</p></li>
<li><p>画面右上の <img src="https://yo5uke.github.io/tips/240515_rproj/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAIsUlEQVR4Xu3XeWyT5x0HcLbuaCemtaq0Tlo1oQ5UrWJtpW4tZe1GIYybkBLYAi2EK5yDhbZchUCBEcIRDAmE3LcJTuLEcew4jhM7cZzEfm2/l4/X5+szvp3Yjh2HBLz3jZMAGbBA9+ce6atXsiL/Pv49v8d5PGvW/9cLLJoi9pO15bx3F+WxUpcXcTfsbUbeolljr8RisR9M/9v/zaLRXvqIUvfuZ7cZaYkVrXdWljQbttZ2mdfWdQweYEv16yo52MoSFjehkHVmVVnbqm9Yil9JY7EfT3+bGa+5N9g/eNN2vsLb9G3rShhlawp46jSGD3qsyIMv4U6dDRTSFFvGUY380HnHVMYrbVEkEK1V53Za9TtZ0oV66u4ijWlnLplRZwjSRXti0/z8Vef2Z1FN/mzFxU2LVhcwNy1rJiVt66yDTjABoCLYr2iVOvVNtqiaJNjBGbYR2A6UbjeHEapxkF0U4fMRTUGUZppCKaZIvAdIlTjEFxNJF/pUZ8TGdG9zRJpcjUPTKxoK19X1f6PFJrg4/Qe6ytTxTfQ+LP/XsPnp3PlvMtyUzcVDyjYnvswx3cfYnmIuEbhJucI3GCNIHWWMELDQ0SCSKVhENnIlbjKdH6k2hBEqvRBhCw+Cag0RqDJlOuH4FzIozgl1PbtYUp6Nt0ViNPypfEtSm3gv3q8HfFlAXh/scZnaHSOoBzfA5AAgCz3fZDpHIXo9gi8p0ji+dtVYeDLnG5/8uXOwF9OtEbmHKCPfXKsJZJCEfovdpj05dogXGkYgioNETIgmbKJFGCDyBWZzXBKoHGkc6HABzT/L6a6kC7Qhmr0A5pc0GLL6FQGL/TqvTmo3VJlDGAN/SNQnTUCfZEj8i84zI5+mM6OLj/DC+2rABx/utUW3F0h7V/4DTvy/kFm9Hy7UVeiGYDKtCGwlMhtpU+ZJbXjGUKd+0SHMpAlsVnylAH1QYE+OKs09vIU4IAAC3f7HgBC3xjQSaTZFkYrNB79DbnJcbFXN5gtx53ZErMls1Nv+MMhVnRXkdiZr3Ijq9k9zjyFG7kFOdGPDrMiK861B65DLuySxGI7L9L7M8W4mwK58WJtGK02PQCqzTGASmRLCxp7JkBAhO8dk/Dc9yRsR0RG1fuwQsRmoUhw785K8dghOhi4Dtu0q5kiVw7qUFLk/cYDtfLwvhrp/WtSi/Mm7DIUa4fgCsMYUGkaA6rH82A8zwfw3JO0OocBln0IYJiDQJ3BK/nwUGM0nQr4c4munOxWjmSLTaEcudWWWtg38MFBZrhQFZCVYEOyMv2w9EkAsgtPBXT/B2BsHMC2hSUMSxCoxwck83fcHd6W02kvUlilf2XwHJcBE5wlNKPzdtCj6y93uUlAmSYsjQPuPS8g3gUSICAB3knA8GOAdec4niM1gOHtgtpg0rUO53t7G8Pv7WWEr/bYkUIs9BTABGImgPEuEMXJLnBJQH8cQJ8A/G57zfDb2+4Mv3a6YnTuLlp0+Vme95LQguajflkxCdBNAEzxLXisCy8CaJkG2JYjsJcpbJJPa1tc8/fTwyQgD/bKZgQg8kSAaBqgczrAPLEFO+MAcgYSGFz7rirANHdHffRQDYSTAHIGSqdtwQwBsXHA5CA+BIwAbHt4/BSMd4AAbCeGsERlBxKa2uyXAQu8/Gybl5yDKyIrEj8FZBeGnzAHMwJMdIEEeB4CmiYAvycBuV32EswJJDAJgNRKngKE7MKKczxvAToQ34ZnDOILAa62aTTHamQ4CVj6LXNgQ77A/dvC2sgWNth/ttei2l0uNc8jEJtzeh37K2FzHhKQP20bngvQRgDIGUjJavfP23F39M2t1NHXN1eNvbGlavTNK3dG0tpVpo1MmWdZbW9o/uGm8JzU2hHyO4ECeBES8KQvpCcCegjA5CCOzwEBYDui8hvKfu1hocqxhSsbIJ62TJkVK9b4oVtqD/wZs8N1QepSZMN+5LzMrdrH11mSmZAvuRn2ftVjMuaqgvCMOxAHxACi5eBtlUt7vFfn3MNH/BkSkzVX7cFqLBGoxjwEVptC8nJjQJ6vG4AWszucmXKPIhsZRB7NGalbvVtgsCY1I/4vuWrXCbFTV6SLyh8CkMcBXwv1gwVqt+6UWO86KFT7/0X8WyaKaJiuUYjhHAXp/SNgnS0qv2uNgFRrRF5hisgLDAPQEjbfeQFyoxQ0CI9HRT5D8DUi40/VEJwB+LA0Pm5LYikGt/P1ju/kHs1JidM2BVhIb/3l3g7Uewm2Wal4SMsjbkGtRDjkbSh+IQEb+kfBcrUXpfQZsBOMPvwUW6Y/36XGPq3neC5AxOtE4fO9/ar9dRL8CEejO8bVaSlEcYoqMpVrqgjyrdSr3c7HHYksReAtmiF+IfmkWvja6gZRTwZgEjLsUZjne/AYoJkANBKps4/IyWR1YRhFZlEV4QFwCbvTmQl6FBkCo+ZrFqq/JCMxZOFHM4mIwqeIbhBbgi6li5BZp2M/nNqCFB76xqoGUdqSOoFkZwfcfRvzEMVHkTjg/mOAXKI4RWpSXYds6J8Zbe6vOEpdBt+IXYF9CEUVmlZ8CM5WhJGjYodmAxtUJjJ7apObJZ/nS2M/myr+6Dodi/0omQksWtkgoiQ19cpOSgyyanNYQQLqHXFACeZFyGtXCdGBBKIDF2Afmo34kYvEaSAzWTgTCigOCnF9YpMY+7yp71oqG14w498K5B1+T7vm14mNPbuX0TvBXR0QRFE61TXmCFiNh0ByCB8FkANIIq4Sx/E7GXkCMMPaRpFmI1t85FgvPocWi700vcaMVykee/mLFnBREqMnd31zr+p4n0GdrxtEpgDEEJJH76TYpk3lQXhKC9CR0iLdmqsOvk58kIf7/H0X+SmOCu2/IfZw30ZWX2dqm1z7cRPX90+hzpTCBkxbuVLqzlZ0KQOL/fyZv4K+7yLfnOaOzd7EkSe8Q226u6ZRdPR4l/kdZv9TBuu/rH8DYKkbNvCO3j8AAAAASUVORK5CYII=" class="img-fluid"> をクリックし、「New Project…」を選択</p>
<ul>
<li><p>ここで、新しいディレクトリを作るか、既存のディレクトリに作るかを選択できます。</p></li>
<li><p>新しくフォルダを作って作業をしたい場合は新しいディレクトリを、既にデータフォルダなどを含む作業ディレクトリがある場合は既存のディレクトリを選択します。</p></li>
<li><p>新規ディレクトリの場合、特に目的が決まっていなければ「New Project」を選んでもらって大丈夫です。</p></li>
<li><p>「Browse」より、プロジェクトを作成するディレクトリを選択します。</p></li>
<li><p>既存のディレクトリを選択した場合、そのディレクトリ内に <code>.Rproj</code> ファイルが作成されます。</p></li>
</ul></li>
</ol>
<ul>
<li><p>自動でプロジェクトが開く</p>
<ul>
<li>右上を見てもらうと、プロジェクト名になっていることが分かると思います。</li>
</ul></li>
</ul>
<p>2回目以降開くときは、同様に右上から「Open Project」を選ぶか、エクスプローラーもしくは Finder から <code>.Rproj</code> ファイルをダブルクリックして開くことができます。</p>
</section>
<section id="プロジェクトの強みを活かす" class="level2">
<h2 class="anchored" data-anchor-id="プロジェクトの強みを活かす">プロジェクトの強みを活かす</h2>
<section id="強み" class="level3">
<h3 class="anchored" data-anchor-id="強み">強み</h3>
<p>プロジェクトの強みとして、そのディレクトリ内で作業が完結することが挙げられます。</p>
<p>データやソースコードは、プロジェクトのディレクトリ内に保存しておきましょう。その上で強みを発揮するのが、<code>here</code> パッケージを使った相対パスの指定です。</p>
<p>例えば、次のようなディレクトリであるとします。</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode css code-with-copy"><code class="sourceCode css"><span id="cb1-1">project-root/</span>
<span id="cb1-2">├── proj<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">.Rproj</span></span>
<span id="cb1-3">├── code/</span>
<span id="cb1-4">│   ├── script1<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">.R</span></span>
<span id="cb1-5">│   ├── script2<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">.R</span></span>
<span id="cb1-6">│   └── utils/</span>
<span id="cb1-7">│       ├── helper1<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">.R</span></span>
<span id="cb1-8">│       └── helper2<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">.R</span></span>
<span id="cb1-9">└── data/</span>
<span id="cb1-10">    ├── raw/</span>
<span id="cb1-11">    │   ├── dataset1<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">.csv</span></span>
<span id="cb1-12">    │   └── dataset2<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">.csv</span></span>
<span id="cb1-13">    └── processed/</span>
<span id="cb1-14">        ├── processed1<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">.csv</span></span>
<span id="cb1-15">        └── processed2<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">.csv</span></span></code></pre></div>
<p>このもとで話を進めます。</p>
</section>
<section id="here-パッケージ" class="level3">
<h3 class="anchored" data-anchor-id="here-パッケージ"><code>here</code> パッケージ</h3>
<p><code>here</code> パッケージを使うと、<code>.Rproj</code> ファイルがあるディレクトリを基準として、相対パスを指定することができます。</p>
<p>まずはインストールしましょう。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename="R" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">install.packages</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"here"</span>)</span></code></pre></div>
</div>
<p>次に読み込みます。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename="R" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(here)</span></code></pre></div>
</div>
<p>例えばここで、<code>processed1.csv</code> を使いたいとします。</p>
<p><code>C:</code> から始まるパスを指定していたのでは長いですし、<code>setwd()</code> でワーキングディレクトリを設定していたとしても、その都度設定するのも非効率です<sup>1</sup>。</p>
<p>パッケージの主要関数である <code>here()</code> は、<code>.Rproj</code> があるディレクトリ起点とした相対パスを使用可能です。</p>
<p>百聞は一見に如かずということで、次のコードをご覧ください。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode" id="cb4" data-filename="R" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> readr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/processed/processed1.csv"</span>))</span></code></pre></div>
</div>
<p>&lt;ポイント&gt;</p>
<ul>
<li><p>引数がデータのところで <code>here()</code> を使う</p></li>
<li><p><code>.Rproj</code> があるディレクトリからのパスを書く</p></li>
<li><p><code>here()</code> 内ではダブルクォーテーションでパスを囲む</p></li>
</ul>
<p>このようにすれば、フォルダの位置が PC 内で変わるなどの環境の変化に対応しながらコーディングができます。</p>
</section>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">おわりに</h2>
<p>今回はプロジェクトを使った環境のメリットと、<code>here()</code> パッケージをご紹介しました。ぜひ論文などのプロジェクトでは、R にもプロジェクトを作って作業してみてください。</p>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>共同研究を行うなら PC ごとに環境が異なりますから、なおさら非効率的です。↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>R</category>
  <guid>https://yo5uke.github.io/tips/240515_rproj/</guid>
  <pubDate>Tue, 14 May 2024 15:00:00 GMT</pubDate>
  <media:content url="https://yo5uke.github.io/tips/240515_rproj/thumbnail.png" medium="image" type="image/png" height="102" width="144"/>
</item>
<item>
  <title>【日本語版】クリーンなスライドを Quarto で作る！</title>
  <link>https://yo5uke.github.io/tips/240514_clean_slide/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p><a href="../240512_beamer/index.html">別記事</a>で、Beamer 風の Reveal.js スライドをご紹介しましたが、英語にしか対応していませんでした。というのも、あのフォントと釣り合う日本語のフォントが思いつかなかったからです。</p>
<p>今回は、別のデザインで日本語にも対応したスライドのテンプレートをご紹介します。デザインに困っている方はぜひ使ってみてください！</p>
</section>
<section id="テーマ" class="level2">
<h2 class="anchored" data-anchor-id="テーマ">テーマ</h2>
<p>テーマは、<a href="https://quarto.org/docs/extensions/listing-revealjs.html">Quarto 公式</a>でも紹介されている <code>clean-revealjs</code> をアレンジしたものです。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240514_clean_slide/clean-revealjs.png" class="img-fluid figure-img"></p>
<figcaption>clean-revealjs （<a href="https://github.com/grantmcdermott/quarto-revealjs-clean?tab=readme-ov-file">GitHub リポジトリ</a>より）</figcaption>
</figure>
</div>
<p>そして、今回ご紹介するスライドはこちらです。</p>
<div>
<iframe class="slide-deck" src="demo/demo1/demo.html"></iframe>
</div>
<p>タイトルやヘッダーなどのフォントは、<a href="https://fonts.google.com/">Google Fonts</a> から、<a href="https://fonts.google.com/specimen/Zen+Maru+Gothic?query=zen+">Zen Maru Gothic</a> を使っています。</p>
<p>また、サブヘッダーも追加しています。サブヘッダーが水色っていうのがいいですよね、なんか。</p>
</section>
<section id="ポイント" class="level2">
<h2 class="anchored" data-anchor-id="ポイント">ポイント</h2>
<section id="とりあえず見てみよう" class="level3">
<h3 class="anchored" data-anchor-id="とりあえず見てみよう">とりあえず見てみよう</h3>
<p>このスライドは、結構嬉しいポイントとして、移動ボタンが準備されているということがあります。</p>
<p>これはどういうことか、こちらをご覧ください。</p>
<div>
<iframe class="slide-deck" src="demo/demo2/demo.html"></iframe>
</div>
<p>結構すごくないですか？PDF だと図や表に飛べたりしますが、自分でスライドを作っていて戻るのめんどいな、と思うことがあったので、結構重宝しています。</p>
</section>
<section id="使い方" class="level3">
<h3 class="anchored" data-anchor-id="使い方">使い方</h3>
<p>使い方はデモスライドに書いた通り、<code>[[図へ]{.button}](#sec-cars)</code> です。これをする上で必要な準備があるので、それをまとめます。</p>
<section id="スライドにラベルを付ける" class="level4">
<h4 class="anchored" data-anchor-id="スライドにラベルを付ける">スライドにラベルを付ける</h4>
<p>この機能、個人的には便利だなと思うのですが、図には直接飛べないのが玉に瑕です。要は図に飛ぶのではなく、図があるスライドに飛ぶ必要があるということです<sup>1</sup>。</p>
<p>ラベルを付けるには、次のようにします。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Quarto</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="Quarto" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">## ヘッダー</span></span>
<span id="cb1-2"></span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">### サブヘッダー {#sec-hogehoge}</span></span></code></pre></div>
</div>
<p><code>hogehoge</code> の部分は適宜変更してください。波括弧で囲み、<code>#sec-</code> で始めることでラベルを付けることができます。セクションの場合は必ず <code>#sec-</code> で始める必要があるので注意してください。</p>
</section>
<section id="ボタンを作る" class="level4">
<h4 class="anchored" data-anchor-id="ボタンを作る">ボタンを作る</h4>
<p>先述の通り、ボタンを作るには、任意の場所で次のように書きます。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Quarto</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename="Quarto" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1">[<span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">図へ</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span>{.button}](#sec-hogehoge)</span></code></pre></div>
</div>
<p>中の <code>[]</code> は表示したいテキストで、<code>()</code> の中はラベル名です。ラベル名はセクションのラベル名を指定してください。</p>
</section>
<section id="帰れないと意味がない" class="level4">
<h4 class="anchored" data-anchor-id="帰れないと意味がない">帰れないと意味がない</h4>
<p>図（があるセクション）へ飛ぶボタンを作ったら、図から戻るボタンも作りましょう。せっかく何ページも飛んでいったのに、戻るのに1スライドずつ戻っていたのでは意味がありません。</p>
<p>例えば、次のようにします。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Quarto</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename="Quarto" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1">[<span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">戻る</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span>{.button}](#sec-hogehoge)</span></code></pre></div>
</div>
<p>これで、図から戻るボタンが作れます。1つの図を複数の箇所から参照する場合、「○○へ戻る」<sup>2</sup>として、複数のボタンを作るとよいでしょう。</p>
<p>横に並べたいときは Quarto の機能を活かして、</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Quarto</strong></pre>
</div>
<div class="sourceCode" id="cb4" data-filename="Quarto" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1">:::: {.columns}</span>
<span id="cb4-2">::: {.column width="50%"}</span>
<span id="cb4-3">[<span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">セクション1へ戻る</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span>{.button}](#sec-hogehoge)</span>
<span id="cb4-4">:::</span>
<span id="cb4-5"></span>
<span id="cb4-6">::: {.column width="50%"}</span>
<span id="cb4-7">[<span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">セクション2へ戻る</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span>{.button}](#sec-fugafuga)</span>
<span id="cb4-8">:::</span>
<span id="cb4-9">::::</span></code></pre></div>
</div>
<p>とすれば、横に並べてボタンを配置できます<sup>3</sup>。</p>
</section>
<section id="scss-ファイルをゲット" class="level4">
<h4 class="anchored" data-anchor-id="scss-ファイルをゲット">scss ファイルをゲット</h4>
<p>このスライドを使うには、<a href="https://github.com/yo5uke/clean-slide">こちら</a>をクローンするか、ZIP ファイルダウンロードするかして、<code>clean-slide.scss</code> を入手してください<sup>4</sup>。</p>
<p>これを Quarto ファイルと同じディレクトリに置いてください。</p>
<p>重ねてになりますが、詳しいスライドの作り方は<a href="../240512_revealjs/index.html">こちら</a>を参照してください。</p>
</section>
</section>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">おわりに</h2>
<p>今回は、日本語にも対忘したスライドのテンプレートをご紹介しました。</p>
<p>Quarto などの Markdown でスライドを作るのは、パワポより体裁が整うし<sup>5</sup>、個人的に Beamer よりは簡単に作れると思います。</p>
<p>ぜひ、Quarto でスライドを作ってみてください！</p>
</section>
<section id="参考" class="level2">
<h2 class="anchored" data-anchor-id="参考">参考</h2>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><a href="https://quarto.org/docs/extensions/listing-revealjs.html">Quarto Extensions: clean-revealjs</a></p>
</div>
</div>
</div>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><a href="https://github.com/grantmcdermott/quarto-revealjs-clean?tab=readme-ov-file">GitHub: clean-revealjs</a></p>
</div>
</div>
</div>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>図の参照自体はもちろんできます。Quarto での相互参照の仕方については<a href="../240509_cross_reference/index.html">こちら</a>↩︎</p></li>
<li id="fn2"><p>○○はセクションやサブセクションの名前など↩︎</p></li>
<li id="fn3"><p>この書き方の詳細や Quarto の機能については<a href="../240512_revealjs/index.html">こちら</a>↩︎</p></li>
<li id="fn4"><p>もはや新しい scss ファイルを手動で作って、中身をコピーするでもいいですよ。↩︎</p></li>
<li id="fn5"><p>スライド作成に自信がある方はすみません…↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>Quarto</category>
  <category>R</category>
  <guid>https://yo5uke.github.io/tips/240514_clean_slide/</guid>
  <pubDate>Mon, 13 May 2024 15:00:00 GMT</pubDate>
  <media:content url="https://yo5uke.github.io/tips/240514_clean_slide/thumbnail.png" medium="image" type="image/png" height="95" width="144"/>
</item>
<item>
  <title>【スライド】Beamer の Metropolis テーマを Reveal.js で再現したい</title>
  <link>https://yo5uke.github.io/tips/240512_beamer/</link>
  <description><![CDATA[ 




<section id="metropolis-との出会い" class="level2">
<h2 class="anchored" data-anchor-id="metropolis-との出会い">Metropolis との出会い</h2>
<p><img src="https://latex.codecogs.com/png.latex?%5CLaTeX"> の Beamer で使える Metropolis テーマがおしゃれだと思ったので使ってみたい！というモチベーションです。</p>
<p>普段は Reveal.js を使っているので、Metropolis テーマを Reveal.js で再現したいと思い、できる限り頑張ってみました。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://yo5uke.github.io/tips/240512_beamer/image/metropolis.png" class="img-fluid figure-img"></p>
<figcaption>Metropolis テーマはこんな感じです（<a href="https://github.com/matze/mtheme">GitHub リポジトリ</a>より）</figcaption>
</figure>
</div>
</section>
<section id="reveal.js-で再現" class="level2">
<h2 class="anchored" data-anchor-id="reveal.js-で再現">Reveal.js で再現</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Reveal.js で、と書いていますが、Quarto 経由で使用することを想定しています。</p>
<p>Quarto での使い方については<a href="https://quarto.org/docs/presentations/revealjs/">こちら</a>、Reveal.js については<a href="https://revealjs.com/">こちら</a>を参照してください。</p>
</div>
</div>
<p><a href="https://github.com/yo5uke/modern-revealjs/tree/main">こちら</a>の GitHub リポジトリに、Metropolis テーマをもとに作成した scss ファイルがあります。</p>
<p>私もよくわからずに作成しましたが、scss ファイルはデザインを指定しているファイル、みたいな理解で良いと思います（笑）</p>
</section>
<section id="使い方" class="level2">
<h2 class="anchored" data-anchor-id="使い方">使い方</h2>
<ol type="1">
<li><p><a href="https://github.com/yo5uke/modern-revealjs/tree/main">この</a>リポジトリをクローン、もしくは scss ファイルをダウンロード</p>
<ul>
<li>リポジトリ自体は整えてないので、クローンしなくても scss ファイルがダウンロードできれば大丈夫です。</li>
</ul></li>
<li><p>Quarto コードがあるディレクトリに scss ファイルを配置</p>
<ul>
<li>要は <code>.qmd</code> ファイルと <code>.scss</code> ファイルが同じフォルダに入っていれば大丈夫です。</li>
</ul></li>
<li><p><code>.qmd</code> ファイルに以下のように記述</p></li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Quarto</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="Quarto" style="background: #f1f3f5;"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb1-1"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">title</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Title"</span></span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">author</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Author"</span></span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">institute</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Institute"</span></span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">date</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2024-05-12"</span></span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">format</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb1-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">revealjs</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb1-9"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">            </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> default</span></span>
<span id="cb1-10"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">            </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> metropolis.scss</span></span>
<span id="cb1-11"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slide-number</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb1-12"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">date-format</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> long</span></span>
<span id="cb1-13"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">---</span></span></code></pre></div>
</div>
<ol start="4" type="1">
<li><p><code>.qmd</code> ファイルをレンダリング</p>
<ul>
<li>R Markdown で言うところの Knit です。</li>
</ul></li>
</ol>
</section>
<section id="デモ" class="level2">
<h2 class="anchored" data-anchor-id="デモ">デモ</h2>
<div>
<iframe class="slide-deck" src="demo/"></iframe>
</div>
<p>Metropolis からヘッダー部分をアレンジしています<sup>1</sup>。</p>
</section>
<section id="まとめ" class="level2">
<h2 class="anchored" data-anchor-id="まとめ">まとめ</h2>
<p>Reveal.js はシンプルでデザイン性も高く、コードの実行結果もそのまま表示できるというメリットがあります。</p>
<p>ぜひ試しに使ってみてください。</p>
<p>ちなみに、Quarto では Beamer も使えますので、普通に Metropolitan 本家を使うこともできます。単に普段使っている Reveal.js で使いたかったから作ったというだけです。笑</p>
</section>
<section id="参考" class="level2">
<h2 class="anchored" data-anchor-id="参考">参考</h2>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><a href="https://github.com/matze/mtheme">Metropolis テーマ</a></p>
</div>
</div>
</div>
</section>
<section id="追記" class="level2">
<h2 class="anchored" data-anchor-id="追記">追記</h2>
<p>2024/5/13：このテーマをもとに、Quarto でスライドを作る方法を紹介しました。<a href="../240512_revealjs/index.html">こちら</a>も併せてご覧ください。</p>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>塗りつぶしがうまくいかなかっただけです。↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>Quarto</category>
  <category>Reveal.js</category>
  <category>R</category>
  <guid>https://yo5uke.github.io/tips/240512_beamer/</guid>
  <pubDate>Sat, 11 May 2024 15:00:00 GMT</pubDate>
  <media:content url="https://yo5uke.github.io/tips/240512_beamer/image/revealjs.png" medium="image" type="image/png" height="83" width="144"/>
</item>
<item>
  <title>【Quarto】使い方解説！Reveal.js でスライドを作ろう</title>
  <link>https://yo5uke.github.io/tips/240512_revealjs/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p>皆さん、スライドを作るときに何を使っていますか？PowerPoint ですか？<img src="https://latex.codecogs.com/png.latex?%5CLaTeX"> の Beamer ですか？</p>
<p><a href="../240512_beamer/index.html">こちらの記事</a>で Reveal.js を使ったスライドをご紹介しましたが、今回はスライドを作る上での tips をご紹介します。</p>
<p>今回は Quarto の使い方と併せて、スライドの作り方を書いていこうと思います。</p>
</section>
<section id="準備" class="level2">
<h2 class="anchored" data-anchor-id="準備">準備</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>この記事は R ユーザーをターゲットに書いています。しかし、Quarto は多言語でも使えるのがメリットなので、もちろん Python などでも使うことができます。</p>
<p>今回は RStudio で使うことを前提としますが、Python でも使いたいという方は<a href="../240508_jupyter/index.html">こちらの記事</a>を参考に VSCode で始めてみてください。コードの書き方はこの記事と同じです。</p>
</div>
</div>
<p>細かいことは、Quarto の<a href="https://quarto.org/docs/guide/">公式ガイド</a>をお読みください。この記事では、とりあえずこれができればいいかな、というところをピックアップして解説します。</p>
<section id="ドキュメントを開く" class="level3">
<h3 class="anchored" data-anchor-id="ドキュメントを開く">ドキュメントを開く</h3>
<p>RStudio を開き、任意のディレクトリをワーキングディレクトリとして設定します。</p>
<p>RStudio 左上の <img src="https://yo5uke.github.io/tips/240512_revealjs/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAkCAYAAADl9UilAAACvElEQVR4Xu2XTWgTQRSA0/wo4k9VghH14MWzB+9S0YMHbxJBsZDdTdJS3aTBghQPKRRUrF6EWIpNtjSKGo0XTS96CA00CUVpmqot2tLGHvTSNDYFE0jGfUkj4bn52e0EL/vBO+3MvI+Zt29nNRoVlf/BQ36nTrB0tvmYYJvALGsEJg+h9TEp/SgT3DvMsedu2tvNZrMOT20dXvaiKLEqBqkXouQPo4e1dfb17Xa73Vq8DD0CZp1WsNzDAo3i/LM7a6Fw9FM4lpidnE4mlEQknryFdf4i7sAQTgqBwc8h7O8fk0zmFykUCnh4U4Ac9ilTPr5/EjYrBuGJT5CNjSwpFot4SkOkxQLmHZo6NYXBzytx6AlPFldWyO9cDk9piKSYzsdcxUmUiEHcDr8ka+m07COVFBNbwmucQKnYmVeDJPV9leRk7pq0mMCkakk0S2W+yc+TL/MLJJvdxEPqIimmKTdPKmL6MY7MJJJkPZPBQ+pSS2yTptiHjzOlOpODpJjYVJdoiZn81+mJ6b3sm8rCUoHBz6vj9IsBeke5Z4TrwgmUivWHBHrF3+Hu3Q8fZJxErphx/BoJT0XptQu4usAtASeSKzYQGieJ2Tl6DRaAq8u+YW4MJ2tW7FLwPonFp0u7Re2TBMB96rLTaWp/xD3FSRsFSEWiMfJtcYnyR3wLUU5vtTpNxx/Y+g2jbM2aq8QRv4O4xeODnQKp1lx7tgA5u/2G8YrDcerEkO3uAQ83ZfCyP8WXI2fwccWjfic5Gxgk7gk/mRR3KZGcKx0f7JRSKaChGADHCjVn5fljbBd/0trd22Hrdl4YEZ4vQ/OEAp9f+FoSgkKHmlJyfNU0JVYB3laXy7WL41wHLT09h9++i3xOp9dLzRP6VD6f39YuVSNLDAOT8YK0UMXkoorJZVti8FMKC7Qi6v7wqqi0iD86M3fnY/LjkAAAAABJRU5ErkJggg==" class="img-fluid"> より、「Quarto Document」を選択してください。</p>
<p>さらに「Presentation」を選び、タイトル、著者名を必要に応じて付け、Reveal JS を選びます。エンジンは Knitr<sup>1</sup>、Use visual markdown editor はオフにしておいてください。</p>
<p>最後に Create を押します。</p>
<p>すると、次のようなヘッダーだけがある文書が出てくると思います。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Quarto</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="Quarto" style="background: #f1f3f5;"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb1-1"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">title</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"[任意のタイトル]"</span></span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">format</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> revealjs</span></span>
<span id="cb1-4"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">---</span></span></code></pre></div>
</div>
<p>これでドキュメントは無事開けました。そしたら <img src="https://yo5uke.github.io/tips/240512_revealjs/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAkCAYAAAD7PHgWAAABBklEQVR4Xu2XMQrCQBBFBQvR6wgJHsEDpHVjBDvvoBhbI3bWCkZbFUyhFrYiEat0WgmC6AVkdQqbIVmWZAOi82C64b+/bDWZDEEQP4phTLMaa9d003bTGMgu1psF7JVGNzuWPdzs18GDz443rgrIcndXbvW8g1axGfZKo7P2eBXc+WB74a3FGXtiA1kwzfnpqTF7hL3SwDfAaz+BqvjkwYADe6WhglQwJlQwKVQwKakVTGOoYNL5z4JxwBlUMEwqAu9SwTCpCLxLBcOkIvCusoKT9/WFQ6OkIvCukoJwt5rO0sehUVIReBem6ng+OLBXmnKjn4PbGM5PeKnqgXIlo5vHXoL4Nl4ZYqbbEGA7+wAAAABJRU5ErkJggg==" class="img-fluid"> を押して、任意のフォルダに保存してください。</p>
</section>
<section id="テーマ" class="level3">
<h3 class="anchored" data-anchor-id="テーマ">テーマ</h3>
<p>このままでもスライドは作れますが、味気ないスライドになってしまいますので、テーマを設定します。</p>
<p>テーマは、先ほどのヘッダーを次のように書き加えることで使うことができます。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Quarto</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename="Quarto" style="background: #f1f3f5;"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb2-1"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">title</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"[任意のタイトル]"</span></span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">format</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb2-4"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">revealjs</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb2-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> night</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  # この部分を変える</span></span>
<span id="cb2-6"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">---</span></span></code></pre></div>
</div>
<p>もとのヘッダーと変えた時のヘッダーでそれぞれ <img src="https://yo5uke.github.io/tips/240512_revealjs/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABbElEQVRYhe3WP0scURSH4WdnNyGIlQS/gGyXMkG0Fi2SwmotExBBSLNFUoSgWNit2FvIFoKFRYoQC3HtQ/ALiFilFASLBBI2f4pZYRxmZyfO7izB/cHlztxz7jkvw5xzLyONdN9VentwnjfGKp5gHVdZNzVqVRDkzY4NvMZnTP3r5n4ATHbmagdipmiAUuT5MVpYKBIgrjF8RG1YAPAQ+1jJAlAVEl/jT2xIWIvbu6mMHbxJc6pgD9O9SO+oEhqYwHsJ0AGeDih5VO/QxIMkgHIBAPASnzAeByhS8zjCo2EBwCzqNy8VtxtJkvLaUxXoXWZ57N3GchSgaB0LK2IoAC0s4ncUoF1Q8g94ju/RxQCnBSRvCg+nn3FDgFc4wY8BJd8W/nS/kowVnGEuJUCeMlvDZppDJUfwNLWFd8XdXo6DAPiGJRxmce4HQDsS5xIv8CXr5n70ga+d+ULY5zMnpz9foI5n2BLeqv4v/QUmf1bR1/DM0QAAAABJRU5ErkJggg==" class="img-fluid"> Render してみてください。</p>
<p>ちなみに、Quarto 公式では、以下のようなテーマが紹介されています。</p>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p><code>beige</code></p></li>
<li><p><code>blood</code></p></li>
<li><p><code>dark</code></p></li>
<li><p><code>default</code></p></li>
<li><p><code>league</code></p></li>
<li><p><code>moon</code></p></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li><p><code>night</code></p></li>
<li><p><code>serif</code></p></li>
<li><p><code>simple</code></p></li>
<li><p><code>sky</code></p></li>
<li><p><code>solarized</code></p></li>
</ul>
</div>
</div>
<p>それぞれ特徴があるので、いろいろ試してみてください。</p>
<p>今回は、私が作成した Reveal.js のテンプレートを使っていきます。現状英語にしか対応していないのが難点ですが、いずれ日本語に対応したものも作る予定です。</p>
<p><a href="https://github.com/yo5uke/modern-revealjs">GitHub リポジトリ</a>にアクセスし、クローンするか、<code>&lt;&gt; Code</code> より ZIP ファイルをダウンロードしてください<sup>2</sup>。使うのは <code>modern_theme.scss</code> です。このファイルを準備し、先ほどのドキュメントを保存したフォルダと同じフォルダに移しておいてください。</p>
<p>そしたらヘッダーを次のように修正してください。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Quarto</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename="Quarto" style="background: #f1f3f5;"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb3-1"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">title</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"[任意のタイトル]"</span></span>
<span id="cb3-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">format</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb3-4"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">revealjs</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb3-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb3-6"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> default</span></span>
<span id="cb3-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> modern_theme.scss</span></span>
<span id="cb3-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slide-number</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">true</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  # スライド番号を付ける</span></span>
<span id="cb3-9"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">date-format</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> long</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">   # 日付のフォーマットを整える</span></span>
<span id="cb3-10"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">---</span></span></code></pre></div>
</div>
<p>これでテーマの設定もできました。</p>
</section>
</section>
<section id="quarto-での書き方" class="level2">
<h2 class="anchored" data-anchor-id="quarto-での書き方">Quarto での書き方</h2>
<section id="表紙" class="level3">
<h3 class="anchored" data-anchor-id="表紙">表紙</h3>
<p>表紙はヘッダーに書いた要素で構成されます。<code>title</code> の他には、<code>author</code>（著者）や <code>date</code>（日付）、 <code>institute</code>（所属組織） を追加することを想定しています<sup>3</sup>。</p>
</section>
<section id="本スライド" class="level3">
<h3 class="anchored" data-anchor-id="本スライド">本スライド</h3>
<p>スライドでは、<code>##</code> を使ってページを区切っていきます<sup>4</sup>。</p>
<p>例えば次のように書きます。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Quarto</strong></pre>
</div>
<div class="sourceCode" id="cb4" data-filename="Quarto" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb4-2"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">title:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> "Title"</span></span>
<span id="cb4-3"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">subtitle:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb4-4"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">format:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb4-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  revealjs: </span></span>
<span id="cb4-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    theme: </span></span>
<span id="cb4-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      - default</span></span>
<span id="cb4-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      - modern_theme.scss</span></span>
<span id="cb4-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    slide-number: true  # スライド番号を付ける</span></span>
<span id="cb4-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    date-format: long   # 日付のフォーマットを整える</span></span>
<span id="cb4-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb4-12"></span>
<span id="cb4-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">## First page</span></span>
<span id="cb4-14"></span>
<span id="cb4-15">"First page" is the headline text. Note that a half-width space is required before the heading.</span>
<span id="cb4-16"></span>
<span id="cb4-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">## Second page</span></span>
<span id="cb4-18"></span>
<span id="cb4-19">You can break a line by leaving one line blank.</span>
<span id="cb4-20"></span>
<span id="cb4-21">Like this.</span></code></pre></div>
</div>
<p><code>"First page" is ~</code> と <code>You can break ~</code> が本文です。</p>
<p>通常の Markdown と基本的な使い方は一緒ですが、改行するには空行を入れる必要があります。1回改行しただけでは、スライド上では改行されません。見出し部分にも適用されますので、1行空けてから <code>## 見出し</code> と書くようにしてください。</p>
<div>
<iframe class="slide-deck" src="demo/demo1/demo.html"></iframe>
</div>
</section>
<section id="色遣い" class="level3">
<h3 class="anchored" data-anchor-id="色遣い">色遣い</h3>
<p>このテーマは基本的に派手なデザインではありませんが、2色を文字に使えます。<span class="alert">alert</span> と、<span class="accent">accent</span> です。</p>
<p>これらの色にしたい文字や文を <code>[]</code> で囲んだ後、<code>{.alert}</code> および <code>{.accent}</code> と入力します。<code>[alert]{.alert}</code> といった感じです。</p>
<p>基本的には alert があれば概ね大丈夫な気がしますが、accent も入れておきました。</p>
</section>
<section id="callout" class="level3">
<h3 class="anchored" data-anchor-id="callout">callout</h3>
<p>callout ブロックを紹介します。</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>これは Note</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>これは Tip</p>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>これは Warning</p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>これは Important</p>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>これは Caution</p>
</div>
</div>
<p>これらのことです。</p>
<p>要点をまとめたいときや、断り事を書きたいときなどに重宝します。</p>
<p>書き方は、</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Quarto</strong></pre>
</div>
<div class="sourceCode" id="cb5" data-filename="Quarto" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1">::: {.callout-note}</span>
<span id="cb5-2">これは Note</span>
<span id="cb5-3">:::</span>
<span id="cb5-4"></span>
<span id="cb5-5">::: {.callout-tip}</span>
<span id="cb5-6">これは Tip</span>
<span id="cb5-7">:::</span>
<span id="cb5-8"></span>
<span id="cb5-9">::: {.callout-warning}</span>
<span id="cb5-10">これは Warning</span>
<span id="cb5-11">:::</span>
<span id="cb5-12"></span>
<span id="cb5-13">::: {.callout-important}</span>
<span id="cb5-14">これは Important</span>
<span id="cb5-15">:::</span>
<span id="cb5-16"></span>
<span id="cb5-17">::: {.callout-caution}</span>
<span id="cb5-18">これは Caution</span>
<span id="cb5-19">:::</span></code></pre></div>
</div>
<p>こうです。</p>
<p>ちなみに、ブロックのタイトルを変えたいときや、長いので折りたたみたいときは、</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Quarto</strong></pre>
</div>
<div class="sourceCode" id="cb6" data-filename="Quarto" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1">::: {.callout-note collapse=true}</span>
<span id="cb6-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">## ここがタイトル</span></span>
<span id="cb6-3"></span>
<span id="cb6-4">collapse=true で折りたためる Note</span>
<span id="cb6-5">:::</span></code></pre></div>
</div>
<p>と書くことで、</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
ここがタイトル
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>collapse=true で折りたためる Note</p>
</div>
</div>
</div>
<p>とできます。</p>
</section>
<section id="リスト" class="level3">
<h3 class="anchored" data-anchor-id="リスト">リスト</h3>
<p>箇条書きなどのリスト形式が使えます。書き方はシンプルで、</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Markdon</strong></pre>
</div>
<div class="sourceCode" id="cb7" data-filename="Markdon" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb7-1">箇条書きリスト</span>
<span id="cb7-2"></span>
<span id="cb7-3"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>Item 1</span>
<span id="cb7-4"></span>
<span id="cb7-5"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    - </span>Item 1-1</span>
<span id="cb7-6">    </span>
<span id="cb7-7"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>Item2</span>
<span id="cb7-8"></span>
<span id="cb7-9">順序付きリスト</span>
<span id="cb7-10"></span>
<span id="cb7-11"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">1. </span>Item 1</span>
<span id="cb7-12"></span>
<span id="cb7-13"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">2. </span>Item 2</span></code></pre></div>
</div>
<p>箇条書きリストでは2段階を、順序付きリストでは1段階の利用を想定しています。</p>
<p>アイテムの前には半角スペースを忘れないでください。また、2段階目を使うときには4つ分のスペースが必要です。</p>
</section>
<section id="列を分ける" class="level3">
<h3 class="anchored" data-anchor-id="列を分ける">列を分ける</h3>
<p>箇条書きを10個も書くと、2列にしたいことがありますよね。そんなときは次のようにしてください。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Quarto</strong></pre>
</div>
<div class="sourceCode" id="cb8" data-filename="Quarto" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb8-1">:::: {.columns}</span>
<span id="cb8-2">::: {.column width="50%"}</span>
<span id="cb8-3"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>Item 1</span>
<span id="cb8-4"></span>
<span id="cb8-5"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>Item 2</span>
<span id="cb8-6">:::</span>
<span id="cb8-7"></span>
<span id="cb8-8">:::{.column width="50%"}</span>
<span id="cb8-9"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>Item 3</span>
<span id="cb8-10"></span>
<span id="cb8-11"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>Item 4</span>
<span id="cb8-12">:::</span>
<span id="cb8-13">::::</span></code></pre></div>
</div>
<p>このように書くと、</p>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>このように</p></li>
<li><p>なります。</p></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li><p><code>width</code> を変えれば</p></li>
<li><p>列の幅を調節できます。</p></li>
</ul>
</div>
</div>
</section>
<section id="コード" class="level3">
<h3 class="anchored" data-anchor-id="コード">コード</h3>
<p>R や Python のコードも書けます。</p>
<p>特筆すべきは、コードをハイライトできることです。</p>
<p>例えば、次のコードをご覧ください。</p>
<div>
<iframe class="slide-deck" src="demo/demo2/demo.html"></iframe>
</div>
<p>上のコードでは <code>select()</code> と <code>filter()</code> の行がハイライトされています。</p>
<p>また、スライド上で右に進んでみてください。順にハイライトされています。</p>
<p>これらのコードは、次のように書いています。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Quarto</strong></pre>
</div>
<div class="sourceCode" id="cb9" data-filename="Quarto" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb9-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{.r code-line-numbers="5-6"}</span></span>
<span id="cb9-2"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">library(tidyverse)</span></span>
<span id="cb9-3"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">library(gt)</span></span>
<span id="cb9-4"></span>
<span id="cb9-5"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">df &lt;- mtcars |&gt; </span></span>
<span id="cb9-6"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  select(1:5) |&gt; </span></span>
<span id="cb9-7"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  filter(disp &gt;= 400)</span></span>
<span id="cb9-8"></span>
<span id="cb9-9"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">gt(df)</span></span>
<span id="cb9-10"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span>
<span id="cb9-11"></span>
<span id="cb9-12"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{.r code-line-numbers="|5|6"}</span></span>
<span id="cb9-13"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">library(tidyverse)</span></span>
<span id="cb9-14"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">library(gt)</span></span>
<span id="cb9-15"></span>
<span id="cb9-16"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">df &lt;- mtcars |&gt; </span></span>
<span id="cb9-17"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  select(1:5) |&gt; </span></span>
<span id="cb9-18"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  filter(disp &gt;= 400)</span></span>
<span id="cb9-19"></span>
<span id="cb9-20"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">gt(df)</span></span>
<span id="cb9-21"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div>
</div>
<p>このように <code>code-line-numbers</code> で指定することができます。<code>|5|6</code> は5行目と6行目が順にハイライトされるということですね。</p>
<p>他にも細やかな設定ができるので、Quarto の<a href="https://quarto.org/docs/presentations/revealjs/#code-blocks">公式ガイド</a>をご覧ください。</p>
</section>
<section id="図や表" class="level3">
<h3 class="anchored" data-anchor-id="図や表">図や表</h3>
<p>図や表がどのように表示されるのか見てみましょう。</p>
<p>デフォルトでは図のキャプションが左寄りになっていますが、中央になるように修正しています。</p>
<p>また、ここでは例としてコードを載せていますが、デフォルトではコード表示はオフです。表示したい場合はチャンク内で <code>echo: true</code> を設定してください<sup>5</sup>。</p>
<div>
<iframe class="slide-deck" src="demo/demo3/demo.html"></iframe>
</div>
</section>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">おわりに</h2>
<p>ここまで基本的な Quarto でのスライド作成についてご紹介しました。</p>
<p>ここを押さえておけばスライドを作る分には困らないのではないかと…思います。</p>
<p>他に使う要素があれば適宜追加していきます！</p>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>Python の場合は Jupyter↩︎</p></li>
<li id="fn2"><p>クローンするほどでもないので、ダウンロードでいいと思います。リポジトリ整えてなくてすみません^^;↩︎</p></li>
<li id="fn3"><p>私のテーマの場合↩︎</p></li>
<li id="fn4"><p><code>#</code> も使えるのですが、今回のテーマでの使用は想定していません。↩︎</p></li>
<li id="fn5"><p>チャンクオプションについて、詳しくは<a href="../240509_chunk_option/index.html">こちら</a>↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>Quarto</category>
  <category>Reveal.js</category>
  <category>R</category>
  <guid>https://yo5uke.github.io/tips/240512_revealjs/</guid>
  <pubDate>Sat, 11 May 2024 15:00:00 GMT</pubDate>
  <media:content url="https://yo5uke.github.io/tips/240512_revealjs/thumbnail.png" medium="image" type="image/png" height="87" width="144"/>
</item>
<item>
  <title>【Quarto】チャンクオプションまとめてみた【R Markdown】</title>
  <link>https://yo5uke.github.io/tips/240509_chunk_option/</link>
  <description><![CDATA[ 




<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">はじめに</h2>
<p>どうも Quarto ユーザーです。普段チャンクオプションをよく忘れるので、備忘録も兼ねてまとめます。おそらく R Markdown も同じです。</p>
<p>直感的な分かりやすさ重視です。</p>
<p>私が普段使うものに偏っているかもしれませんが、ご了承ください。</p>
</section>
<section id="前提" class="level2">
<h2 class="anchored" data-anchor-id="前提">前提</h2>
<p>Quarto でも R Markdown と同じようなチャンクオプションの書き方ができるのですが、ここでは Quarto 独自の書き方で進めます。</p>
<p>理由は単純に私が好んで使っているからです。</p>
<section id="r-markdown-の書き方" class="level3">
<h3 class="anchored" data-anchor-id="r-markdown-の書き方">R Markdown の書き方</h3>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R Markdown</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="R Markdown" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{r cars, echo=TRUE}</span></span>
<span id="cb1-2"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">plot(cars)</span></span>
<span id="cb1-3"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div>
</div>
<p><code>cars</code> の部分がチャンクのラベル（名前）、<code>echo=TRUE</code> の部分がチャンクオプションです。</p>
</section>
<section id="quarto-の書き方" class="level3">
<h3 class="anchored" data-anchor-id="quarto-の書き方">Quarto の書き方</h3>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Quarto</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename="Quarto" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```{r}</span></span>
<span id="cb2-2"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#| label: fig-cars</span></span>
<span id="cb2-3"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#| echo: true</span></span>
<span id="cb2-4"></span>
<span id="cb2-5"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">plot(cars)</span></span>
<span id="cb2-6"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```</span></span></code></pre></div>
</div>
<p>チャンク内で <code>#|</code> の後に書きます。ちなみに、こちらは TRUE や FALSE が小文字で大丈夫です。</p>
</section>
</section>
<section id="チャンクオプション" class="level2">
<h2 class="anchored" data-anchor-id="チャンクオプション">チャンクオプション</h2>
<section id="共通" class="level3">
<h3 class="anchored" data-anchor-id="共通">共通</h3>
<p>R Markdown と Quarto で共通のオプションをざっくり表にしました。 これを使えば普段は問題なさそうというものをピックアップしています。</p>
<table class="caption-top table">
<caption>チャンクオプションまとめ</caption>
<thead>
<tr class="header">
<th style="text-align: left;">オプション</th>
<th style="text-align: center;">デフォルト</th>
<th style="text-align: left;">効果</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>echo</code></td>
<td style="text-align: center;">TRUE</td>
<td style="text-align: left;"><ul>
<li>コードを出力に含めるか否か</li>
<li>FALSE にすると、実行結果のみが表示される</li>
</ul></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>include</code></td>
<td style="text-align: center;">TRUE</td>
<td style="text-align: left;"><ul>
<li>コード、結果を出力に含めるか否か</li>
<li>FALSE にすると、何も表示されない</li>
<li>パッケージの読み込みなど重要じゃない箇所で重宝</li>
</ul></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>warning</code></td>
<td style="text-align: center;">TRUE</td>
<td style="text-align: left;"><ul>
<li>警告を出力に表示するか否か</li>
<li>基本 FALSE が多い</li>
<li>グローバルに指定することが多い（後述）</li>
</ul></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>message</code></td>
<td style="text-align: center;">TRUE</td>
<td style="text-align: left;"><ul>
<li>メッセージを出力に表示するか否か</li>
<li>結果に付随してくる文を消すために FALSE が多い</li>
<li>グローバルに指定することが多い（後述）</li>
</ul></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>cache</code></td>
<td style="text-align: center;">FALSE</td>
<td style="text-align: left;"><ul>
<li>実行結果をキャッシュするか否か</li>
<li>TRUE にすると、結果が保存され2回目以降の出力が高速化</li>
<li>重い作業でコンパイルに時間がかかるときに使っている</li>
</ul></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>eval</code></td>
<td style="text-align: center;">TRUE</td>
<td style="text-align: left;"><ul>
<li>コードを実際に評価するか否か</li>
<li>コードを見せたいだけのときに FALSE にすると便利</li>
</ul></td>
</tr>
</tbody>
</table>
</section>
<section id="違うやつ" class="level3">
<h3 class="anchored" data-anchor-id="違うやつ">違うやつ</h3>
<p>よく使うものの中でもR Markdown と Quarto で異なるものをピックアップします。</p>
<ol type="1">
<li><p>fig 系</p>
<ul>
<li><p>R Markdown では <code>fig.cap</code></p></li>
<li><p>Quarto では <code>fig-cap</code></p></li>
<li><p>これ以外にも R Markdown はピリオドで、Quarto ではハイフンのものは多々あります。</p></li>
</ul></li>
<li><p>チャンクラベル<sup>1</sup></p>
<ul>
<li><p>R Markdown は <code>{r hogehoge}</code><sup>2</sup></p></li>
<li><p>Quarto はコード内で <code>#| label: fig-hogehoge</code></p>
<ul>
<li>ご覧の通り、Quarto の方は <code>fig-</code> を前に付ける必要があります<sup>3</sup>。</li>
</ul></li>
</ul></li>
</ol>
</section>
</section>
<section id="sec-global" class="level2">
<h2 class="anchored" data-anchor-id="sec-global">グローバルオプション</h2>
<p>全部の警告やメッセージを消したい、なんてこともよくあると思います。</p>
<p>R Markdown と Quarto でそれぞれやり方がありますのでご紹介します。</p>
<section id="r-markdown" class="level3">
<h3 class="anchored" data-anchor-id="r-markdown">R Markdown</h3>
<p>RStudio であれば新しい R Markdown ファイルを開くと既に出ていますが、以下の関数を使用します。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename="R" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">knitr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>opts_chunk<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">echo =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
</div>
<p>括弧内に、カンマで区切りながらオプションを TRUE, FALSE などで指定していきます。<code>echo</code> はデフォルトで TRUE なので、これだけなら無くても大丈夫です。笑</p>
<p>例えば、全てのコードについてコードは出力せず結果だけ出力し、警告やメッセージは非表示にするためには次のようにします。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode" id="cb4" data-filename="R" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">knitr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>opts_chunk<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">echo =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">warning =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">message =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span></code></pre></div>
</div>
</section>
<section id="quarto" class="level3">
<h3 class="anchored" data-anchor-id="quarto">Quarto</h3>
<p>Quarto では YAML ヘッダーで設定が可能です。YAML ヘッダーは Markdown ファイルを開いたときの最上部に出てくる <code>---</code> で囲まれた部分です。</p>
<p>次のように設定します。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>YAML ヘッダー</strong></pre>
</div>
<div class="sourceCode" id="cb5" data-filename="YAML ヘッダー" style="background: #f1f3f5;"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb5-1"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb5-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">title</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Untitled"</span></span>
<span id="cb5-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">format</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> html</span></span>
<span id="cb5-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">execute</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span></span>
<span id="cb5-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">echo</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">false</span></span>
<span id="cb5-6"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">warning</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">false</span></span>
<span id="cb5-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">message</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">false</span></span>
<span id="cb5-8"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">---</span></span></code></pre></div>
</div>
<p><code>execute:</code> で指定することができます。</p>
</section>
<section id="おわりに" class="level3">
<h3 class="anchored" data-anchor-id="おわりに">おわりに</h3>
<p>今回は私がよく使うチャンクオプションを中心にご紹介しました。</p>
<p>今後いろいろ使いながらアップデートしていきたいと思います。</p>
<p>ご参考になれば幸いです。</p>


<!-- -->

</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">注</h2>

<ol>
<li id="fn1"><p>相互参照のために使うので、必ずつけなければならないものではありません。相互参照については<a href="../240509_cross_reference/index.html">こちら</a>↩︎</p></li>
<li id="fn2"><p>スペースを空けてチャンクラベルを入力します。↩︎</p></li>
<li id="fn3"><p>表なら <code>tbl-hogehoge</code> とします。↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>R</category>
  <category>Quarto</category>
  <category>R Markdown</category>
  <category>備忘録</category>
  <guid>https://yo5uke.github.io/tips/240509_chunk_option/</guid>
  <pubDate>Wed, 08 May 2024 15:00:00 GMT</pubDate>
  <media:content url="https://yo5uke.github.io/tips/240509_chunk_option/thumbnail.png" medium="image" type="image/png" height="119" width="144"/>
</item>
</channel>
</rss>
