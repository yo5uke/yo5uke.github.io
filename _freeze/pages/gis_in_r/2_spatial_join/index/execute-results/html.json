{
  "hash": "3d3e07f47a8961dcae23fa3917178d40",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"空間結合\"\ndate: 2024-05-19\ndraft: true\n---\n\n\n\n# はじめに\n\n今回は空間結合についてまとめます。\n\n空間結合は、以下のような空間的な関係を利用します。\n\n1. 包含（Containment）\n\n    - あるフィーチャ^[ポイント（点）、ライン（線）、ポリゴン（面）などの地物]が他のフィーチャに完全に含まれている\n    \n2. 交差（Intersection）\n\n    - フィーチャが部分的に重なっている\n\n3. 距離（Distance）\n\n    - フィーチャから特定の範囲内にある\n    \n4. 隣接（Adjacency）\n\n    - フィーチャが隣接している\n\nこれらの関係性を利用して結合していきます。\n\n# 大阪府で実践\n\n今回は大阪府を例に、プロットしながら空間結合を実行します。\n\n## データのダウンロード\n\n### メッシュデータ\n\nメッシュデータを使用します。メッシュデータは、地理空間情報を格子状の区画（メッシュ）に分割して管理・解析するためのデータ形式です。種類として、500mメッシュや1kmメッシュなどがあります。\n\n1. [e-Stat](https://www.e-stat.go.jp/) にアクセスし、地図、境界データダウンロードと進む\n\n![](image/e-stat.png)\n\n2. メッシュの種類を選ぶ\n\n    - 小地域はメッシュではなく行政区域のデータ（市区町村や町丁・字など）です。\n    \n    - 今回は4次メッシュ（500mメッシュ）を使用するので、4次メッシュを選んでください。\n    \n3. 世界測地系平面直角座標系を選ぶ\n\n    - いろいろありますが、下から2番目のものを選んでください。\n    \n    - 座標系についてはまた別でまとめようと思います。\n    \n![世界測地系平面直角座標系を選ぶ](image/e-stat_shape.png)\n\n4. 大阪府に該当するメッシュを選ぶ\n\n    - 上の画像にも出ているような「都道府県で絞込みはコチラ」というバナーがあるので、そこから大阪府を選びます。\n\n5. ファイルをダウンロードして解凍\n    \n    - 「世界測地系平面直角座標系・Shapefile」をクリックするとダウンロードできます。\n    \n    - 表示されている2つ^[ダウンロードすると `HXYSWH5135` と `HXYSWH5235` という名前で表示されます。]をダウンロードして zip ファイルを展開し、フォルダの中身を「大阪府」フォルダに入れてください。\n    \n    - 現段階では以下のようなディレクトリを想定しています。\n\n```{.bash}\n/Working Directory\n├── /data\n│   └── /大阪府\n│       ├── /MESH05135.shp\n│       └── /MESH05235.shp\n└── /code\n    └── /this_code\n\n```\n\n## データの読み込み\n\n以下のコードで必要なライブラリとデータを読み込みます。\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(sf)\nlibrary(here)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}