{
  "hash": "b543aba2bf04892d12d90cbc9943be6c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"今年使ったツールを振り返る\"\ndescription: |\n  2025年に使ったツールを振り返ります。duckdb, polarsなど。\ndate: 2025-12-26\ncategories:\n  - R\n  - Python\n  - Positron\n  - SQL\n---\n\n## はじめに\n\nこんにちは。クリスマスも過ぎいよいよ年末感が出てきましたので、今回は2025年に使ったツールを振り返ってみたいと思います。\n\n## Positron\n\nまずはIDEのPositronです。Positronが正式にリリースされ、RとPythonの両方をサポートする強力なIDEとして注目を集めました。\n\nRStudioからの移行も割としやすく、VSCodeベースでありながらRStudioのような使い勝手を提供してくれます。\n\n個人的には拡張機能を通じてコードを書きやすくなったのが大きいと思います。GitHub Copilotも利用できますし、チャットをいちいちブラウザやアプリで開かなくてもIDE内で完結できるのは便利です。\n\nPositronについては以下の記事で詳しく紹介しています。\n\n::: {.callout-tip appearance=\"minimal\"}\n[Positronのおすすめ設定！【R | Python】](/pages/tips/2025/09/250901_positron_setting/index.qmd)\n:::\n\n## DuckDB\n\n続いて組み込み型データベースのDuckDBです。今年Rを使う仕事ではもれなく使っていたかもしれません。\n\nDuckDBはRやPythonでパッケージをインストールするだけで使うことができ、Rの場合は`dplyr`のような感覚でSQLクエリを実行できるのが魅力です。\n\nRのメモリに読み込まずにデータを読み込めるため、大規模データの処理にも向いています。\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(DBI)\nlibrary(dplyr)\n\n# DuckDBに接続\ncon <- dbConnect(duckdb::duckdb())\n\n# Rのメモリに読み込まずにCSVをクエリ可能\ntbl(con, \"read_csv('data/iris.csv')\") |>\n  filter(Species == \"setosa\") |>\n  collect()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 50 × 5\n   Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n          <dbl>       <dbl>        <dbl>       <dbl> <chr>  \n 1          5.1         3.5          1.4         0.2 setosa \n 2          4.9         3            1.4         0.2 setosa \n 3          4.7         3.2          1.3         0.2 setosa \n 4          4.6         3.1          1.5         0.2 setosa \n 5          5           3.6          1.4         0.2 setosa \n 6          5.4         3.9          1.7         0.4 setosa \n 7          4.6         3.4          1.4         0.3 setosa \n 8          5           3.4          1.5         0.2 setosa \n 9          4.4         2.9          1.4         0.2 setosa \n10          4.9         3.1          1.5         0.1 setosa \n# ℹ 40 more rows\n```\n\n\n:::\n:::\n\n\n`collect()`を実行するまではRのメモリにデータが読み込まれず、DuckDB上で実行されるため効率的です。`collect()`をして初めてRのメモリにデータが読み込まれます。\n\nDuckDBについては以下の記事で詳しく紹介していますので、よければご覧ください。\n\n::: {.callout-tip appearance=\"minimal\"}\n[DuckDBをRで使う【[duckplyr]{.fira-code}も】](/pages/tips/2025/09/250919_duckdb/index.qmd)\n:::\n\n## Polars\n\npolarsの発見は今年の大きな収穫でした。Pythonでデータ処理を行うためのライブラリでpandasと似ていますが、**爆速**です。\n\n速いので下処理はPythonでやってしまおうかなと思っているほどですが、幸いにもRからも`polars`および`tidypolars`パッケージを通じて利用可能です。\n\n特にtidypolarsはdplyrの多くの関数をサポートしており、これまでの使い方をしているだけで処理速度が向上します。対応していない関数は自動でdplyrにフォールバックするため、使い勝手も良好です。\n\n```r\nlibrary(tidyverse)\nlibrary(tidypolars) # 後に読み込み\n```\n\npolarsもtidypolarsもCRANには公開されていないのでインストールには一工夫必要ですが、以下の記事で詳しく紹介しています。\n\n::: {.callout-tip appearance=\"minimal\"}\n[【R】[polars]{.fira-code}でデータ処理を高速化する](/pages/tips/2025/11/251125_r_polars/index.qmd)\n:::\n\n余談ですが、自分はpolarsを「ポーラーズ」と読むものと思っていたのですが、先日Japan.Rに参加した際に登壇者の方が「ポーラス」と読んでらっしゃり、びっくりしました。ググったところだと、イギリス英語が「ポーラス」、アメリカ英語が「ポーラーズ」に近いかなと思います。開発チームはオランダにあるようなので、イギリス英語なのかもしれません。\n\n## PostgreSQL\n\n続いて、PostgreSQLです。学生時代はSQLに触る機会はなく、社会人になってから初めてSQLを使ったのですが、世界が広がりましたね。\n\nまず使っているデータの規模が学生時代とは違うので学生が使うべきかと聞かれると別に…という感じですが、個票データを使ったりする場合にはPostgreSQLのようなRDBMS（Relational Database Management System）が便利かなと思うようになりました。\n\nDuckDBとの使い分けはどうなんだよという話ですが、例えばDuckDBは組み込み型データベースなのでサーバーを立てる必要がなく、ローカルで完結するのが強みです。一方でPostgreSQLはサーバー型なので複数人でデータを共有したり、アクセス制御を行ったりするのに向いているのではないでしょうか。\n\nまた、PostgreSQLにはpgAdminのようなGUIツール^[GUIとはGraphical User Interfaceの略で、視覚的に操作できるインターフェースのことです。CSVファイルを生で見ても見にくいですが、Excelで開くと見やすくなるのと同じようなイメージです。]もあり、データのイメージを掴みやすいのも良い点です。\n\nさらに、個人的にはPostGISという地理空間データを扱う拡張機能が便利で、地理空間データをSQLで処理できるのが魅力です。Rだと重い処理もSQLで実行できるので効率的です。\n\nPostgreSQLについては以下の記事で詳しく紹介しています。\n\n::: {.callout-tip appearance=\"minimal\"}\n[【Windows】RとPostgreSQL中心の環境構築【GISも】](/pages/tips/2025/12/251201_env/index.qmd)\n:::\n\n## uv\n\n最近はPythonの仮想環境構築のため、Rust製のuvという仮想環境管理ツールを使い始めました。\n\nuvは非常に高速かつシンプルな設計で、プロジェクトごとに仮想環境を簡単に作成・管理できます。\n\n```bash\nuv init my_project\ncd my_project\n\nuv add pandas numpy\n```\n\nuvについては以下の記事で詳しく紹介しています。\n\n::: {.callout-tip appearance=\"minimal\"}\n[【renv】仮想環境を設定する【venv】](/pages/tips/2025/09/250926_virtual_environment/index.qmd#uvを使ったvenv環境の構築方法)\n:::\n\n## おわりに\n\nこれまでもちょこちょこ記事にしてきたので目新しいことは特にないのですが、2025年に使ったツールを振り返ってみました。\n\n新しいものはどんどん取り入れていきたいスタイルなので、来年も色々試していきたいと思います。もしおすすめのツール等あればぜひご教示いただきたいです。\n\n引き続きよろしくお願いいたします！",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}