{
  "hash": "0758bc4a6ff58b117fb0e9d992a4705f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 学生最後にやってみたかったこと\ndescription: |\n  ここから得られるエビデンスは特にないが。\ndate: 2025-03-31\ncode-fold: true\neditor: visual\ncanonical-url: https://yo5uke.com/pages/blog/2025/03/250331_hanzai/\naliases:\n- /pages/blog/250331_hanzai/index.html\n---\n## いよいよ学生が終わる\n\n今日は3月31日ということで、今日をもって正式に学生生活が終わる。まさか大学院まで行って勉強することになるとは思っていなかったが、思ったより頑張れたし、同期や先輩後輩、先生にも恵まれてうまいことやってこれたと思う。\n\nところで先日の卒業式、総長が感受性の話をされていたのだが、その中でフィルターバブルの話にもなった。僕自身はこの言葉はつい最近まで全く知らなかったのだが、日経に最近は普通に使われる～といったようなことが書いてあったので焦って調べたのがつい2週間くらい前だ。まぁそんなことはどうでもよくて、ともかく最近は自分もフィルターバブルの中にいたのだと気づいて大いに反省し、スマホもあまり触らなくなった（おかげでメンタルがやられなくて幸福度が上がった気がする）。しかしどうしても最後にXで見た論調で気になることがあって、最後にどうしてもそれだけ自分でデータを集めてみたくなった。\n\nそれは、\n\n「**（実質的な）移民を増やせば犯罪が増加する**」\n\nというものである。保守（というよりネトウヨ）がずっと言っていることだが、特に大した根拠も示されていないのに、もしかしたらそうなのかな…とかこれまた根拠のない不安を覚えていた（大体みな敵意がすさまじく、とにかくこれがメンタルヘルスに悪い）。\n\n僕はとにかくアカデミアの世界に疎いので、どうせこの手の研究はごまんとあるのだろうと思ってはいる。しかしデータを集める、可視化するというのがそもそも好きなのと、（おまけ程度だが）仕事でいろいろな国のデータを見ることになると思うのでその練習という意味合いもある。\n\n直感的には日本は世界最高水準に治安が良いので、在留外国人が増えたら異なる価値基準の人が増えて犯罪は増えそうだ。しかし、実際には外国人の犯罪率は高くないという記事も見たことがある。なので根拠のない思い込みという可能性が大いにあるのかもしれないとも思う。\n\n何はともあれ、この学生最後の春休み最終日という、明日の準備しろよと言う時間に急ぎデータを集めプロットしてみることにした。さすがに分析までは無理そうだ。開始は16時。朝早く起きていたのに思い出したのが遅かった…。\n\n## e-Statにあたってみる\n\n犯罪のデータなど見たことがなかったので、どのデータがよいのかもわからない。とりあえずe-Statで「犯罪」と打ち込んでヒットした犯罪統計をあたってみる。\n\nひとまず犯罪の種類ごとにデータがあったので、（レイプなどが増えるという話が特に吹き荒れているので）ひとまず不同意性交等のデータを集めてみた。不同意わいせつもあったのだが、とにかくデータが分析に不向きで時間がないため、このデータにした。こんなExcelファイル見て「ほぉほぉなるほど！」とかなる人いないのだから、せめて分析向きにしてほしい。切実に。\n\n![元データ](image/fudoi_seikou.png){fig-align=\"center\" width=\"80%\"}\n\nとりあえずコロナ前の2018年から2024年までのデータを収集した。\n\nあとは住民基本台帳から都道府県ごとの外国人人口を回収。同じく2018年から2024年。\n\n## 取り急ぎプロット\n\nとにかくデータ整備が煩わしく、思い立ってから整備を終えるだけで2時間近くかかってしまった。やっとデータフレーム化できたので、急いでプロットしてみよう。\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggrepel)\ndata_dir <- here::here(\"data/250331_hanzai\")\n\n# --------------------\n# 変数の整備\n# --------------------\ndf <- read_csv(file.path(data_dir, \"dataframe.csv\")) |>\n  mutate(\n    group = if_else(id_pref %in% c(13, 23, 27), as.factor(name_pref), \"other\"),\n    group_lab = if_else(\n      id_pref %in% c(13, 23, 27) & year == 2024,\n      name_pref,\n      NA_character_\n    )\n  )\n\n# --------------------\n# プロット\n# --------------------\nggplot(\n  df |> filter(id_pref %in% c(13, 23, 27)),\n  aes(x = year, y = ninchi_total, group = id_pref)\n) +\n  theme_minimal() +\n  theme(\n    panel.grid = element_blank(),\n    legend.position = \"none\"\n  ) +\n  geom_vline(\n    xintercept = seq(2018, 2024, by = 1),\n    color = \"gray91\",\n    linewidth = .6\n  ) +\n  geom_segment(\n    data = tibble(y = seq(0, 600, by = 200), x1 = 2018, x2 = 2024),\n    aes(x = x1, xend = x2, y = y, yend = y),\n    inherit.aes = FALSE,\n    color = \"gray91\",\n    linewidth = .6\n  ) +\n  geom_segment(\n    data = tibble(y = seq(100, 500, by = 200), x1 = 2018, x2 = 2024),\n    aes(x = x1, xend = x2, y = y, yend = y),\n    inherit.aes = FALSE,\n    color = \"gray93\",\n    linewidth = .4\n  ) +\n  geom_line(\n    data = df |> filter(group == \"other\"),\n    color = \"gray75\"\n  ) +\n  geom_line(\n    aes(color = group)\n  ) +\n  geom_text_repel(\n    aes(color = group, label = group_lab),\n    hjust = 0,\n    xlim = c(2024.4, NA),\n    size = 4,\n    segment.linetype = \"dotted\"\n  ) +\n  labs(x = \"年\", y = \"不同意性交等の認知件数\") +\n  scale_x_continuous(\n    expand = c(0, 0),\n    limits = c(2018, 2025),\n    breaks = seq(2018, 2024, by = 2)\n  ) +\n  scale_y_continuous(\n    expand = c(0, 0),\n    limits = c(0, 600),\n    breaks = seq(0, 600, by = 200)\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-1.png){fig-align='center' width=672}\n:::\n:::\n\n\nここまでプロットして、人口当たりにするのを忘れていたことに気づく…。そりゃ東京大阪名古屋が多いに決まってるよねー…という感じではある。\n\nしかし繰り返すが時間がない。ここで分かったこととしては、明確にコロナ以降に犯罪数が伸びていることである。東京なんかは前と比べて3倍弱になっているようだ。\n\nコロナで何かが変わったのか？という気がするが、ここで外国人が増えたからだとは論じることはできない。とはいえインバウンドが盛んになったのもコロナ以後であるから、犯罪が増加したのと時期が被っているのは確かなようである。\n\n## ここまできたら最後までやりたいが…\n\n今は19時15分。さっさと明日の準備して寝ないとという焦りも生じてきたので、せめて相関くらいは見ておこう。仕事が始まってもし時間ができたらさらに調べてみることにする。\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ndf_ratio <- df |>\n  filter(year %in% c(2018, 2024)) |>\n  select(id_pref, name_pref, year, ninchi_total, pop_gaikoku) |>\n  pivot_wider(\n    names_from = year,\n    values_from = c(ninchi_total, pop_gaikoku),\n    names_sep = \"\"\n  ) |>\n  mutate(\n    ninchi_inc = ninchi_total2024 / ninchi_total2018,\n    fpop_inc = pop_gaikoku2024 / pop_gaikoku2018\n  ) |>\n  select(ends_with(c(\"_pref\", \"_inc\")))\n\nggplot(df_ratio, aes(x = fpop_inc, y = ninchi_inc)) +\n  geom_point() +\n  xlab(\"外国人人口増加率\") +\n  ylab(\"不同意性交等罪認知件数増加率\") +\n  stat_smooth(method = lm, se = FALSE, color = \"darkgreen\") +\n  annotate(\"text\", x = 1.75, y = 11, label = \"R^2 == 0.088\", parse = TRUE) +\n  theme_bw()\n```\n\n::: {.cell-output-display}\n![2018年から2024年の増加率で見た相関](index_files/figure-html/unnamed-chunk-2-1.png){fig-align='center' width=672}\n:::\n:::\n\n\nまぁ、正の相関は見られるが、大して強くはないな。しかも思いついた変数同士で適当に見ただけだから特に説得力もない。やってみただけになってしまった…（はじめからそのつもりではあったのだが）。\n\n時間も時間なのでここが限界かもしれない。\n\n## 力尽きた\n\nこんな簡単なプロットでも数時間かかると思うと恐ろしいものだ。しかも説得力を持たせようと思ったらさらに入念に変数を検討して、適切な手法を用いて分析せねばならない。\n\n研究者とはすごいなと改めて思った。僕はどちらかというとその環境整備というか、もちろんRで分析カタカタすることもあるとは思うのだが、使いやすいデータを普及させたり、一般市民が社会問題の概要を適切に把握できるようなプロットを作成したいという思いがある。エビデンスという言葉は一見説得力があるが、なんだかほんとにわかってるのかなと、未熟な僕でも思うことがある。\n\n今日もプロットを作っていて、これをこう切って貼ったら信じちゃう人もいるんじゃないかと感じた。上のプロットだって大した検討もしていないのに、これだけ持ってやっぱり外国人が増えると犯罪が増えるじゃないかと主張できかねない。何事も妄信はいけないなと、なぜか春休みの最後に考えることとなった。\n\nともかく明日からは社会人。まずは見習いだが、自分でも納得がいくいい仕事をできるように頑張っていきたい。\n\n## 最後に\n\n春休みはShinyアプリケーションも作ってみた。[RESAS](https://resas.go.jp/)に感化されてRでもやれたらどうかと思い、勢いで3つくらい作った（ついでに久しぶりにRESASみたらだいぶアップデートされてた）。\n\n春休みの自由課題ということで、ここまで読んでくれた方にはぜひそちらも少し見ていってほしい。お願いします。\n\n::: {.callout-tip appearance=\"minimal\"}\n[Software](/pages/software/index.qmd)\n:::",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}